var bk=Object.defineProperty;var xk=(t,e,n)=>e in t?bk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>xk(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Ek(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ub={exports:{}},xh={},$b={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),Sk=Symbol.for("react.portal"),Ck=Symbol.for("react.fragment"),kk=Symbol.for("react.strict_mode"),Lk=Symbol.for("react.profiler"),Tk=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),Ak=Symbol.for("react.forward_ref"),Mk=Symbol.for("react.suspense"),Ik=Symbol.for("react.memo"),Rk=Symbol.for("react.lazy"),Mv=Symbol.iterator;function Ok(t){return t===null||typeof t!="object"?null:(t=Mv&&t[Mv]||t["@@iterator"],typeof t=="function"?t:null)}var Hb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wb=Object.assign,qb={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=qb,this.updater=n||Hb}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gb(){}Gb.prototype=Oo.prototype;function eg(t,e,n){this.props=t,this.context=e,this.refs=qb,this.updater=n||Hb}var tg=eg.prototype=new Gb;tg.constructor=eg;Wb(tg,Oo.prototype);tg.isPureReactComponent=!0;var Iv=Array.isArray,Kb=Object.prototype.hasOwnProperty,ng={current:null},Qb={key:!0,ref:!0,__self:!0,__source:!0};function Yb(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Kb.call(e,i)&&!Qb.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Ml,type:t,key:r,ref:o,props:s,_owner:ng.current}}function Dk(t,e){return{$$typeof:Ml,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ig(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ml}function Nk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rv=/\/+/g;function _d(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nk(""+t.key):e.toString(36)}function qu(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ml:case Sk:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+_d(o,0):i,Iv(s)?(n="",t!=null&&(n=t.replace(Rv,"$&/")+"/"),qu(s,e,n,"",function(u){return u})):s!=null&&(ig(s)&&(s=Dk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Rv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Iv(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+_d(r,a);o+=qu(r,e,n,l,s)}else if(l=Ok(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+_d(r,a++),o+=qu(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function au(t,e,n){if(t==null)return t;var i=[],s=0;return qu(t,i,"","",function(r){return e.call(n,r,s++)}),i}function Vk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Gu={transition:null},Fk={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:ng};function Xb(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:au,forEach:function(t,e,n){au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return au(t,function(){e++}),e},toArray:function(t){return au(t,function(e){return e})||[]},only:function(t){if(!ig(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Oo;be.Fragment=Ck;be.Profiler=Lk;be.PureComponent=eg;be.StrictMode=kk;be.Suspense=Mk;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;be.act=Xb;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Wb({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=ng.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kb.call(e,l)&&!Qb.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Ml,type:t.type,key:s,ref:r,props:i,_owner:o}};be.createContext=function(t){return t={$$typeof:Pk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tk,_context:t},t.Consumer=t};be.createElement=Yb;be.createFactory=function(t){var e=Yb.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:Ak,render:t}};be.isValidElement=ig;be.lazy=function(t){return{$$typeof:Rk,_payload:{_status:-1,_result:t},_init:Vk}};be.memo=function(t,e){return{$$typeof:Ik,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Gu.transition;Gu.transition={};try{t()}finally{Gu.transition=e}};be.unstable_act=Xb;be.useCallback=function(t,e){return rn.current.useCallback(t,e)};be.useContext=function(t){return rn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};be.useEffect=function(t,e){return rn.current.useEffect(t,e)};be.useId=function(){return rn.current.useId()};be.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return rn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};be.useRef=function(t){return rn.current.useRef(t)};be.useState=function(t){return rn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return rn.current.useTransition()};be.version="18.3.1";$b.exports=be;var v=$b.exports;const jk=Ek(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=v,zk=Symbol.for("react.element"),Uk=Symbol.for("react.fragment"),$k=Object.prototype.hasOwnProperty,Hk=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wk={key:!0,ref:!0,__self:!0,__source:!0};function Zb(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)$k.call(e,i)&&!Wk.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:zk,type:t,key:r,ref:o,props:s,_owner:Hk.current}}xh.Fragment=Uk;xh.jsx=Zb;xh.jsxs=Zb;Ub.exports=xh;var D=Ub.exports,xf={},Jb={exports:{}},Ln={},ex={exports:{}},tx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,W){var q=j.length;j.push(W);e:for(;0<q;){var te=q-1>>>1,ee=j[te];if(0<s(ee,W))j[te]=W,j[q]=ee,q=te;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var W=j[0],q=j.pop();if(q!==W){j[0]=q;e:for(var te=0,ee=j.length,Y=ee>>>1;te<Y;){var le=2*(te+1)-1,B=j[le],ce=le+1,ge=j[ce];if(0>s(B,q))ce<ee&&0>s(ge,B)?(j[te]=ge,j[ce]=q,te=ce):(j[te]=B,j[le]=q,te=le);else if(ce<ee&&0>s(ge,q))j[te]=ge,j[ce]=q,te=ce;else break e}}return W}function s(j,W){var q=j.sortIndex-W.sortIndex;return q!==0?q:j.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,g=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(j){for(var W=n(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=j)i(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function L(j){if(y=!1,k(j),!p)if(n(l)!==null)p=!0,Q(T);else{var W=n(u);W!==null&&ie(L,W.startTime-j)}}function T(j,W){p=!1,y&&(y=!1,x(E),E=-1),g=!0;var q=f;try{for(k(W),d=n(l);d!==null&&(!(d.expirationTime>W)||j&&!M());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var ee=te(d.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&i(l),k(W)}else i(l);d=n(l)}if(d!==null)var Y=!0;else{var le=n(u);le!==null&&ie(L,le.startTime-W),Y=!1}return Y}finally{d=null,f=q,g=!1}}var R=!1,S=null,E=-1,C=5,P=-1;function M(){return!(t.unstable_now()-P<C)}function O(){if(S!==null){var j=t.unstable_now();P=j;var W=!0;try{W=S(!0,j)}finally{W?I():(R=!1,S=null)}}else R=!1}var I;if(typeof _=="function")I=function(){_(O)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,K=J.port2;J.port1.onmessage=O,I=function(){K.postMessage(null)}}else I=function(){b(O,0)};function Q(j){S=j,R||(R=!0,I())}function ie(j,W){E=b(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,Q(T))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var q=f;f=W;try{return j()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=f;f=j;try{return W()}finally{f=q}},t.unstable_scheduleCallback=function(j,W,q){var te=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=q+ee,j={id:h++,callback:W,priorityLevel:j,startTime:q,expirationTime:ee,sortIndex:-1},q>te?(j.sortIndex=q,e(u,j),n(l)===null&&j===n(u)&&(y?(x(E),E=-1):y=!0,ie(L,q-te))):(j.sortIndex=ee,e(l,j),p||g||(p=!0,Q(T))),j},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(j){var W=f;return function(){var q=f;f=W;try{return j.apply(this,arguments)}finally{f=q}}}})(tx);ex.exports=tx;var qk=ex.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk=v,kn=qk;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nx=new Set,Ya={};function Mr(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(Ya[t]=e,t=0;t<e.length;t++)nx.add(e[t])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=Object.prototype.hasOwnProperty,Kk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ov={},Dv={};function Qk(t){return Ef.call(Dv,t)?!0:Ef.call(Ov,t)?!1:Kk.test(t)?Dv[t]=!0:(Ov[t]=!0,!1)}function Yk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xk(t,e,n,i){if(e===null||typeof e>"u"||Yk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var sg=/[\-:]([a-z])/g;function rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sg,rg);Bt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sg,rg);Bt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sg,rg);Bt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function og(t,e,n,i){var s=Bt.hasOwnProperty(e)?Bt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xk(e,n,s,i)&&(n=null),i||s===null?Qk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var qi=Gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),ix=Symbol.for("react.provider"),sx=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),Cf=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),rx=Symbol.for("react.offscreen"),Nv=Symbol.iterator;function Zo(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,wd;function ma(t){if(wd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wd=e&&e[1]||""}return`
`+wd+t}var bd=!1;function xd(t,e){if(!t||bd)return"";bd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ma(t):""}function Zk(t){switch(t.tag){case 5:return ma(t.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return t=xd(t.type,!1),t;case 11:return t=xd(t.type.render,!1),t;case 1:return t=xd(t.type,!0),t;default:return""}}function Lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gr:return"Fragment";case qr:return"Portal";case Sf:return"Profiler";case ag:return"StrictMode";case Cf:return"Suspense";case kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sx:return(t.displayName||"Context")+".Consumer";case ix:return(t._context.displayName||"Context")+".Provider";case lg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ug:return e=t.displayName||null,e!==null?e:Lf(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return Lf(t(e))}catch{}}return null}function Jk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lf(e);case 8:return e===ag?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ox(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eL(t){var e=ox(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uu(t){t._valueTracker||(t._valueTracker=eL(t))}function ax(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ox(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function _c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tf(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Is(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lx(t,e){e=e.checked,e!=null&&og(t,"checked",e,!1)}function Pf(t,e){lx(t,e);var n=Is(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Af(t,e.type,n):e.hasOwnProperty("defaultValue")&&Af(t,e.type,Is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Af(t,e,n){(e!=="number"||_c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var va=Array.isArray;function ro(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Is(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(va(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Is(n)}}function ux(t,e){var n=Is(e.value),i=Is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Bv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function If(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cu,hx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var La={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tL=["Webkit","ms","Moz","O"];Object.keys(La).forEach(function(t){tL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),La[e]=La[t]})});function dx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||La.hasOwnProperty(t)&&La[t]?(""+e).trim():e+"px"}function fx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=dx(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var nL=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rf(t,e){if(e){if(nL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Of(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=null;function cg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nf=null,oo=null,ao=null;function zv(t){if(t=Ol(t)){if(typeof Nf!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Lh(e),Nf(t.stateNode,t.type,e))}}function px(t){oo?ao?ao.push(t):ao=[t]:oo=t}function gx(){if(oo){var t=oo,e=ao;if(ao=oo=null,zv(t),e)for(t=0;t<e.length;t++)zv(e[t])}}function mx(t,e){return t(e)}function vx(){}var Ed=!1;function yx(t,e,n){if(Ed)return t(e,n);Ed=!0;try{return mx(t,e,n)}finally{Ed=!1,(oo!==null||ao!==null)&&(vx(),gx())}}function Za(t,e){var n=t.stateNode;if(n===null)return null;var i=Lh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Vf=!1;if(zi)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Vf=!1}function iL(t,e,n,i,s,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ta=!1,wc=null,bc=!1,Ff=null,sL={onError:function(t){Ta=!0,wc=t}};function rL(t,e,n,i,s,r,o,a,l){Ta=!1,wc=null,iL.apply(sL,arguments)}function oL(t,e,n,i,s,r,o,a,l){if(rL.apply(this,arguments),Ta){if(Ta){var u=wc;Ta=!1,wc=null}else throw Error(G(198));bc||(bc=!0,Ff=u)}}function Ir(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _x(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uv(t){if(Ir(t)!==t)throw Error(G(188))}function aL(t){var e=t.alternate;if(!e){if(e=Ir(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Uv(s),t;if(r===i)return Uv(s),e;r=r.sibling}throw Error(G(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==i)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function wx(t){return t=aL(t),t!==null?bx(t):null}function bx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bx(t);if(e!==null)return e;t=t.sibling}return null}var xx=kn.unstable_scheduleCallback,$v=kn.unstable_cancelCallback,lL=kn.unstable_shouldYield,uL=kn.unstable_requestPaint,pt=kn.unstable_now,cL=kn.unstable_getCurrentPriorityLevel,hg=kn.unstable_ImmediatePriority,Ex=kn.unstable_UserBlockingPriority,xc=kn.unstable_NormalPriority,hL=kn.unstable_LowPriority,Sx=kn.unstable_IdlePriority,Eh=null,yi=null;function dL(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(Eh,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:gL,fL=Math.log,pL=Math.LN2;function gL(t){return t>>>=0,t===0?32:31-(fL(t)/pL|0)|0}var hu=64,du=4194304;function ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ec(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=ya(a):(r&=o,r!==0&&(i=ya(r)))}else o=n&~s,o!==0?i=ya(o):r!==0&&(i=ya(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Jn(e),s=1<<n,i|=t[n],e&=~s;return i}function mL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vL(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Jn(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=mL(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function jf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cx(){var t=hu;return hu<<=1,!(hu&4194240)&&(hu=64),t}function Sd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function yL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jn(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function dg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Jn(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var De=0;function kx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lx,fg,Tx,Px,Ax,Bf=!1,fu=[],ws=null,bs=null,xs=null,Ja=new Map,el=new Map,us=[],_L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hv(t,e){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Ja.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(e.pointerId)}}function ea(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Ol(e),e!==null&&fg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wL(t,e,n,i,s){switch(e){case"focusin":return ws=ea(ws,t,e,n,i,s),!0;case"dragenter":return bs=ea(bs,t,e,n,i,s),!0;case"mouseover":return xs=ea(xs,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Ja.set(r,ea(Ja.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,el.set(r,ea(el.get(r)||null,t,e,n,i,s)),!0}return!1}function Mx(t){var e=ar(t.target);if(e!==null){var n=Ir(e);if(n!==null){if(e=n.tag,e===13){if(e=_x(n),e!==null){t.blockedOn=e,Ax(t.priority,function(){Tx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Df=i,n.target.dispatchEvent(i),Df=null}else return e=Ol(n),e!==null&&fg(e),t.blockedOn=n,!1;e.shift()}return!0}function Wv(t,e,n){Ku(t)&&n.delete(e)}function bL(){Bf=!1,ws!==null&&Ku(ws)&&(ws=null),bs!==null&&Ku(bs)&&(bs=null),xs!==null&&Ku(xs)&&(xs=null),Ja.forEach(Wv),el.forEach(Wv)}function ta(t,e){t.blockedOn===e&&(t.blockedOn=null,Bf||(Bf=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,bL)))}function tl(t){function e(s){return ta(s,t)}if(0<fu.length){ta(fu[0],t);for(var n=1;n<fu.length;n++){var i=fu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ws!==null&&ta(ws,t),bs!==null&&ta(bs,t),xs!==null&&ta(xs,t),Ja.forEach(e),el.forEach(e),n=0;n<us.length;n++)i=us[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)Mx(n),n.blockedOn===null&&us.shift()}var lo=qi.ReactCurrentBatchConfig,Sc=!0;function xL(t,e,n,i){var s=De,r=lo.transition;lo.transition=null;try{De=1,pg(t,e,n,i)}finally{De=s,lo.transition=r}}function EL(t,e,n,i){var s=De,r=lo.transition;lo.transition=null;try{De=4,pg(t,e,n,i)}finally{De=s,lo.transition=r}}function pg(t,e,n,i){if(Sc){var s=zf(t,e,n,i);if(s===null)Od(t,e,i,Cc,n),Hv(t,i);else if(wL(s,t,e,n,i))i.stopPropagation();else if(Hv(t,i),e&4&&-1<_L.indexOf(t)){for(;s!==null;){var r=Ol(s);if(r!==null&&Lx(r),r=zf(t,e,n,i),r===null&&Od(t,e,i,Cc,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Od(t,e,i,null,n)}}var Cc=null;function zf(t,e,n,i){if(Cc=null,t=cg(i),t=ar(t),t!==null)if(e=Ir(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_x(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function Ix(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cL()){case hg:return 1;case Ex:return 4;case xc:case hL:return 16;case Sx:return 536870912;default:return 16}default:return 16}}var hs=null,gg=null,Qu=null;function Rx(){if(Qu)return Qu;var t,e=gg,n=e.length,i,s="value"in hs?hs.value:hs.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Qu=s.slice(t,1<i?1-i:void 0)}function Yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pu(){return!0}function qv(){return!1}function Tn(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?pu:qv,this.isPropagationStopped=qv,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mg=Tn(Do),Rl=at({},Do,{view:0,detail:0}),SL=Tn(Rl),Cd,kd,na,Sh=at({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==na&&(na&&t.type==="mousemove"?(Cd=t.screenX-na.screenX,kd=t.screenY-na.screenY):kd=Cd=0,na=t),Cd)},movementY:function(t){return"movementY"in t?t.movementY:kd}}),Gv=Tn(Sh),CL=at({},Sh,{dataTransfer:0}),kL=Tn(CL),LL=at({},Rl,{relatedTarget:0}),Ld=Tn(LL),TL=at({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),PL=Tn(TL),AL=at({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ML=Tn(AL),IL=at({},Do,{data:0}),Kv=Tn(IL),RL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DL[t])?!!e[t]:!1}function vg(){return NL}var VL=at({},Rl,{key:function(t){if(t.key){var e=RL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vg,charCode:function(t){return t.type==="keypress"?Yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FL=Tn(VL),jL=at({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qv=Tn(jL),BL=at({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vg}),zL=Tn(BL),UL=at({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),$L=Tn(UL),HL=at({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WL=Tn(HL),qL=[9,13,27,32],yg=zi&&"CompositionEvent"in window,Pa=null;zi&&"documentMode"in document&&(Pa=document.documentMode);var GL=zi&&"TextEvent"in window&&!Pa,Ox=zi&&(!yg||Pa&&8<Pa&&11>=Pa),Yv=" ",Xv=!1;function Dx(t,e){switch(t){case"keyup":return qL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kr=!1;function KL(t,e){switch(t){case"compositionend":return Nx(e);case"keypress":return e.which!==32?null:(Xv=!0,Yv);case"textInput":return t=e.data,t===Yv&&Xv?null:t;default:return null}}function QL(t,e){if(Kr)return t==="compositionend"||!yg&&Dx(t,e)?(t=Rx(),Qu=gg=hs=null,Kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ox&&e.locale!=="ko"?null:e.data;default:return null}}var YL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YL[t.type]:e==="textarea"}function Vx(t,e,n,i){px(i),e=kc(e,"onChange"),0<e.length&&(n=new mg("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Aa=null,nl=null;function XL(t){Kx(t,0)}function Ch(t){var e=Xr(t);if(ax(e))return t}function ZL(t,e){if(t==="change")return e}var Fx=!1;if(zi){var Td;if(zi){var Pd="oninput"in document;if(!Pd){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),Pd=typeof Jv.oninput=="function"}Td=Pd}else Td=!1;Fx=Td&&(!document.documentMode||9<document.documentMode)}function ey(){Aa&&(Aa.detachEvent("onpropertychange",jx),nl=Aa=null)}function jx(t){if(t.propertyName==="value"&&Ch(nl)){var e=[];Vx(e,nl,t,cg(t)),yx(XL,e)}}function JL(t,e,n){t==="focusin"?(ey(),Aa=e,nl=n,Aa.attachEvent("onpropertychange",jx)):t==="focusout"&&ey()}function eT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ch(nl)}function tT(t,e){if(t==="click")return Ch(e)}function nT(t,e){if(t==="input"||t==="change")return Ch(e)}function iT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:iT;function il(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Ef.call(e,s)||!ni(t[s],e[s]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ny(t,e){var n=ty(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ty(n)}}function Bx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zx(){for(var t=window,e=_c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_c(t.document)}return e}function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sT(t){var e=zx(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bx(n.ownerDocument.documentElement,n)){if(i!==null&&_g(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=ny(n,r);var o=ny(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rT=zi&&"documentMode"in document&&11>=document.documentMode,Qr=null,Uf=null,Ma=null,$f=!1;function iy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$f||Qr==null||Qr!==_c(i)||(i=Qr,"selectionStart"in i&&_g(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ma&&il(Ma,i)||(Ma=i,i=kc(Uf,"onSelect"),0<i.length&&(e=new mg("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Qr)))}function gu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yr={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Ad={},Ux={};zi&&(Ux=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function kh(t){if(Ad[t])return Ad[t];if(!Yr[t])return t;var e=Yr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ux)return Ad[t]=e[n];return t}var $x=kh("animationend"),Hx=kh("animationiteration"),Wx=kh("animationstart"),qx=kh("transitionend"),Gx=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(t,e){Gx.set(t,e),Mr(e,[t])}for(var Md=0;Md<sy.length;Md++){var Id=sy[Md],oT=Id.toLowerCase(),aT=Id[0].toUpperCase()+Id.slice(1);Bs(oT,"on"+aT)}Bs($x,"onAnimationEnd");Bs(Hx,"onAnimationIteration");Bs(Wx,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(qx,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lT=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function ry(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,oL(i,e,void 0,t),t.currentTarget=null}function Kx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;ry(s,a,u),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;ry(s,a,u),r=l}}}if(bc)throw t=Ff,bc=!1,Ff=null,t}function qe(t,e){var n=e[Kf];n===void 0&&(n=e[Kf]=new Set);var i=t+"__bubble";n.has(i)||(Qx(e,t,2,!1),n.add(i))}function Rd(t,e,n){var i=0;e&&(i|=4),Qx(n,t,i,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function sl(t){if(!t[mu]){t[mu]=!0,nx.forEach(function(n){n!=="selectionchange"&&(lT.has(n)||Rd(n,!1,t),Rd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,Rd("selectionchange",!1,e))}}function Qx(t,e,n,i){switch(Ix(e)){case 1:var s=xL;break;case 4:s=EL;break;default:s=pg}n=s.bind(null,e,n,t),s=void 0,!Vf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Od(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ar(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}yx(function(){var u=r,h=cg(n),d=[];e:{var f=Gx.get(t);if(f!==void 0){var g=mg,p=t;switch(t){case"keypress":if(Yu(n)===0)break e;case"keydown":case"keyup":g=FL;break;case"focusin":p="focus",g=Ld;break;case"focusout":p="blur",g=Ld;break;case"beforeblur":case"afterblur":g=Ld;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zL;break;case $x:case Hx:case Wx:g=PL;break;case qx:g=$L;break;case"scroll":g=SL;break;case"wheel":g=WL;break;case"copy":case"cut":case"paste":g=ML;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Qv}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var _=u,k;_!==null;){k=_;var L=k.stateNode;if(k.tag===5&&L!==null&&(k=L,x!==null&&(L=Za(_,x),L!=null&&y.push(rl(_,L,k)))),b)break;_=_.return}0<y.length&&(f=new g(f,p,null,n,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Df&&(p=n.relatedTarget||n.fromElement)&&(ar(p)||p[Ui]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?ar(p):null,p!==null&&(b=Ir(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(y=Gv,L="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=Qv,L="onPointerLeave",x="onPointerEnter",_="pointer"),b=g==null?f:Xr(g),k=p==null?f:Xr(p),f=new y(L,_+"leave",g,n,h),f.target=b,f.relatedTarget=k,L=null,ar(h)===u&&(y=new y(x,_+"enter",p,n,h),y.target=k,y.relatedTarget=b,L=y),b=L,g&&p)t:{for(y=g,x=p,_=0,k=y;k;k=zr(k))_++;for(k=0,L=x;L;L=zr(L))k++;for(;0<_-k;)y=zr(y),_--;for(;0<k-_;)x=zr(x),k--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=zr(y),x=zr(x)}y=null}else y=null;g!==null&&oy(d,f,g,y,!1),p!==null&&b!==null&&oy(d,b,p,y,!0)}}e:{if(f=u?Xr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=ZL;else if(Zv(f))if(Fx)T=nT;else{T=eT;var R=JL}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=tT);if(T&&(T=T(t,u))){Vx(d,T,n,h);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Af(f,"number",f.value)}switch(R=u?Xr(u):window,t){case"focusin":(Zv(R)||R.contentEditable==="true")&&(Qr=R,Uf=u,Ma=null);break;case"focusout":Ma=Uf=Qr=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,iy(d,n,h);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":iy(d,n,h)}var S;if(yg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Kr?Dx(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ox&&n.locale!=="ko"&&(Kr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Kr&&(S=Rx()):(hs=h,gg="value"in hs?hs.value:hs.textContent,Kr=!0)),R=kc(u,E),0<R.length&&(E=new Kv(E,t,null,n,h),d.push({event:E,listeners:R}),S?E.data=S:(S=Nx(n),S!==null&&(E.data=S)))),(S=GL?KL(t,n):QL(t,n))&&(u=kc(u,"onBeforeInput"),0<u.length&&(h=new Kv("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=S))}Kx(d,e)})}function rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Za(t,n),r!=null&&i.unshift(rl(t,r,s)),r=Za(t,e),r!=null&&i.push(rl(t,r,s))),t=t.return}return i}function zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oy(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,s?(l=Za(n,r),l!=null&&o.unshift(rl(n,l,a))):s||(l=Za(n,r),l!=null&&o.push(rl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function ay(t){return(typeof t=="string"?t:""+t).replace(uT,`
`).replace(cT,"")}function vu(t,e,n){if(e=ay(e),ay(t)!==e&&n)throw Error(G(425))}function Lc(){}var Hf=null,Wf=null;function qf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,dT=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(fT)}:Gf;function fT(t){setTimeout(function(){throw t})}function Dd(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),tl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);tl(e)}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),vi="__reactFiber$"+No,ol="__reactProps$"+No,Ui="__reactContainer$"+No,Kf="__reactEvents$"+No,pT="__reactListeners$"+No,gT="__reactHandles$"+No;function ar(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ui]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uy(t);t!==null;){if(n=t[vi])return n;t=uy(t)}return e}t=n,n=t.parentNode}return null}function Ol(t){return t=t[vi]||t[Ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Lh(t){return t[ol]||null}var Qf=[],Zr=-1;function zs(t){return{current:t}}function Ge(t){0>Zr||(t.current=Qf[Zr],Qf[Zr]=null,Zr--)}function ze(t,e){Zr++,Qf[Zr]=t.current,t.current=e}var Rs={},en=zs(Rs),dn=zs(!1),_r=Rs;function yo(t,e){var n=t.type.contextTypes;if(!n)return Rs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fn(t){return t=t.childContextTypes,t!=null}function Tc(){Ge(dn),Ge(en)}function cy(t,e,n){if(en.current!==Rs)throw Error(G(168));ze(en,e),ze(dn,n)}function Yx(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(G(108,Jk(t)||"Unknown",s));return at({},n,i)}function Pc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rs,_r=en.current,ze(en,t),ze(dn,dn.current),!0}function hy(t,e,n){var i=t.stateNode;if(!i)throw Error(G(169));n?(t=Yx(t,e,_r),i.__reactInternalMemoizedMergedChildContext=t,Ge(dn),Ge(en),ze(en,t)):Ge(dn),ze(dn,n)}var Ai=null,Th=!1,Nd=!1;function Xx(t){Ai===null?Ai=[t]:Ai.push(t)}function mT(t){Th=!0,Xx(t)}function Us(){if(!Nd&&Ai!==null){Nd=!0;var t=0,e=De;try{var n=Ai;for(De=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ai=null,Th=!1}catch(s){throw Ai!==null&&(Ai=Ai.slice(t+1)),xx(hg,Us),s}finally{De=e,Nd=!1}}return null}var Jr=[],eo=0,Ac=null,Mc=0,Rn=[],On=0,wr=null,Ii=1,Ri="";function tr(t,e){Jr[eo++]=Mc,Jr[eo++]=Ac,Ac=t,Mc=e}function Zx(t,e,n){Rn[On++]=Ii,Rn[On++]=Ri,Rn[On++]=wr,wr=t;var i=Ii;t=Ri;var s=32-Jn(i)-1;i&=~(1<<s),n+=1;var r=32-Jn(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Ii=1<<32-Jn(e)+s|n<<s|i,Ri=r+t}else Ii=1<<r|n<<s|i,Ri=t}function wg(t){t.return!==null&&(tr(t,1),Zx(t,1,0))}function bg(t){for(;t===Ac;)Ac=Jr[--eo],Jr[eo]=null,Mc=Jr[--eo],Jr[eo]=null;for(;t===wr;)wr=Rn[--On],Rn[On]=null,Ri=Rn[--On],Rn[On]=null,Ii=Rn[--On],Rn[On]=null}var Cn=null,Sn=null,Xe=!1,Gn=null;function Jx(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,Sn=Es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wr!==null?{id:Ii,overflow:Ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,Sn=null,!0):!1;default:return!1}}function Yf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xf(t){if(Xe){var e=Sn;if(e){var n=e;if(!dy(t,e)){if(Yf(t))throw Error(G(418));e=Es(n.nextSibling);var i=Cn;e&&dy(t,e)?Jx(i,n):(t.flags=t.flags&-4097|2,Xe=!1,Cn=t)}}else{if(Yf(t))throw Error(G(418));t.flags=t.flags&-4097|2,Xe=!1,Cn=t}}}function fy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function yu(t){if(t!==Cn)return!1;if(!Xe)return fy(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qf(t.type,t.memoizedProps)),e&&(e=Sn)){if(Yf(t))throw eE(),Error(G(418));for(;e;)Jx(t,e),e=Es(e.nextSibling)}if(fy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=Cn?Es(t.stateNode.nextSibling):null;return!0}function eE(){for(var t=Sn;t;)t=Es(t.nextSibling)}function _o(){Sn=Cn=null,Xe=!1}function xg(t){Gn===null?Gn=[t]:Gn.push(t)}var vT=qi.ReactCurrentBatchConfig;function ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var i=n.stateNode}if(!i)throw Error(G(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function _u(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function py(t){var e=t._init;return e(t._payload)}function tE(t){function e(x,_){if(t){var k=x.deletions;k===null?(x.deletions=[_],x.flags|=16):k.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function i(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function s(x,_){return x=Ls(x,_),x.index=0,x.sibling=null,x}function r(x,_,k){return x.index=k,t?(k=x.alternate,k!==null?(k=k.index,k<_?(x.flags|=2,_):k):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,k,L){return _===null||_.tag!==6?(_=$d(k,x.mode,L),_.return=x,_):(_=s(_,k),_.return=x,_)}function l(x,_,k,L){var T=k.type;return T===Gr?h(x,_,k.props.children,L,k.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===os&&py(T)===_.type)?(L=s(_,k.props),L.ref=ia(x,_,k),L.return=x,L):(L=ic(k.type,k.key,k.props,null,x.mode,L),L.ref=ia(x,_,k),L.return=x,L)}function u(x,_,k,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=Hd(k,x.mode,L),_.return=x,_):(_=s(_,k.children||[]),_.return=x,_)}function h(x,_,k,L,T){return _===null||_.tag!==7?(_=fr(k,x.mode,L,T),_.return=x,_):(_=s(_,k),_.return=x,_)}function d(x,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return _=$d(""+_,x.mode,k),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lu:return k=ic(_.type,_.key,_.props,null,x.mode,k),k.ref=ia(x,null,_),k.return=x,k;case qr:return _=Hd(_,x.mode,k),_.return=x,_;case os:var L=_._init;return d(x,L(_._payload),k)}if(va(_)||Zo(_))return _=fr(_,x.mode,k,null),_.return=x,_;_u(x,_)}return null}function f(x,_,k,L){var T=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return T!==null?null:a(x,_,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case lu:return k.key===T?l(x,_,k,L):null;case qr:return k.key===T?u(x,_,k,L):null;case os:return T=k._init,f(x,_,T(k._payload),L)}if(va(k)||Zo(k))return T!==null?null:h(x,_,k,L,null);_u(x,k)}return null}function g(x,_,k,L,T){if(typeof L=="string"&&L!==""||typeof L=="number")return x=x.get(k)||null,a(_,x,""+L,T);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case lu:return x=x.get(L.key===null?k:L.key)||null,l(_,x,L,T);case qr:return x=x.get(L.key===null?k:L.key)||null,u(_,x,L,T);case os:var R=L._init;return g(x,_,k,R(L._payload),T)}if(va(L)||Zo(L))return x=x.get(k)||null,h(_,x,L,T,null);_u(_,L)}return null}function p(x,_,k,L){for(var T=null,R=null,S=_,E=_=0,C=null;S!==null&&E<k.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var P=f(x,S,k[E],L);if(P===null){S===null&&(S=C);break}t&&S&&P.alternate===null&&e(x,S),_=r(P,_,E),R===null?T=P:R.sibling=P,R=P,S=C}if(E===k.length)return n(x,S),Xe&&tr(x,E),T;if(S===null){for(;E<k.length;E++)S=d(x,k[E],L),S!==null&&(_=r(S,_,E),R===null?T=S:R.sibling=S,R=S);return Xe&&tr(x,E),T}for(S=i(x,S);E<k.length;E++)C=g(S,x,E,k[E],L),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),_=r(C,_,E),R===null?T=C:R.sibling=C,R=C);return t&&S.forEach(function(M){return e(x,M)}),Xe&&tr(x,E),T}function y(x,_,k,L){var T=Zo(k);if(typeof T!="function")throw Error(G(150));if(k=T.call(k),k==null)throw Error(G(151));for(var R=T=null,S=_,E=_=0,C=null,P=k.next();S!==null&&!P.done;E++,P=k.next()){S.index>E?(C=S,S=null):C=S.sibling;var M=f(x,S,P.value,L);if(M===null){S===null&&(S=C);break}t&&S&&M.alternate===null&&e(x,S),_=r(M,_,E),R===null?T=M:R.sibling=M,R=M,S=C}if(P.done)return n(x,S),Xe&&tr(x,E),T;if(S===null){for(;!P.done;E++,P=k.next())P=d(x,P.value,L),P!==null&&(_=r(P,_,E),R===null?T=P:R.sibling=P,R=P);return Xe&&tr(x,E),T}for(S=i(x,S);!P.done;E++,P=k.next())P=g(S,x,E,P.value,L),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?E:P.key),_=r(P,_,E),R===null?T=P:R.sibling=P,R=P);return t&&S.forEach(function(O){return e(x,O)}),Xe&&tr(x,E),T}function b(x,_,k,L){if(typeof k=="object"&&k!==null&&k.type===Gr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case lu:e:{for(var T=k.key,R=_;R!==null;){if(R.key===T){if(T=k.type,T===Gr){if(R.tag===7){n(x,R.sibling),_=s(R,k.props.children),_.return=x,x=_;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===os&&py(T)===R.type){n(x,R.sibling),_=s(R,k.props),_.ref=ia(x,R,k),_.return=x,x=_;break e}n(x,R);break}else e(x,R);R=R.sibling}k.type===Gr?(_=fr(k.props.children,x.mode,L,k.key),_.return=x,x=_):(L=ic(k.type,k.key,k.props,null,x.mode,L),L.ref=ia(x,_,k),L.return=x,x=L)}return o(x);case qr:e:{for(R=k.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){n(x,_.sibling),_=s(_,k.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Hd(k,x.mode,L),_.return=x,x=_}return o(x);case os:return R=k._init,b(x,_,R(k._payload),L)}if(va(k))return p(x,_,k,L);if(Zo(k))return y(x,_,k,L);_u(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,_!==null&&_.tag===6?(n(x,_.sibling),_=s(_,k),_.return=x,x=_):(n(x,_),_=$d(k,x.mode,L),_.return=x,x=_),o(x)):n(x,_)}return b}var wo=tE(!0),nE=tE(!1),Ic=zs(null),Rc=null,to=null,Eg=null;function Sg(){Eg=to=Rc=null}function Cg(t){var e=Ic.current;Ge(Ic),t._currentValue=e}function Zf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){Rc=t,Eg=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(Eg!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(Rc===null)throw Error(G(308));to=t,Rc.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var lr=null;function kg(t){lr===null?lr=[t]:lr.push(t)}function iE(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,kg(e)):(n.next=s.next,s.next=n),e.interleaved=n,$i(t,i)}function $i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var as=!1;function Lg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Pe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,$i(t,n)}return s=i.interleaved,s===null?(e.next=e,kg(i)):(e.next=s.next,s.next=e),i.interleaved=e,$i(t,n)}function Xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dg(t,n)}}function gy(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oc(t,e,n,i){var s=t.updateQueue;as=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?r=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(r!==null){var d=s.baseState;o=0,h=u=l=null,a=r;do{var f=a.lane,g=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(f=e,g=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(g,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(g,d,f):p,f==null)break e;d=at({},d,f);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);xr|=o,t.lanes=o,t.memoizedState=d}}function my(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(G(191,s));s.call(i)}}}var Dl={},_i=zs(Dl),al=zs(Dl),ll=zs(Dl);function ur(t){if(t===Dl)throw Error(G(174));return t}function Tg(t,e){switch(ze(ll,e),ze(al,t),ze(_i,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:If(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=If(e,t)}Ge(_i),ze(_i,e)}function bo(){Ge(_i),Ge(al),Ge(ll)}function rE(t){ur(ll.current);var e=ur(_i.current),n=If(e,t.type);e!==n&&(ze(al,t),ze(_i,n))}function Pg(t){al.current===t&&(Ge(_i),Ge(al))}var it=zs(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vd=[];function Ag(){for(var t=0;t<Vd.length;t++)Vd[t]._workInProgressVersionPrimary=null;Vd.length=0}var Zu=qi.ReactCurrentDispatcher,Fd=qi.ReactCurrentBatchConfig,br=0,rt=null,xt=null,Tt=null,Nc=!1,Ia=!1,ul=0,yT=0;function $t(){throw Error(G(321))}function Mg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ni(t[n],e[n]))return!1;return!0}function Ig(t,e,n,i,s,r){if(br=r,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zu.current=t===null||t.memoizedState===null?xT:ET,t=n(i,s),Ia){r=0;do{if(Ia=!1,ul=0,25<=r)throw Error(G(301));r+=1,Tt=xt=null,e.updateQueue=null,Zu.current=ST,t=n(i,s)}while(Ia)}if(Zu.current=Vc,e=xt!==null&&xt.next!==null,br=0,Tt=xt=rt=null,Nc=!1,e)throw Error(G(300));return t}function Rg(){var t=ul!==0;return ul=0,t}function pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?rt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Fn(){if(xt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Tt===null?rt.memoizedState:Tt.next;if(e!==null)Tt=e,xt=t;else{if(t===null)throw Error(G(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Tt===null?rt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function cl(t,e){return typeof e=="function"?e(t):e}function jd(t){var e=Fn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var i=xt,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,u=r;do{var h=u.lane;if((br&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,rt.lanes|=h,xr|=h}u=u.next}while(u!==null&&u!==r);l===null?o=i:l.next=a,ni(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,rt.lanes|=r,xr|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bd(t){var e=Fn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);ni(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function oE(){}function aE(t,e){var n=rt,i=Fn(),s=e(),r=!ni(i.memoizedState,s);if(r&&(i.memoizedState=s,hn=!0),i=i.queue,Og(cE.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,hl(9,uE.bind(null,n,i,s,e),void 0,null),Mt===null)throw Error(G(349));br&30||lE(n,e,s)}return s}function lE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uE(t,e,n,i){e.value=n,e.getSnapshot=i,hE(e)&&dE(t)}function cE(t,e,n){return n(function(){hE(e)&&dE(t)})}function hE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ni(t,n)}catch{return!0}}function dE(t){var e=$i(t,1);e!==null&&ei(e,t,1,-1)}function vy(t){var e=pi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},e.queue=t,t=t.dispatch=bT.bind(null,rt,t),[e.memoizedState,t]}function hl(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function fE(){return Fn().memoizedState}function Ju(t,e,n,i){var s=pi();rt.flags|=t,s.memoizedState=hl(1|e,n,void 0,i===void 0?null:i)}function Ph(t,e,n,i){var s=Fn();i=i===void 0?null:i;var r=void 0;if(xt!==null){var o=xt.memoizedState;if(r=o.destroy,i!==null&&Mg(i,o.deps)){s.memoizedState=hl(e,n,r,i);return}}rt.flags|=t,s.memoizedState=hl(1|e,n,r,i)}function yy(t,e){return Ju(8390656,8,t,e)}function Og(t,e){return Ph(2048,8,t,e)}function pE(t,e){return Ph(4,2,t,e)}function gE(t,e){return Ph(4,4,t,e)}function mE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vE(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4,4,mE.bind(null,e,t),n)}function Dg(){}function yE(t,e){var n=Fn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Mg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function _E(t,e){var n=Fn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Mg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function wE(t,e,n){return br&21?(ni(n,e)||(n=Cx(),rt.lanes|=n,xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function _T(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var i=Fd.transition;Fd.transition={};try{t(!1),e()}finally{De=n,Fd.transition=i}}function bE(){return Fn().memoizedState}function wT(t,e,n){var i=ks(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},xE(t))EE(e,n);else if(n=iE(t,e,n,i),n!==null){var s=sn();ei(n,t,i,s),SE(n,e,i)}}function bT(t,e,n){var i=ks(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(xE(t))EE(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,ni(a,o)){var l=e.interleaved;l===null?(s.next=s,kg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=iE(t,e,s,i),n!==null&&(s=sn(),ei(n,t,i,s),SE(n,e,i))}}function xE(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function EE(t,e){Ia=Nc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dg(t,n)}}var Vc={readContext:Vn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},xT={readContext:Vn,useCallback:function(t,e){return pi().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:yy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4194308,4,mE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ju(4,2,t,e)},useMemo:function(t,e){var n=pi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=pi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=wT.bind(null,rt,t),[i.memoizedState,t]},useRef:function(t){var e=pi();return t={current:t},e.memoizedState=t},useState:vy,useDebugValue:Dg,useDeferredValue:function(t){return pi().memoizedState=t},useTransition:function(){var t=vy(!1),e=t[0];return t=_T.bind(null,t[1]),pi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=rt,s=pi();if(Xe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Mt===null)throw Error(G(349));br&30||lE(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,yy(cE.bind(null,i,r,t),[t]),i.flags|=2048,hl(9,uE.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=pi(),e=Mt.identifierPrefix;if(Xe){var n=Ri,i=Ii;n=(i&~(1<<32-Jn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ET={readContext:Vn,useCallback:yE,useContext:Vn,useEffect:Og,useImperativeHandle:vE,useInsertionEffect:pE,useLayoutEffect:gE,useMemo:_E,useReducer:jd,useRef:fE,useState:function(){return jd(cl)},useDebugValue:Dg,useDeferredValue:function(t){var e=Fn();return wE(e,xt.memoizedState,t)},useTransition:function(){var t=jd(cl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:oE,useSyncExternalStore:aE,useId:bE,unstable_isNewReconciler:!1},ST={readContext:Vn,useCallback:yE,useContext:Vn,useEffect:Og,useImperativeHandle:vE,useInsertionEffect:pE,useLayoutEffect:gE,useMemo:_E,useReducer:Bd,useRef:fE,useState:function(){return Bd(cl)},useDebugValue:Dg,useDeferredValue:function(t){var e=Fn();return xt===null?e.memoizedState=t:wE(e,xt.memoizedState,t)},useTransition:function(){var t=Bd(cl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:oE,useSyncExternalStore:aE,useId:bE,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ah={isMounted:function(t){return(t=t._reactInternals)?Ir(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=sn(),s=ks(t),r=Vi(i,s);r.payload=e,n!=null&&(r.callback=n),e=Ss(t,r,s),e!==null&&(ei(e,t,s,i),Xu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=sn(),s=ks(t),r=Vi(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ss(t,r,s),e!==null&&(ei(e,t,s,i),Xu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),i=ks(t),s=Vi(n,i);s.tag=2,e!=null&&(s.callback=e),e=Ss(t,s,i),e!==null&&(ei(e,t,i,n),Xu(e,t,i))}};function _y(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!il(n,i)||!il(s,r):!0}function CE(t,e,n){var i=!1,s=Rs,r=e.contextType;return typeof r=="object"&&r!==null?r=Vn(r):(s=fn(e)?_r:en.current,i=e.contextTypes,r=(i=i!=null)?yo(t,s):Rs),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ah,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function wy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ah.enqueueReplaceState(e,e.state,null)}function ep(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Lg(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Vn(r):(r=fn(e)?_r:en.current,s.context=yo(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Jf(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ah.enqueueReplaceState(s,s.state,null),Oc(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var n="",i=e;do n+=Zk(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function kE(t,e,n){n=Vi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){jc||(jc=!0,hp=i),tp(t,e)},n}function LE(t,e,n){n=Vi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){tp(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){tp(t,e),typeof i!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function by(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new CT;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=jT.bind(null,t,e,n),e.then(t,t))}function xy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ey(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vi(-1,1),e.tag=2,Ss(n,e,1))),n.lanes|=1),t)}var kT=qi.ReactCurrentOwner,hn=!1;function nn(t,e,n,i){e.child=t===null?nE(e,null,n,i):wo(e,t.child,n,i)}function Sy(t,e,n,i,s){n=n.render;var r=e.ref;return uo(e,s),i=Ig(t,e,n,i,r,s),n=Rg(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hi(t,e,s)):(Xe&&n&&wg(e),e.flags|=1,nn(t,e,i,s),e.child)}function Cy(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!$g(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,TE(t,e,r,i,s)):(t=ic(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:il,n(o,i)&&t.ref===e.ref)return Hi(t,e,s)}return e.flags|=1,t=Ls(r,i),t.ref=e.ref,t.return=e,e.child=t}function TE(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(il(r,i)&&t.ref===e.ref)if(hn=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Hi(t,e,s)}return np(t,e,n,i,s)}function PE(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(io,xn),xn|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(io,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,ze(io,xn),xn|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,ze(io,xn),xn|=i;return nn(t,e,s,n),e.child}function AE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function np(t,e,n,i,s){var r=fn(n)?_r:en.current;return r=yo(e,r),uo(e,s),n=Ig(t,e,n,i,r,s),i=Rg(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hi(t,e,s)):(Xe&&i&&wg(e),e.flags|=1,nn(t,e,n,s),e.child)}function ky(t,e,n,i,s){if(fn(n)){var r=!0;Pc(e)}else r=!1;if(uo(e,s),e.stateNode===null)ec(t,e),CE(e,n,i),ep(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=fn(n)?_r:en.current,u=yo(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&wy(e,o,i,u),as=!1;var f=e.memoizedState;o.state=f,Oc(e,i,o,s),l=e.memoizedState,a!==i||f!==l||dn.current||as?(typeof h=="function"&&(Jf(e,n,h,i),l=e.memoizedState),(a=as||_y(e,n,a,i,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,sE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=fn(n)?_r:en.current,l=yo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&wy(e,o,i,l),as=!1,f=e.memoizedState,o.state=f,Oc(e,i,o,s);var p=e.memoizedState;a!==d||f!==p||dn.current||as?(typeof g=="function"&&(Jf(e,n,g,i),p=e.memoizedState),(u=as||_y(e,n,u,i,f,p,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return ip(t,e,n,i,r,s)}function ip(t,e,n,i,s,r){AE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&hy(e,n,!1),Hi(t,e,r);i=e.stateNode,kT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,r),e.child=wo(e,null,a,r)):nn(t,e,a,r),e.memoizedState=i.state,s&&hy(e,n,!0),e.child}function ME(t){var e=t.stateNode;e.pendingContext?cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cy(t,e.context,!1),Tg(t,e.containerInfo)}function Ly(t,e,n,i,s){return _o(),xg(s),e.flags|=256,nn(t,e,n,i),e.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function IE(t,e,n){var i=e.pendingProps,s=it.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ze(it,s&1),t===null)return Xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Rh(o,i,0,null),t=fr(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=rp(n),e.memoizedState=sp,t):Ng(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return LT(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ls(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Ls(a,r):(r=fr(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=sp,i}return r=t.child,t=r.sibling,i=Ls(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ng(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,n,i){return i!==null&&xg(i),wo(e,t.child,null,n),t=Ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LT(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=zd(Error(G(422))),wu(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Rh({mode:"visible",children:i.children},s,0,null),r=fr(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=rp(o),e.memoizedState=sp,r);if(!(e.mode&1))return wu(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(G(419)),i=zd(r,i,void 0),wu(t,e,o,i)}if(a=(o&t.childLanes)!==0,hn||a){if(i=Mt,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,$i(t,s),ei(i,t,s,-1))}return Ug(),i=zd(Error(G(421))),wu(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BT.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,Sn=Es(s.nextSibling),Cn=e,Xe=!0,Gn=null,t!==null&&(Rn[On++]=Ii,Rn[On++]=Ri,Rn[On++]=wr,Ii=t.id,Ri=t.overflow,wr=e),e=Ng(e,i.children),e.flags|=4096,e)}function Ty(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Zf(t.return,e,n)}function Ud(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function RE(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(nn(t,e,i.children,n),i=it.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,n,e);else if(t.tag===19)Ty(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ze(it,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Dc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ud(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Dc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ud(e,!0,n,null,r);break;case"together":Ud(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TT(t,e,n){switch(e.tag){case 3:ME(e),_o();break;case 5:rE(e);break;case 1:fn(e.type)&&Pc(e);break;case 4:Tg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;ze(Ic,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ze(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?IE(t,e,n):(ze(it,it.current&1),t=Hi(t,e,n),t!==null?t.sibling:null);ze(it,it.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return RE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(it,it.current),i)break;return null;case 22:case 23:return e.lanes=0,PE(t,e,n)}return Hi(t,e,n)}var OE,op,DE,NE;OE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};op=function(){};DE=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,ur(_i.current);var r=null;switch(n){case"input":s=Tf(t,s),i=Tf(t,i),r=[];break;case"select":s=at({},s,{value:void 0}),i=at({},i,{value:void 0}),r=[];break;case"textarea":s=Mf(t,s),i=Mf(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Lc)}Rf(n,i);var o;n=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ya.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var l=i[u];if(a=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),r||a===l||(r=[])):(r=r||[]).push(u,l))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};NE=function(t,e,n,i){n!==i&&(e.flags|=4)};function sa(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function PT(t,e,n){var i=e.pendingProps;switch(bg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return fn(e.type)&&Tc(),Ht(e),null;case 3:return i=e.stateNode,bo(),Ge(dn),Ge(en),Ag(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(pp(Gn),Gn=null))),op(t,e),Ht(e),null;case 5:Pg(e);var s=ur(ll.current);if(n=e.type,t!==null&&e.stateNode!=null)DE(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(G(166));return Ht(e),null}if(t=ur(_i.current),yu(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[vi]=e,i[ol]=r,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(s=0;s<_a.length;s++)qe(_a[s],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":Vv(i,r),qe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},qe("invalid",i);break;case"textarea":jv(i,r),qe("invalid",i)}Rf(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&vu(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&vu(i.textContent,a,t),s=["children",""+a]):Ya.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",i)}switch(n){case"input":uu(i),Fv(i,r,!0);break;case"textarea":uu(i),Bv(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Lc)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[vi]=e,t[ol]=i,OE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Of(n,i),n){case"dialog":qe("cancel",t),qe("close",t),s=i;break;case"iframe":case"object":case"embed":qe("load",t),s=i;break;case"video":case"audio":for(s=0;s<_a.length;s++)qe(_a[s],t);s=i;break;case"source":qe("error",t),s=i;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=i;break;case"details":qe("toggle",t),s=i;break;case"input":Vv(t,i),s=Tf(t,i),qe("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=at({},i,{value:void 0}),qe("invalid",t);break;case"textarea":jv(t,i),s=Mf(t,i),qe("invalid",t);break;default:s=i}Rf(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?fx(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hx(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xa(t,l):typeof l=="number"&&Xa(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Ya.hasOwnProperty(r)?l!=null&&r==="onScroll"&&qe("scroll",t):l!=null&&og(t,r,l,o))}switch(n){case"input":uu(t),Fv(t,i,!1);break;case"textarea":uu(t),Bv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Is(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?ro(t,!!i.multiple,r,!1):i.defaultValue!=null&&ro(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)NE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(G(166));if(n=ur(ll.current),ur(_i.current),yu(e)){if(i=e.stateNode,n=e.memoizedProps,i[vi]=e,(r=i.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:vu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vu(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[vi]=e,e.stateNode=i}return Ht(e),null;case 13:if(Ge(it),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Sn!==null&&e.mode&1&&!(e.flags&128))eE(),_o(),e.flags|=98560,r=!1;else if(r=yu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(G(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(G(317));r[vi]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),r=!1}else Gn!==null&&(pp(Gn),Gn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Et===0&&(Et=3):Ug())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return bo(),op(t,e),t===null&&sl(e.stateNode.containerInfo),Ht(e),null;case 10:return Cg(e.type._context),Ht(e),null;case 17:return fn(e.type)&&Tc(),Ht(e),null;case 19:if(Ge(it),r=e.memoizedState,r===null)return Ht(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)sa(r,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dc(t),o!==null){for(e.flags|=128,sa(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(it,it.current&1|2),e.child}t=t.sibling}r.tail!==null&&pt()>Eo&&(e.flags|=128,i=!0,sa(r,!1),e.lanes=4194304)}else{if(!i)if(t=Dc(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Xe)return Ht(e),null}else 2*pt()-r.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,i=!0,sa(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=pt(),e.sibling=null,n=it.current,ze(it,i?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return zg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?xn&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function AT(t,e){switch(bg(e),e.tag){case 1:return fn(e.type)&&Tc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Ge(dn),Ge(en),Ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pg(e),null;case 13:if(Ge(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(it),null;case 4:return bo(),null;case 10:return Cg(e.type._context),null;case 22:case 23:return zg(),null;case 24:return null;default:return null}}var bu=!1,Qt=!1,MT=typeof WeakSet=="function"?WeakSet:Set,ne=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ct(t,e,i)}else n.current=null}function ap(t,e,n){try{n()}catch(i){ct(t,e,i)}}var Py=!1;function IT(t,e){if(Hf=Sc,t=zx(),_g(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==r||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===s&&(a=o),f===r&&++h===i&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wf={focusedElem:t,selectionRange:n},Sc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wn(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(L){ct(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return p=Py,Py=!1,p}function Ra(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&ap(e,n,r)}s=s.next}while(s!==i)}}function Mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VE(t){var e=t.alternate;e!==null&&(t.alternate=null,VE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[ol],delete e[Kf],delete e[pT],delete e[gT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FE(t){return t.tag===5||t.tag===3||t.tag===4}function Ay(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function up(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lc));else if(i!==4&&(t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}function cp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}var Ot=null,qn=!1;function is(t,e,n){for(n=n.child;n!==null;)jE(t,e,n),n=n.sibling}function jE(t,e,n){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(Eh,n)}catch{}switch(n.tag){case 5:Qt||no(n,e);case 6:var i=Ot,s=qn;Ot=null,is(t,e,n),Ot=i,qn=s,Ot!==null&&(qn?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(qn?(t=Ot,n=n.stateNode,t.nodeType===8?Dd(t.parentNode,n):t.nodeType===1&&Dd(t,n),tl(t)):Dd(Ot,n.stateNode));break;case 4:i=Ot,s=qn,Ot=n.stateNode.containerInfo,qn=!0,is(t,e,n),Ot=i,qn=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&ap(n,e,o),s=s.next}while(s!==i)}is(t,e,n);break;case 1:if(!Qt&&(no(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){ct(n,e,a)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(Qt=(i=Qt)||n.memoizedState!==null,is(t,e,n),Qt=i):is(t,e,n);break;default:is(t,e,n)}}function My(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MT),e.forEach(function(i){var s=zT.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,qn=!1;break e;case 3:Ot=a.stateNode.containerInfo,qn=!0;break e;case 4:Ot=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(Ot===null)throw Error(G(160));jE(r,o,s),Ot=null,qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ct(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BE(e,t),e=e.sibling}function BE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),hi(t),i&4){try{Ra(3,t,t.return),Mh(3,t)}catch(y){ct(t,t.return,y)}try{Ra(5,t,t.return)}catch(y){ct(t,t.return,y)}}break;case 1:Hn(e,t),hi(t),i&512&&n!==null&&no(n,n.return);break;case 5:if(Hn(e,t),hi(t),i&512&&n!==null&&no(n,n.return),t.flags&32){var s=t.stateNode;try{Xa(s,"")}catch(y){ct(t,t.return,y)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&lx(s,r),Of(a,o);var u=Of(a,r);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?fx(s,d):h==="dangerouslySetInnerHTML"?hx(s,d):h==="children"?Xa(s,d):og(s,h,d,u)}switch(a){case"input":Pf(s,r);break;case"textarea":ux(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?ro(s,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?ro(s,!!r.multiple,r.defaultValue,!0):ro(s,!!r.multiple,r.multiple?[]:"",!1))}s[ol]=r}catch(y){ct(t,t.return,y)}}break;case 6:if(Hn(e,t),hi(t),i&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(y){ct(t,t.return,y)}}break;case 3:if(Hn(e,t),hi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(e.containerInfo)}catch(y){ct(t,t.return,y)}break;case 4:Hn(e,t),hi(t);break;case 13:Hn(e,t),hi(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(jg=pt())),i&4&&My(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||h,Hn(e,t),Qt=u):Hn(e,t),hi(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(d=ne=h;ne!==null;){switch(f=ne,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ra(4,f,f.return);break;case 1:no(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){ct(i,n,y)}}break;case 5:no(f,f.return);break;case 22:if(f.memoizedState!==null){Ry(d);continue}}g!==null?(g.return=f,ne=g):Ry(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dx("display",o))}catch(y){ct(t,t.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ct(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Hn(e,t),hi(t),i&4&&My(t);break;case 21:break;default:Hn(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FE(n)){var i=n;break e}n=n.return}throw Error(G(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Xa(s,""),i.flags&=-33);var r=Ay(t);cp(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Ay(t);up(t,a,o);break;default:throw Error(G(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RT(t,e,n){ne=t,zE(t)}function zE(t,e,n){for(var i=(t.mode&1)!==0;ne!==null;){var s=ne,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||bu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=bu;var u=Qt;if(bu=o,(Qt=l)&&!u)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?Oy(s):l!==null?(l.return=o,ne=l):Oy(s);for(;r!==null;)ne=r,zE(r),r=r.sibling;ne=s,bu=a,Qt=u}Iy(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,ne=r):Iy(t)}}function Iy(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Mh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Qt)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&my(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}my(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&tl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Qt||e.flags&512&&lp(e)}catch(f){ct(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Ry(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Oy(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mh(4,e)}catch(l){ct(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){ct(e,s,l)}}var r=e.return;try{lp(e)}catch(l){ct(e,r,l)}break;case 5:var o=e.return;try{lp(e)}catch(l){ct(e,o,l)}}}catch(l){ct(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var OT=Math.ceil,Fc=qi.ReactCurrentDispatcher,Vg=qi.ReactCurrentOwner,Nn=qi.ReactCurrentBatchConfig,Pe=0,Mt=null,yt=null,Ft=0,xn=0,io=zs(0),Et=0,dl=null,xr=0,Ih=0,Fg=0,Oa=null,un=null,jg=0,Eo=1/0,Pi=null,jc=!1,hp=null,Cs=null,xu=!1,ds=null,Bc=0,Da=0,dp=null,tc=-1,nc=0;function sn(){return Pe&6?pt():tc!==-1?tc:tc=pt()}function ks(t){return t.mode&1?Pe&2&&Ft!==0?Ft&-Ft:vT.transition!==null?(nc===0&&(nc=Cx()),nc):(t=De,t!==0||(t=window.event,t=t===void 0?16:Ix(t.type)),t):1}function ei(t,e,n,i){if(50<Da)throw Da=0,dp=null,Error(G(185));Il(t,n,i),(!(Pe&2)||t!==Mt)&&(t===Mt&&(!(Pe&2)&&(Ih|=n),Et===4&&cs(t,Ft)),pn(t,i),n===1&&Pe===0&&!(e.mode&1)&&(Eo=pt()+500,Th&&Us()))}function pn(t,e){var n=t.callbackNode;vL(t,e);var i=Ec(t,t===Mt?Ft:0);if(i===0)n!==null&&$v(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&$v(n),e===1)t.tag===0?mT(Dy.bind(null,t)):Xx(Dy.bind(null,t)),dT(function(){!(Pe&6)&&Us()}),n=null;else{switch(kx(i)){case 1:n=hg;break;case 4:n=Ex;break;case 16:n=xc;break;case 536870912:n=Sx;break;default:n=xc}n=QE(n,UE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UE(t,e){if(tc=-1,nc=0,Pe&6)throw Error(G(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var i=Ec(t,t===Mt?Ft:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=zc(t,i);else{e=i;var s=Pe;Pe|=2;var r=HE();(Mt!==t||Ft!==e)&&(Pi=null,Eo=pt()+500,dr(t,e));do try{VT();break}catch(a){$E(t,a)}while(!0);Sg(),Fc.current=r,Pe=s,yt!==null?e=0:(Mt=null,Ft=0,e=Et)}if(e!==0){if(e===2&&(s=jf(t),s!==0&&(i=s,e=fp(t,s))),e===1)throw n=dl,dr(t,0),cs(t,i),pn(t,pt()),n;if(e===6)cs(t,i);else{if(s=t.current.alternate,!(i&30)&&!DT(s)&&(e=zc(t,i),e===2&&(r=jf(t),r!==0&&(i=r,e=fp(t,r))),e===1))throw n=dl,dr(t,0),cs(t,i),pn(t,pt()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(G(345));case 2:nr(t,un,Pi);break;case 3:if(cs(t,i),(i&130023424)===i&&(e=jg+500-pt(),10<e)){if(Ec(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){sn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Gf(nr.bind(null,t,un,Pi),e);break}nr(t,un,Pi);break;case 4:if(cs(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Jn(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=pt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*OT(i/1960))-i,10<i){t.timeoutHandle=Gf(nr.bind(null,t,un,Pi),i);break}nr(t,un,Pi);break;case 5:nr(t,un,Pi);break;default:throw Error(G(329))}}}return pn(t,pt()),t.callbackNode===n?UE.bind(null,t):null}function fp(t,e){var n=Oa;return t.current.memoizedState.isDehydrated&&(dr(t,e).flags|=256),t=zc(t,e),t!==2&&(e=un,un=n,e!==null&&pp(e)),t}function pp(t){un===null?un=t:un.push.apply(un,t)}function DT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ni(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e){for(e&=~Fg,e&=~Ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),i=1<<n;t[n]=-1,e&=~i}}function Dy(t){if(Pe&6)throw Error(G(327));co();var e=Ec(t,0);if(!(e&1))return pn(t,pt()),null;var n=zc(t,e);if(t.tag!==0&&n===2){var i=jf(t);i!==0&&(e=i,n=fp(t,i))}if(n===1)throw n=dl,dr(t,0),cs(t,e),pn(t,pt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nr(t,un,Pi),pn(t,pt()),null}function Bg(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Eo=pt()+500,Th&&Us())}}function Er(t){ds!==null&&ds.tag===0&&!(Pe&6)&&co();var e=Pe;Pe|=1;var n=Nn.transition,i=De;try{if(Nn.transition=null,De=1,t)return t()}finally{De=i,Nn.transition=n,Pe=e,!(Pe&6)&&Us()}}function zg(){xn=io.current,Ge(io)}function dr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hT(n)),yt!==null)for(n=yt.return;n!==null;){var i=n;switch(bg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Tc();break;case 3:bo(),Ge(dn),Ge(en),Ag();break;case 5:Pg(i);break;case 4:bo();break;case 13:Ge(it);break;case 19:Ge(it);break;case 10:Cg(i.type._context);break;case 22:case 23:zg()}n=n.return}if(Mt=t,yt=t=Ls(t.current,null),Ft=xn=e,Et=0,dl=null,Fg=Ih=xr=0,un=Oa=null,lr!==null){for(e=0;e<lr.length;e++)if(n=lr[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}lr=null}return t}function $E(t,e){do{var n=yt;try{if(Sg(),Zu.current=Vc,Nc){for(var i=rt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Nc=!1}if(br=0,Tt=xt=rt=null,Ia=!1,ul=0,Vg.current=null,n===null||n.return===null){Et=1,dl=e,yt=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=xy(o);if(g!==null){g.flags&=-257,Ey(g,o,a,r,e),g.mode&1&&by(r,u,e),e=g,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){by(r,u,e),Ug();break e}l=Error(G(426))}}else if(Xe&&a.mode&1){var b=xy(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ey(b,o,a,r,e),xg(xo(l,a));break e}}r=l=xo(l,a),Et!==4&&(Et=2),Oa===null?Oa=[r]:Oa.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var x=kE(r,l,e);gy(r,x);break e;case 1:a=l;var _=r.type,k=r.stateNode;if(!(r.flags&128)&&(typeof _.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Cs===null||!Cs.has(k)))){r.flags|=65536,e&=-e,r.lanes|=e;var L=LE(r,a,e);gy(r,L);break e}}r=r.return}while(r!==null)}qE(n)}catch(T){e=T,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function HE(){var t=Fc.current;return Fc.current=Vc,t===null?Vc:t}function Ug(){(Et===0||Et===3||Et===2)&&(Et=4),Mt===null||!(xr&268435455)&&!(Ih&268435455)||cs(Mt,Ft)}function zc(t,e){var n=Pe;Pe|=2;var i=HE();(Mt!==t||Ft!==e)&&(Pi=null,dr(t,e));do try{NT();break}catch(s){$E(t,s)}while(!0);if(Sg(),Pe=n,Fc.current=i,yt!==null)throw Error(G(261));return Mt=null,Ft=0,Et}function NT(){for(;yt!==null;)WE(yt)}function VT(){for(;yt!==null&&!lL();)WE(yt)}function WE(t){var e=KE(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?qE(t):yt=e,Vg.current=null}function qE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AT(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,yt=null;return}}else if(n=PT(n,e,xn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Et===0&&(Et=5)}function nr(t,e,n){var i=De,s=Nn.transition;try{Nn.transition=null,De=1,FT(t,e,n,i)}finally{Nn.transition=s,De=i}return null}function FT(t,e,n,i){do co();while(ds!==null);if(Pe&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(yL(t,r),t===Mt&&(yt=Mt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,QE(xc,function(){return co(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Nn.transition,Nn.transition=null;var o=De;De=1;var a=Pe;Pe|=4,Vg.current=null,IT(t,n),BE(n,t),sT(Wf),Sc=!!Hf,Wf=Hf=null,t.current=n,RT(n),uL(),Pe=a,De=o,Nn.transition=r}else t.current=n;if(xu&&(xu=!1,ds=t,Bc=s),r=t.pendingLanes,r===0&&(Cs=null),dL(n.stateNode),pn(t,pt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(jc)throw jc=!1,t=hp,hp=null,t;return Bc&1&&t.tag!==0&&co(),r=t.pendingLanes,r&1?t===dp?Da++:(Da=0,dp=t):Da=0,Us(),null}function co(){if(ds!==null){var t=kx(Bc),e=Nn.transition,n=De;try{if(Nn.transition=null,De=16>t?16:t,ds===null)var i=!1;else{if(t=ds,ds=null,Bc=0,Pe&6)throw Error(G(331));var s=Pe;for(Pe|=4,ne=t.current;ne!==null;){var r=ne,o=r.child;if(ne.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Ra(8,h,r)}var d=h.child;if(d!==null)d.return=h,ne=d;else for(;ne!==null;){h=ne;var f=h.sibling,g=h.return;if(VE(h),h===u){ne=null;break}if(f!==null){f.return=g,ne=f;break}ne=g}}}var p=r.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ne=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,ne=o;else e:for(;ne!==null;){if(r=ne,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ra(9,r,r.return)}var x=r.sibling;if(x!==null){x.return=r.return,ne=x;break e}ne=r.return}}var _=t.current;for(ne=_;ne!==null;){o=ne;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,ne=k;else e:for(o=_;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mh(9,a)}}catch(T){ct(a,a.return,T)}if(a===o){ne=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,ne=L;break e}ne=a.return}}if(Pe=s,Us(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(Eh,t)}catch{}i=!0}return i}finally{De=n,Nn.transition=e}}return!1}function Ny(t,e,n){e=xo(n,e),e=kE(t,e,1),t=Ss(t,e,1),e=sn(),t!==null&&(Il(t,1,e),pn(t,e))}function ct(t,e,n){if(t.tag===3)Ny(t,t,n);else for(;e!==null;){if(e.tag===3){Ny(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cs===null||!Cs.has(i))){t=xo(n,t),t=LE(e,t,1),e=Ss(e,t,1),t=sn(),e!==null&&(Il(e,1,t),pn(e,t));break}}e=e.return}}function jT(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Ft&n)===n&&(Et===4||Et===3&&(Ft&130023424)===Ft&&500>pt()-jg?dr(t,0):Fg|=n),pn(t,e)}function GE(t,e){e===0&&(t.mode&1?(e=du,du<<=1,!(du&130023424)&&(du=4194304)):e=1);var n=sn();t=$i(t,e),t!==null&&(Il(t,e,n),pn(t,n))}function BT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GE(t,n)}function zT(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(G(314))}i!==null&&i.delete(e),GE(t,n)}var KE;KE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,TT(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Xe&&e.flags&1048576&&Zx(e,Mc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ec(t,e),t=e.pendingProps;var s=yo(e,en.current);uo(e,n),s=Ig(null,e,i,t,s,n);var r=Rg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(i)?(r=!0,Pc(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lg(e),s.updater=Ah,e.stateNode=s,s._reactInternals=e,ep(e,i,t,n),e=ip(null,e,i,!0,r,n)):(e.tag=0,Xe&&r&&wg(e),nn(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(ec(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=$T(i),t=Wn(i,t),s){case 0:e=np(null,e,i,t,n);break e;case 1:e=ky(null,e,i,t,n);break e;case 11:e=Sy(null,e,i,t,n);break e;case 14:e=Cy(null,e,i,Wn(i.type,t),n);break e}throw Error(G(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Wn(i,s),np(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Wn(i,s),ky(t,e,i,s,n);case 3:e:{if(ME(e),t===null)throw Error(G(387));i=e.pendingProps,r=e.memoizedState,s=r.element,sE(t,e),Oc(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=xo(Error(G(423)),e),e=Ly(t,e,i,n,s);break e}else if(i!==s){s=xo(Error(G(424)),e),e=Ly(t,e,i,n,s);break e}else for(Sn=Es(e.stateNode.containerInfo.firstChild),Cn=e,Xe=!0,Gn=null,n=nE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_o(),i===s){e=Hi(t,e,n);break e}nn(t,e,i,n)}e=e.child}return e;case 5:return rE(e),t===null&&Xf(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,qf(i,s)?o=null:r!==null&&qf(i,r)&&(e.flags|=32),AE(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&Xf(e),null;case 13:return IE(t,e,n);case 4:return Tg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=wo(e,null,i,n):nn(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Wn(i,s),Sy(t,e,i,s,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,ze(Ic,i._currentValue),i._currentValue=o,r!==null)if(ni(r.value,o)){if(r.children===s.children&&!dn.current){e=Hi(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=Vi(-1,n&-n),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Zf(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zf(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,uo(e,n),s=Vn(s),i=i(s),e.flags|=1,nn(t,e,i,n),e.child;case 14:return i=e.type,s=Wn(i,e.pendingProps),s=Wn(i.type,s),Cy(t,e,i,s,n);case 15:return TE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Wn(i,s),ec(t,e),e.tag=1,fn(i)?(t=!0,Pc(e)):t=!1,uo(e,n),CE(e,i,s),ep(e,i,s,n),ip(null,e,i,!0,t,n);case 19:return RE(t,e,n);case 22:return PE(t,e,n)}throw Error(G(156,e.tag))};function QE(t,e){return xx(t,e)}function UT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,i){return new UT(t,e,n,i)}function $g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $T(t){if(typeof t=="function")return $g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lg)return 11;if(t===ug)return 14}return 2}function Ls(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ic(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")$g(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gr:return fr(n.children,s,r,e);case ag:o=8,s|=8;break;case Sf:return t=Dn(12,n,e,s|2),t.elementType=Sf,t.lanes=r,t;case Cf:return t=Dn(13,n,e,s),t.elementType=Cf,t.lanes=r,t;case kf:return t=Dn(19,n,e,s),t.elementType=kf,t.lanes=r,t;case rx:return Rh(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ix:o=10;break e;case sx:o=9;break e;case lg:o=11;break e;case ug:o=14;break e;case os:o=16,i=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function fr(t,e,n,i){return t=Dn(7,t,i,e),t.lanes=n,t}function Rh(t,e,n,i){return t=Dn(22,t,i,e),t.elementType=rx,t.lanes=n,t.stateNode={isHidden:!1},t}function $d(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function Hd(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HT(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sd(0),this.expirationTimes=Sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sd(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hg(t,e,n,i,s,r,o,a,l){return t=new HT(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Dn(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(r),t}function WT(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function YE(t){if(!t)return Rs;t=t._reactInternals;e:{if(Ir(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(fn(n))return Yx(t,n,e)}return e}function XE(t,e,n,i,s,r,o,a,l){return t=Hg(n,i,!0,t,s,r,o,a,l),t.context=YE(null),n=t.current,i=sn(),s=ks(n),r=Vi(i,s),r.callback=e??null,Ss(n,r,s),t.current.lanes=s,Il(t,s,i),pn(t,i),t}function Oh(t,e,n,i){var s=e.current,r=sn(),o=ks(s);return n=YE(n),e.context===null?e.context=n:e.pendingContext=n,e=Vi(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ss(s,e,o),t!==null&&(ei(t,s,o,r),Xu(t,s,o)),o}function Uc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wg(t,e){Vy(t,e),(t=t.alternate)&&Vy(t,e)}function qT(){return null}var ZE=typeof reportError=="function"?reportError:function(t){console.error(t)};function qg(t){this._internalRoot=t}Dh.prototype.render=qg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Oh(t,e,null,null)};Dh.prototype.unmount=qg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Er(function(){Oh(null,t,null,null)}),e[Ui]=null}};function Dh(t){this._internalRoot=t}Dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Px();t={blockedOn:null,target:t,priority:e};for(var n=0;n<us.length&&e!==0&&e<us[n].priority;n++);us.splice(n,0,t),n===0&&Mx(t)}};function Gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fy(){}function GT(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=Uc(o);r.call(u)}}var o=XE(e,i,t,0,null,!1,!1,"",Fy);return t._reactRootContainer=o,t[Ui]=o.current,sl(t.nodeType===8?t.parentNode:t),Er(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var u=Uc(l);a.call(u)}}var l=Hg(t,0,!1,null,null,!1,!1,"",Fy);return t._reactRootContainer=l,t[Ui]=l.current,sl(t.nodeType===8?t.parentNode:t),Er(function(){Oh(e,l,n,i)}),l}function Vh(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=Uc(o);a.call(l)}}Oh(e,o,t,s)}else o=GT(n,e,t,s,i);return Uc(o)}Lx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ya(e.pendingLanes);n!==0&&(dg(e,n|1),pn(e,pt()),!(Pe&6)&&(Eo=pt()+500,Us()))}break;case 13:Er(function(){var i=$i(t,1);if(i!==null){var s=sn();ei(i,t,1,s)}}),Wg(t,1)}};fg=function(t){if(t.tag===13){var e=$i(t,134217728);if(e!==null){var n=sn();ei(e,t,134217728,n)}Wg(t,134217728)}};Tx=function(t){if(t.tag===13){var e=ks(t),n=$i(t,e);if(n!==null){var i=sn();ei(n,t,e,i)}Wg(t,e)}};Px=function(){return De};Ax=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Nf=function(t,e,n){switch(e){case"input":if(Pf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Lh(i);if(!s)throw Error(G(90));ax(i),Pf(i,s)}}}break;case"textarea":ux(t,n);break;case"select":e=n.value,e!=null&&ro(t,!!n.multiple,e,!1)}};mx=Bg;vx=Er;var KT={usingClientEntryPoint:!1,Events:[Ol,Xr,Lh,px,gx,Bg]},ra={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QT={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wx(t),t===null?null:t.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Eh=Eu.inject(QT),yi=Eu}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KT;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gg(e))throw Error(G(200));return WT(t,e,null,n)};Ln.createRoot=function(t,e){if(!Gg(t))throw Error(G(299));var n=!1,i="",s=ZE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hg(t,1,!1,null,null,n,!1,i,s),t[Ui]=e.current,sl(t.nodeType===8?t.parentNode:t),new qg(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=wx(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return Er(t)};Ln.hydrate=function(t,e,n){if(!Nh(e))throw Error(G(200));return Vh(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!Gg(t))throw Error(G(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=ZE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=XE(e,null,t,1,n??null,s,!1,r,o),t[Ui]=e.current,sl(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Dh(e)};Ln.render=function(t,e,n){if(!Nh(e))throw Error(G(200));return Vh(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!Nh(t))throw Error(G(40));return t._reactRootContainer?(Er(function(){Vh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ui]=null})}),!0):!1};Ln.unstable_batchedUpdates=Bg;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Nh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Vh(t,e,n,!1,i)};Ln.version="18.3.1-next-f1338f8080-20240426";function JE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JE)}catch(t){console.error(t)}}JE(),Jb.exports=Ln;var Rr=Jb.exports,jy=Rr;xf.createRoot=jy.createRoot,xf.hydrateRoot=jy.hydrateRoot;function eS(t,e){return function(){return t.apply(e,arguments)}}const{toString:YT}=Object.prototype,{getPrototypeOf:Kg}=Object,{iterator:Fh,toStringTag:tS}=Symbol,jh=(t=>e=>{const n=YT.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),si=t=>(t=t.toLowerCase(),e=>jh(e)===t),Bh=t=>e=>typeof e===t,{isArray:Vo}=Array,So=Bh("undefined");function Nl(t){return t!==null&&!So(t)&&t.constructor!==null&&!So(t.constructor)&&gn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nS=si("ArrayBuffer");function XT(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nS(t.buffer),e}const ZT=Bh("string"),gn=Bh("function"),iS=Bh("number"),Vl=t=>t!==null&&typeof t=="object",JT=t=>t===!0||t===!1,sc=t=>{if(jh(t)!=="object")return!1;const e=Kg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tS in t)&&!(Fh in t)},eP=t=>{if(!Vl(t)||Nl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},tP=si("Date"),nP=si("File"),iP=si("Blob"),sP=si("FileList"),rP=t=>Vl(t)&&gn(t.pipe),oP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gn(t.append)&&((e=jh(t))==="formdata"||e==="object"&&gn(t.toString)&&t.toString()==="[object FormData]"))},aP=si("URLSearchParams"),[lP,uP,cP,hP]=["ReadableStream","Request","Response","Headers"].map(si),dP=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Vo(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(Nl(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,t[a],a,t)}}function sS(t,e){if(Nl(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rS=t=>!So(t)&&t!==cr;function gp(){const{caseless:t,skipUndefined:e}=rS(this)&&this||{},n={},i=(s,r)=>{const o=t&&sS(n,r)||r;sc(n[o])&&sc(s)?n[o]=gp(n[o],s):sc(s)?n[o]=gp({},s):Vo(s)?n[o]=s.slice():(!e||!So(s))&&(n[o]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Fl(arguments[s],i);return n}const fP=(t,e,n,{allOwnKeys:i}={})=>(Fl(e,(s,r)=>{n&&gn(s)?t[r]=eS(s,n):t[r]=s},{allOwnKeys:i}),t),pP=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gP=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},mP=(t,e,n,i)=>{let s,r,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)o=s[r],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Kg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},vP=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},yP=t=>{if(!t)return null;if(Vo(t))return t;let e=t.length;if(!iS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_P=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kg(Uint8Array)),wP=(t,e)=>{const i=(t&&t[Fh]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},bP=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},xP=si("HTMLFormElement"),EP=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),By=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),SP=si("RegExp"),oS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Fl(n,(s,r)=>{let o;(o=e(s,r,t))!==!1&&(i[r]=o||s)}),Object.defineProperties(t,i)},CP=t=>{oS(t,(e,n)=>{if(gn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(gn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kP=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Vo(t)?i(t):i(String(t).split(e)),n},LP=()=>{},TP=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function PP(t){return!!(t&&gn(t.append)&&t[tS]==="FormData"&&t[Fh])}const AP=t=>{const e=new Array(10),n=(i,s)=>{if(Vl(i)){if(e.indexOf(i)>=0)return;if(Nl(i))return i;if(!("toJSON"in i)){e[s]=i;const r=Vo(i)?[]:{};return Fl(i,(o,a)=>{const l=n(o,s+1);!So(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return n(t,0)},MP=si("AsyncFunction"),IP=t=>t&&(Vl(t)||gn(t))&&gn(t.then)&&gn(t.catch),aS=((t,e)=>t?setImmediate:e?((n,i)=>(cr.addEventListener("message",({source:s,data:r})=>{s===cr&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),cr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gn(cr.postMessage)),RP=typeof queueMicrotask<"u"?queueMicrotask.bind(cr):typeof process<"u"&&process.nextTick||aS,OP=t=>t!=null&&gn(t[Fh]),V={isArray:Vo,isArrayBuffer:nS,isBuffer:Nl,isFormData:oP,isArrayBufferView:XT,isString:ZT,isNumber:iS,isBoolean:JT,isObject:Vl,isPlainObject:sc,isEmptyObject:eP,isReadableStream:lP,isRequest:uP,isResponse:cP,isHeaders:hP,isUndefined:So,isDate:tP,isFile:nP,isBlob:iP,isRegExp:SP,isFunction:gn,isStream:rP,isURLSearchParams:aP,isTypedArray:_P,isFileList:sP,forEach:Fl,merge:gp,extend:fP,trim:dP,stripBOM:pP,inherits:gP,toFlatObject:mP,kindOf:jh,kindOfTest:si,endsWith:vP,toArray:yP,forEachEntry:wP,matchAll:bP,isHTMLForm:xP,hasOwnProperty:By,hasOwnProp:By,reduceDescriptors:oS,freezeMethods:CP,toObjectSet:kP,toCamelCase:EP,noop:LP,toFiniteNumber:TP,findKey:sS,global:cr,isContextDefined:rS,isSpecCompliantForm:PP,toJSONObject:AP,isAsyncFn:MP,isThenable:IP,setImmediate:aS,asap:RP,isIterable:OP};function fe(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const lS=fe.prototype,uS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uS[t]={value:t}});Object.defineProperties(fe,uS);Object.defineProperty(lS,"isAxiosError",{value:!0});fe.from=(t,e,n,i,s,r)=>{const o=Object.create(lS);V.toFlatObject(t,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return fe.call(o,a,l,n,i,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const DP=null;function mp(t){return V.isPlainObject(t)||V.isArray(t)}function cS(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function zy(t,e,n){return t?t.concat(e).map(function(s,r){return s=cS(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function NP(t){return V.isArray(t)&&!t.some(mp)}const VP=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function zh(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!V.isUndefined(b[y])});const i=n.metaTokens,s=n.visitor||h,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(V.isDate(p))return p.toISOString();if(V.isBoolean(p))return p.toString();if(!l&&V.isBlob(p))throw new fe("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(p)||V.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,y,b){let x=p;if(p&&!b&&typeof p=="object"){if(V.endsWith(y,"{}"))y=i?y:y.slice(0,-2),p=JSON.stringify(p);else if(V.isArray(p)&&NP(p)||(V.isFileList(p)||V.endsWith(y,"[]"))&&(x=V.toArray(p)))return y=cS(y),x.forEach(function(k,L){!(V.isUndefined(k)||k===null)&&e.append(o===!0?zy([y],L,r):o===null?y:y+"[]",u(k))}),!1}return mp(p)?!0:(e.append(zy(b,y,r),u(p)),!1)}const d=[],f=Object.assign(VP,{defaultVisitor:h,convertValue:u,isVisitable:mp});function g(p,y){if(!V.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(p),V.forEach(p,function(x,_){(!(V.isUndefined(x)||x===null)&&s.call(e,x,V.isString(_)?_.trim():_,y,f))===!0&&g(x,y?y.concat(_):[_])}),d.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Uy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Qg(t,e){this._pairs=[],t&&zh(t,this,e)}const hS=Qg.prototype;hS.append=function(e,n){this._pairs.push([e,n])};hS.toString=function(e){const n=e?function(i){return e.call(this,i,Uy)}:Uy;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function FP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dS(t,e,n){if(!e)return t;const i=n&&n.encode||FP;V.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(e,n):r=V.isURLSearchParams(e)?e.toString():new Qg(e,n).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class $y{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(i){i!==null&&e(i)})}}const fS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jP=typeof URLSearchParams<"u"?URLSearchParams:Qg,BP=typeof FormData<"u"?FormData:null,zP=typeof Blob<"u"?Blob:null,UP={isBrowser:!0,classes:{URLSearchParams:jP,FormData:BP,Blob:zP},protocols:["http","https","file","blob","url","data"]},Yg=typeof window<"u"&&typeof document<"u",vp=typeof navigator=="object"&&navigator||void 0,$P=Yg&&(!vp||["ReactNative","NativeScript","NS"].indexOf(vp.product)<0),HP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WP=Yg&&window.location.href||"http://localhost",qP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yg,hasStandardBrowserEnv:$P,hasStandardBrowserWebWorkerEnv:HP,navigator:vp,origin:WP},Symbol.toStringTag,{value:"Module"})),Xt={...qP,...UP};function GP(t,e){return zh(t,new Xt.classes.URLSearchParams,{visitor:function(n,i,s,r){return Xt.isNode&&V.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function KP(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function QP(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function pS(t){function e(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&V.isArray(s)?s.length:o,l?(V.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!V.isObject(s[o]))&&(s[o]=[]),e(n,i,s[o],r)&&V.isArray(s[o])&&(s[o]=QP(s[o])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(i,s)=>{e(KP(i),s,n,0)}),n}return null}function YP(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const jl={transitional:fS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=V.isObject(e);if(r&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return s?JSON.stringify(pS(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return GP(e,this.formSerializer).toString();if((a=V.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return zh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),YP(e)):e}],transformResponse:[function(e){const n=this.transitional||jl.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?fe.from(a,fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{jl.headers[t]={}});const XP=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZP=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||e[n]&&XP[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Hy=Symbol("internals");function oa(t){return t&&String(t).trim().toLowerCase()}function rc(t){return t===!1||t==null?t:V.isArray(t)?t.map(rc):String(t)}function JP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const eA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wd(t,e,n,i,s){if(V.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!V.isString(e)){if(V.isString(i))return e.indexOf(i)!==-1;if(V.isRegExp(i))return i.test(e)}}function tA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function nA(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}let mn=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(a,l,u){const h=oa(l);if(!h)throw new Error("header name must be a non-empty string");const d=V.findKey(s,h);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=rc(a))}const o=(a,l)=>V.forEach(a,(u,h)=>r(u,h,l));if(V.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(V.isString(e)&&(e=e.trim())&&!eA(e))o(ZP(e),n);else if(V.isObject(e)&&V.isIterable(e)){let a={},l,u;for(const h of e){if(!V.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[u=h[0]]=(l=a[u])?V.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,n)}else e!=null&&r(n,e,i);return this}get(e,n){if(e=oa(e),e){const i=V.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return JP(s);if(V.isFunction(n))return n.call(this,s,i);if(V.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=oa(e),e){const i=V.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Wd(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(o){if(o=oa(o),o){const a=V.findKey(i,o);a&&(!n||Wd(i,i[a],a,n))&&(delete i[a],s=!0)}}return V.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||Wd(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return V.forEach(this,(s,r)=>{const o=V.findKey(i,r);if(o){n[o]=rc(s),delete n[r];return}const a=e?tA(r):String(r).trim();a!==r&&delete n[r],n[a]=rc(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&V.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Hy]=this[Hy]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=oa(o);i[a]||(nA(s,o),i[a]=!0)}return V.isArray(e)?e.forEach(r):r(e),this}};mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(mn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});V.freezeMethods(mn);function qd(t,e){const n=this||jl,i=e||n,s=mn.from(i.headers);let r=i.data;return V.forEach(t,function(a){r=a.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function gS(t){return!!(t&&t.__CANCEL__)}function Fo(t,e,n){fe.call(this,t??"canceled",fe.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(Fo,fe,{__CANCEL__:!0});function mS(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sA(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=i[r];o||(o=u),n[s]=l,i[s]=u;let d=r,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),u-o<e)return;const g=h&&u-h;return g?Math.round(f*1e3/g):void 0}}function rA(t,e){let n=0,i=1e3/e,s,r;const o=(u,h=Date.now())=>{n=h,s=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const h=Date.now(),d=h-n;d>=i?o(u,h):(s=u,r||(r=setTimeout(()=>{r=null,o(s)},i-d)))},()=>s&&o(s)]}const $c=(t,e,n=3)=>{let i=0;const s=sA(50,250);return rA(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-i,u=s(l),h=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-o)/u:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Wy=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},qy=t=>(...e)=>V.asap(()=>t(...e)),oA=Xt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,aA=Xt.hasStandardBrowserEnv?{write(t,e,n,i,s,r,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];V.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),V.isString(i)&&a.push(`path=${i}`),V.isString(s)&&a.push(`domain=${s}`),r===!0&&a.push("secure"),V.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vS(t,e,n){let i=!lA(e);return t&&(i||n==!1)?uA(t,e):e}const Gy=t=>t instanceof mn?{...t}:t;function Sr(t,e){e=e||{};const n={};function i(u,h,d,f){return V.isPlainObject(u)&&V.isPlainObject(h)?V.merge.call({caseless:f},u,h):V.isPlainObject(h)?V.merge({},h):V.isArray(h)?h.slice():h}function s(u,h,d,f){if(V.isUndefined(h)){if(!V.isUndefined(u))return i(void 0,u,d,f)}else return i(u,h,d,f)}function r(u,h){if(!V.isUndefined(h))return i(void 0,h)}function o(u,h){if(V.isUndefined(h)){if(!V.isUndefined(u))return i(void 0,u)}else return i(void 0,h)}function a(u,h,d){if(d in e)return i(u,h);if(d in t)return i(void 0,u)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,h,d)=>s(Gy(u),Gy(h),d,!0)};return V.forEach(Object.keys({...t,...e}),function(h){const d=l[h]||s,f=d(t[h],e[h],h);V.isUndefined(f)&&d!==a||(n[h]=f)}),n}const yS=t=>{const e=Sr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=e;if(e.headers=o=mn.from(o),e.url=dS(vS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),V.isFormData(n)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(V.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([h,d])=>{u.includes(h.toLowerCase())&&o.set(h,d)})}}if(Xt.hasStandardBrowserEnv&&(i&&V.isFunction(i)&&(i=i(e)),i||i!==!1&&oA(e.url))){const l=s&&r&&aA.read(r);l&&o.set(s,l)}return e},cA=typeof XMLHttpRequest<"u",hA=cA&&function(t){return new Promise(function(n,i){const s=yS(t);let r=s.data;const o=mn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,h,d,f,g,p;function y(){g&&g(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function x(){if(!b)return;const k=mn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:k,config:t,request:b};mS(function(S){n(S),y()},function(S){i(S),y()},T),b=null}"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(i(new fe("Request aborted",fe.ECONNABORTED,t,b)),b=null)},b.onerror=function(L){const T=L&&L.message?L.message:"Network Error",R=new fe(T,fe.ERR_NETWORK,t,b);R.event=L||null,i(R),b=null},b.ontimeout=function(){let L=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||fS;s.timeoutErrorMessage&&(L=s.timeoutErrorMessage),i(new fe(L,T.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,t,b)),b=null},r===void 0&&o.setContentType(null),"setRequestHeader"in b&&V.forEach(o.toJSON(),function(L,T){b.setRequestHeader(T,L)}),V.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),u&&([f,p]=$c(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([d,g]=$c(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=k=>{b&&(i(!k||k.type?new Fo(null,t,b):k),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const _=iA(s.url);if(_&&Xt.protocols.indexOf(_)===-1){i(new fe("Unsupported protocol "+_+":",fe.ERR_BAD_REQUEST,t));return}b.send(r||null)})},dA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(u){if(!s){s=!0,a();const h=u instanceof Error?u:this.reason;i.abort(h instanceof fe?h:new Fo(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,r(new fe(`timeout ${e} of ms exceeded`,fe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:l}=i;return l.unsubscribe=()=>V.asap(a),l}},fA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},pA=async function*(t,e){for await(const n of gA(t))yield*fA(n,e)},gA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},Ky=(t,e,n,i)=>{const s=pA(t,e);let r=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await s.next();if(u){a(),l.close();return}let d=h.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Qy=64*1024,{isFunction:Su}=V,mA=(({Request:t,Response:e})=>({Request:t,Response:e}))(V.global),{ReadableStream:Yy,TextEncoder:Xy}=V.global,Zy=(t,...e)=>{try{return!!t(...e)}catch{return!1}},vA=t=>{t=V.merge.call({skipUndefined:!0},mA,t);const{fetch:e,Request:n,Response:i}=t,s=e?Su(e):typeof fetch=="function",r=Su(n),o=Su(i);if(!s)return!1;const a=s&&Su(Yy),l=s&&(typeof Xy=="function"?(p=>y=>p.encode(y))(new Xy):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=r&&a&&Zy(()=>{let p=!1;const y=new n(Xt.origin,{body:new Yy,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),h=o&&a&&Zy(()=>V.isReadableStream(new i("").body)),d={stream:h&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(y,b)=>{let x=y&&y[p];if(x)return x.call(y);throw new fe(`Response type '${p}' is not supported`,fe.ERR_NOT_SUPPORT,b)})});const f=async p=>{if(p==null)return 0;if(V.isBlob(p))return p.size;if(V.isSpecCompliantForm(p))return(await new n(Xt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(V.isArrayBufferView(p)||V.isArrayBuffer(p))return p.byteLength;if(V.isURLSearchParams(p)&&(p=p+""),V.isString(p))return(await l(p)).byteLength},g=async(p,y)=>{const b=V.toFiniteNumber(p.getContentLength());return b??f(y)};return async p=>{let{url:y,method:b,data:x,signal:_,cancelToken:k,timeout:L,onDownloadProgress:T,onUploadProgress:R,responseType:S,headers:E,withCredentials:C="same-origin",fetchOptions:P}=yS(p),M=e||fetch;S=S?(S+"").toLowerCase():"text";let O=dA([_,k&&k.toAbortSignal()],L),I=null;const J=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let K;try{if(R&&u&&b!=="get"&&b!=="head"&&(K=await g(E,x))!==0){let te=new n(y,{method:"POST",body:x,duplex:"half"}),ee;if(V.isFormData(x)&&(ee=te.headers.get("content-type"))&&E.setContentType(ee),te.body){const[Y,le]=Wy(K,$c(qy(R)));x=Ky(te.body,Qy,Y,le)}}V.isString(C)||(C=C?"include":"omit");const Q=r&&"credentials"in n.prototype,ie={...P,signal:O,method:b.toUpperCase(),headers:E.normalize().toJSON(),body:x,duplex:"half",credentials:Q?C:void 0};I=r&&new n(y,ie);let j=await(r?M(I,P):M(y,ie));const W=h&&(S==="stream"||S==="response");if(h&&(T||W&&J)){const te={};["status","statusText","headers"].forEach(B=>{te[B]=j[B]});const ee=V.toFiniteNumber(j.headers.get("content-length")),[Y,le]=T&&Wy(ee,$c(qy(T),!0))||[];j=new i(Ky(j.body,Qy,Y,()=>{le&&le(),J&&J()}),te)}S=S||"text";let q=await d[V.findKey(d,S)||"text"](j,p);return!W&&J&&J(),await new Promise((te,ee)=>{mS(te,ee,{data:q,headers:mn.from(j.headers),status:j.status,statusText:j.statusText,config:p,request:I})})}catch(Q){throw J&&J(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,p,I),{cause:Q.cause||Q}):fe.from(Q,Q&&Q.code,p,I)}}},yA=new Map,_S=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,r=[i,s,n];let o=r.length,a=o,l,u,h=yA;for(;a--;)l=r[a],u=h.get(l),u===void 0&&h.set(l,u=a?new Map:vA(e)),h=u;return u};_S();const Xg={http:DP,xhr:hA,fetch:{get:_S}};V.forEach(Xg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Jy=t=>`- ${t}`,_A=t=>V.isFunction(t)||t===null||t===!1;function wA(t,e){t=V.isArray(t)?t:[t];const{length:n}=t;let i,s;const r={};for(let o=0;o<n;o++){i=t[o];let a;if(s=i,!_A(i)&&(s=Xg[(a=String(i)).toLowerCase()],s===void 0))throw new fe(`Unknown adapter '${a}'`);if(s&&(V.isFunction(s)||(s=s.get(e))))break;r[a||"#"+o]=s}if(!s){const o=Object.entries(r).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Jy).join(`
`):" "+Jy(o[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const wS={getAdapter:wA,adapters:Xg};function Gd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fo(null,t)}function e_(t){return Gd(t),t.headers=mn.from(t.headers),t.data=qd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wS.getAdapter(t.adapter||jl.adapter,t)(t).then(function(i){return Gd(t),i.data=qd.call(t,t.transformResponse,i),i.headers=mn.from(i.headers),i},function(i){return gS(i)||(Gd(t),i&&i.response&&(i.response.data=qd.call(t,t.transformResponse,i.response),i.response.headers=mn.from(i.response.headers))),Promise.reject(i)})}const bS="1.13.2",Uh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Uh[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const t_={};Uh.transitional=function(e,n,i){function s(r,o){return"[Axios v"+bS+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new fe(s(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!t_[o]&&(t_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};Uh.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function bA(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new fe("option "+r+" must be "+l,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+r,fe.ERR_BAD_OPTION)}}const oc={assertOptions:bA,validators:Uh},di=oc.validators;let pr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $y,response:new $y}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Sr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&oc.assertOptions(i,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),s!=null&&(V.isFunction(s)?n.paramsSerializer={serialize:s}:oc.assertOptions(s,{encode:di.function,serialize:di.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),oc.assertOptions(n,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&V.merge(r.common,r[n.method]);r&&V.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=mn.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let h,d=0,f;if(!l){const p=[e_.bind(this),void 0];for(p.unshift(...a),p.push(...u),f=p.length,h=Promise.resolve(n);d<f;)h=h.then(p[d++],p[d++]);return h}f=a.length;let g=n;for(;d<f;){const p=a[d++],y=a[d++];try{g=p(g)}catch(b){y.call(this,b);break}}try{h=e_.call(this,g)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)h=h.then(u[d++],u[d++]);return h}getUri(e){e=Sr(this.defaults,e);const n=vS(e.baseURL,e.url,e.allowAbsoluteUrls);return dS(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){pr.prototype[e]=function(n,i){return this.request(Sr(i||{},{method:e,url:n,data:(i||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,a){return this.request(Sr(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}pr.prototype[e]=n(),pr.prototype[e+"Form"]=n(!0)});let xA=class xS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new Fo(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new xS(function(s){e=s}),cancel:e}}};function EA(t){return function(n){return t.apply(null,n)}}function SA(t){return V.isObject(t)&&t.isAxiosError===!0}const yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yp).forEach(([t,e])=>{yp[e]=t});function ES(t){const e=new pr(t),n=eS(pr.prototype.request,e);return V.extend(n,pr.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return ES(Sr(t,s))},n}const ot=ES(jl);ot.Axios=pr;ot.CanceledError=Fo;ot.CancelToken=xA;ot.isCancel=gS;ot.VERSION=bS;ot.toFormData=zh;ot.AxiosError=fe;ot.Cancel=ot.CanceledError;ot.all=function(e){return Promise.all(e)};ot.spread=EA;ot.isAxiosError=SA;ot.mergeConfig=Sr;ot.AxiosHeaders=mn;ot.formToJSON=t=>pS(V.isHTMLForm(t)?new FormData(t):t);ot.getAdapter=wS.getAdapter;ot.HttpStatusCode=yp;ot.default=ot;const{Axios:S5,AxiosError:C5,CanceledError:k5,isCancel:L5,CancelToken:T5,VERSION:P5,all:A5,Cancel:M5,isAxiosError:I5,spread:R5,toFormData:O5,AxiosHeaders:D5,HttpStatusCode:N5,formToJSON:V5,getAdapter:F5,mergeConfig:j5}=ot;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Bl(t){return t+.5|0}const fs=(t,e,n)=>Math.max(Math.min(t,n),e);function wa(t){return fs(Bl(t*2.55),0,255)}function Ts(t){return fs(Bl(t*255),0,255)}function Mi(t){return fs(Bl(t/2.55)/100,0,1)}function n_(t){return fs(Bl(t*100),0,100)}const Mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_p=[..."0123456789ABCDEF"],CA=t=>_p[t&15],kA=t=>_p[(t&240)>>4]+_p[t&15],Cu=t=>(t&240)>>4===(t&15),LA=t=>Cu(t.r)&&Cu(t.g)&&Cu(t.b)&&Cu(t.a);function TA(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Mn[t[1]]*17,g:255&Mn[t[2]]*17,b:255&Mn[t[3]]*17,a:e===5?Mn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Mn[t[1]]<<4|Mn[t[2]],g:Mn[t[3]]<<4|Mn[t[4]],b:Mn[t[5]]<<4|Mn[t[6]],a:e===9?Mn[t[7]]<<4|Mn[t[8]]:255})),n}const PA=(t,e)=>t<255?e(t):"";function AA(t){var e=LA(t)?CA:kA;return t?"#"+e(t.r)+e(t.g)+e(t.b)+PA(t.a,e):void 0}const MA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function SS(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function IA(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function RA(t,e,n){const i=SS(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function OA(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Zg(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,u,h;return r!==o&&(h=r-o,u=a>.5?h/(2-r-o):h/(r+o),l=OA(n,i,s,h,r),l=l*60+.5),[l|0,u||0,a]}function Jg(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ts)}function em(t,e,n){return Jg(SS,t,e,n)}function DA(t,e,n){return Jg(RA,t,e,n)}function NA(t,e,n){return Jg(IA,t,e,n)}function CS(t){return(t%360+360)%360}function VA(t){const e=MA.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?wa(+e[5]):Ts(+e[5]));const s=CS(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=DA(s,r,o):e[1]==="hsv"?i=NA(s,r,o):i=em(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function FA(t,e){var n=Zg(t);n[0]=CS(n[0]+e),n=em(n),t.r=n[0],t.g=n[1],t.b=n[2]}function jA(t){if(!t)return;const e=Zg(t),n=e[0],i=n_(e[1]),s=n_(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Mi(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const i_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},s_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function BA(){const t={},e=Object.keys(s_),n=Object.keys(i_);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,i_[r]);r=parseInt(s_[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let ku;function zA(t){ku||(ku=BA(),ku.transparent=[0,0,0,0]);const e=ku[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const UA=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $A(t){const e=UA.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?wa(o):fs(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?wa(i):fs(i,0,255)),s=255&(e[4]?wa(s):fs(s,0,255)),r=255&(e[6]?wa(r):fs(r,0,255)),{r:i,g:s,b:r,a:n}}}function HA(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Mi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Kd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ur=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function WA(t,e,n){const i=Ur(Mi(t.r)),s=Ur(Mi(t.g)),r=Ur(Mi(t.b));return{r:Ts(Kd(i+n*(Ur(Mi(e.r))-i))),g:Ts(Kd(s+n*(Ur(Mi(e.g))-s))),b:Ts(Kd(r+n*(Ur(Mi(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Lu(t,e,n){if(t){let i=Zg(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=em(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function kS(t,e){return t&&Object.assign(e||{},t)}function r_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ts(t[3]))):(e=kS(t,{r:0,g:0,b:0,a:1}),e.a=Ts(e.a)),e}function qA(t){return t.charAt(0)==="r"?$A(t):VA(t)}class fl{constructor(e){if(e instanceof fl)return e;const n=typeof e;let i;n==="object"?i=r_(e):n==="string"&&(i=TA(e)||zA(e)||qA(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=kS(this._rgb);return e&&(e.a=Mi(e.a)),e}set rgb(e){this._rgb=r_(e)}rgbString(){return this._valid?HA(this._rgb):void 0}hexString(){return this._valid?AA(this._rgb):void 0}hslString(){return this._valid?jA(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-u,i.r=255&u*i.r+r*s.r+.5,i.g=255&u*i.g+r*s.g+.5,i.b=255&u*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=WA(this._rgb,e._rgb,n)),this}clone(){return new fl(this.rgb)}alpha(e){return this._rgb.a=Ts(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Bl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Lu(this._rgb,2,e),this}darken(e){return Lu(this._rgb,2,-e),this}saturate(e){return Lu(this._rgb,1,e),this}desaturate(e){return Lu(this._rgb,1,-e),this}rotate(e){return FA(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ki(){}const GA=(()=>{let t=0;return()=>t++})();function we(t){return t==null}function Je(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ht(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function bn(t,e){return ht(t)?t:e}function he(t,e){return typeof t>"u"?e:t}const KA=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,LS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Oe(t,e,n,i){let s,r,o;if(Je(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(xe(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Hc(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Wc(t){if(Je(t))return t.map(Wc);if(xe(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Wc(t[n[s]]);return e}return t}function TS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function QA(t,e,n,i){if(!TS(t))return;const s=e[t],r=n[t];xe(s)&&xe(r)?pl(s,r,i):e[t]=Wc(r)}function pl(t,e,n){const i=Je(e)?e:[e],s=i.length;if(!xe(t))return t;n=n||{};const r=n.merger||QA;let o;for(let a=0;a<s;++a){if(o=i[a],!xe(o))continue;const l=Object.keys(o);for(let u=0,h=l.length;u<h;++u)r(l[u],t,o,n)}return t}function Na(t,e){return pl(t,e,{merger:YA})}function YA(t,e,n){if(!TS(t))return;const i=e[t],s=n[t];xe(i)&&xe(s)?Na(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Wc(s))}const o_={"":t=>t,x:t=>t.x,y:t=>t.y};function XA(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function ZA(t){const e=XA(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Os(t,e){return(o_[e]||(o_[e]=ZA(e)))(t)}function tm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const gl=t=>typeof t<"u",Ds=t=>typeof t=="function",a_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function JA(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ie=Math.PI,Ke=2*Ie,eM=Ke+Ie,qc=Number.POSITIVE_INFINITY,tM=Ie/180,gt=Ie/2,Ys=Ie/4,l_=Ie*2/3,ps=Math.log10,wi=Math.sign;function Va(t,e,n){return Math.abs(t-e)<n}function u_(t){const e=Math.round(t);t=Va(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ps(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function nM(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function iM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Co(t){return!iM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function sM(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function PS(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Xn(t){return t*(Ie/180)}function nm(t){return t*(180/Ie)}function c_(t){if(!ht(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function AS(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Ie&&(r+=Ke),{angle:r,distance:s}}function wp(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function rM(t,e){return(t-e+eM)%Ke-Ie}function Kt(t){return(t%Ke+Ke)%Ke}function ml(t,e,n,i){const s=Kt(t),r=Kt(e),o=Kt(n),a=Kt(r-s),l=Kt(o-s),u=Kt(s-r),h=Kt(s-o);return s===r||s===o||i&&r===o||a>l&&u<h}function At(t,e,n){return Math.max(e,Math.min(n,t))}function oM(t){return At(t,-32768,32767)}function Oi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function im(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Di=(t,e,n,i)=>im(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),aM=(t,e,n)=>im(t,n,i=>t[i][e]>=n);function lM(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const MS=["push","pop","shift","splice","unshift"];function uM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),MS.forEach(n=>{const i="_onData"+tm(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function h_(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(MS.forEach(r=>{delete t[r]}),delete t._chartjs)}function IS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const RS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function OS(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,RS.call(window,()=>{i=!1,t.apply(e,n)}))}}function cM(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const sm=t=>t==="start"?"left":t==="end"?"right":"center",qt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,hM=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function DS(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:d,max:f,minDefined:g,maxDefined:p}=o.getUserBounds();if(g){if(s=Math.min(Di(l,h,d).lo,n?i:Di(e,h,o.getPixelForValue(d)).lo),u){const y=l.slice(0,s+1).reverse().findIndex(b=>!we(b[a.axis]));s-=Math.max(0,y)}s=At(s,0,i-1)}if(p){let y=Math.max(Di(l,o.axis,f,!0).hi+1,n?0:Di(e,h,o.getPixelForValue(f),!0).hi+1);if(u){const b=l.slice(y-1).findIndex(x=>!we(x[a.axis]));y+=Math.max(0,b)}r=At(y,s,i)-s}else r=i-s}return{start:s,count:r}}function NS(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Tu=t=>t===0||t===1,d_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ke/n)),f_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ke/n)+1,Fa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*gt)+1,easeOutSine:t=>Math.sin(t*gt),easeInOutSine:t=>-.5*(Math.cos(Ie*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Tu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Tu(t)?t:d_(t,.075,.3),easeOutElastic:t=>Tu(t)?t:f_(t,.075,.3),easeInOutElastic(t){return Tu(t)?t:t<.5?.5*d_(t*2,.1125,.45):.5+.5*f_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Fa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Fa.easeInBounce(t*2)*.5:Fa.easeOutBounce(t*2-1)*.5+.5};function rm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function p_(t){return rm(t)?t:new fl(t)}function Qd(t){return rm(t)?t:new fl(t).saturate(.5).darken(.1).hexString()}const dM=["x","y","borderWidth","radius","tension"],fM=["color","borderColor","backgroundColor"];function pM(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:fM},numbers:{type:"number",properties:dM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function gM(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const g_=new Map;function mM(t,e){e=e||{};const n=t+JSON.stringify(e);let i=g_.get(n);return i||(i=new Intl.NumberFormat(t,e),g_.set(n,i)),i}function zl(t,e,n){return mM(e,n).format(t)}const VS={values(t){return Je(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),r=vM(t,n)}const o=ps(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),zl(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(ps(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?VS.numeric.call(this,t,e,n):""}};function vM(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var $h={formatters:VS};function yM(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$h.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Cr=Object.create(null),bp=Object.create(null);function ja(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Yd(t,e,n){return typeof e=="string"?pl(ja(t,e),n):pl(ja(t,""),e)}class _M{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Qd(s.backgroundColor),this.hoverBorderColor=(i,s)=>Qd(s.borderColor),this.hoverColor=(i,s)=>Qd(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Yd(this,e,n)}get(e){return ja(this,e)}describe(e,n){return Yd(bp,e,n)}override(e,n){return Yd(Cr,e,n)}route(e,n,i,s){const r=ja(this,e),o=ja(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return xe(l)?Object.assign({},u,l):he(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var et=new _M({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pM,gM,yM]);function wM(t){return!t||we(t.size)||we(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Gc(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function bM(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,u,h,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Je(d))o=Gc(t,s,r,o,d);else if(Je(d))for(u=0,h=d.length;u<h;u++)f=d[u],f!=null&&!Je(f)&&(o=Gc(t,s,r,o,f));t.restore();const g=r.length/2;if(g>n.length){for(l=0;l<g;l++)delete s[r[l]];r.splice(0,g)}return o}function Xs(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function m_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function xp(t,e,n,i){FS(t,e,n,i,null)}function FS(t,e,n,i,s){let r,o,a,l,u,h,d,f;const g=e.pointStyle,p=e.rotation,y=e.radius;let b=(p||0)*tM;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,i,s/2,y,0,0,Ke):t.arc(n,i,y,0,Ke),t.closePath();break;case"triangle":h=s?s/2:y,t.moveTo(n+Math.sin(b)*h,i-Math.cos(b)*y),b+=l_,t.lineTo(n+Math.sin(b)*h,i-Math.cos(b)*y),b+=l_,t.lineTo(n+Math.sin(b)*h,i-Math.cos(b)*y),t.closePath();break;case"rectRounded":u=y*.516,l=y-u,o=Math.cos(b+Ys)*l,d=Math.cos(b+Ys)*(s?s/2-u:l),a=Math.sin(b+Ys)*l,f=Math.sin(b+Ys)*(s?s/2-u:l),t.arc(n-d,i-a,u,b-Ie,b-gt),t.arc(n+f,i-o,u,b-gt,b),t.arc(n+d,i+a,u,b,b+gt),t.arc(n-f,i+o,u,b+gt,b+Ie),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*y,h=s?s/2:l,t.rect(n-h,i-l,2*h,2*l);break}b+=Ys;case"rectRot":d=Math.cos(b)*(s?s/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(s?s/2:y),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":b+=Ys;case"cross":d=Math.cos(b)*(s?s/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(s?s/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(b)*(s?s/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(s?s/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),b+=Ys,d=Math.cos(b)*(s?s/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(s?s/2:y),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(b)*y,a=Math.sin(b)*y,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(b)*(s?s/2:y),i+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ni(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Hh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Wh(t){t.restore()}function xM(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function EM(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function SM(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),we(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function CM(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,h=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function kM(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function kr(t,e,n,i,s,r={}){const o=Je(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,SM(t,r),l=0;l<o.length;++l)u=o[l],r.backdrop&&kM(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),we(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,i,r.maxWidth)),t.fillText(u,n,i,r.maxWidth),CM(t,n,i,u,r),i+=Number(s.lineHeight);t.restore()}function vl(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ie,Ie,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Ie,gt,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,gt,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-gt,!0),t.lineTo(n+o.topLeft,i)}const LM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function PM(t,e){const n=(""+t).match(LM);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const AM=t=>+t||0;function om(t,e){const n={},i=xe(e),s=i?Object.keys(e):e,r=xe(t)?i?o=>he(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=AM(r(o));return n}function jS(t){return om(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gr(t){return om(t,["topLeft","topRight","bottomLeft","bottomRight"])}function tn(t){const e=jS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function St(t,e){t=t||{},e=e||et.font;let n=he(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=he(t.style,e.style);i&&!(""+i).match(TM)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:he(t.family,e.family),lineHeight:PM(he(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:he(t.weight,e.weight),string:""};return s.string=wM(s),s}function ba(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function MM(t,e,n){const{min:i,max:s}=t,r=LS(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function $s(t,e){return Object.assign(Object.create(t),e)}function am(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=$S("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>am([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return zS(a,l,()=>jM(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return y_(a).includes(l)},ownKeys(a){return y_(a)},set(a,l,u){const h=a._storage||(a._storage=s());return a[l]=h[l]=u,delete a._keys,!0}})}function ko(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:BS(t,i),setContext:r=>ko(t,r,n,i),override:r=>ko(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return zS(r,o,()=>RM(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function BS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ds(n)?n:()=>n,isIndexable:Ds(i)?i:()=>i}}const IM=(t,e)=>t?t+tm(e):e,lm=(t,e)=>xe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function zS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function RM(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return Ds(a)&&o.isScriptable(e)&&(a=OM(e,a,t,n)),Je(a)&&a.length&&(a=DM(e,a,t,o.isIndexable)),lm(e,a)&&(a=ko(a,s,r&&r[e],o)),a}function OM(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),lm(t,l)&&(l=um(s._scopes,s,t,l)),l}function DM(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(xe(e[0])){const l=e,u=s._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=um(u,s,t,h);e.push(ko(d,r,o&&o[t],a))}}return e}function US(t,e,n){return Ds(t)?t(e,n):t}const NM=(t,e)=>t===!0?e:typeof t=="string"?Os(e,t):void 0;function VM(t,e,n,i,s){for(const r of e){const o=NM(n,r);if(o){t.add(o);const a=US(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function um(t,e,n,i){const s=e._rootScopes,r=US(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=v_(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=v_(a,o,r,l,i),l===null)?!1:am(Array.from(a),[""],s,r,()=>FM(e,n,i))}function v_(t,e,n,i,s){for(;n;)n=VM(t,e,n,i,s);return n}function FM(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Je(s)&&xe(n)?n:s||{}}function jM(t,e,n,i){let s;for(const r of e)if(s=$S(IM(r,t),n),typeof s<"u")return lm(t,s)?um(n,i,t,s):s}function $S(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function y_(t){let e=t._keys;return e||(e=t._keys=BM(t._scopes)),e}function BM(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function HS(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,u,h;for(a=0,l=i;a<l;++a)u=a+n,h=e[u],o[a]={r:s.parse(Os(h,r),u)};return o}const zM=Number.EPSILON||1e-14,Lo=(t,e)=>e<t.length&&!t[e].skip&&t[e],WS=t=>t==="x"?"y":"x";function UM(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=wp(r,s),l=wp(o,r);let u=a/(a+l),h=l/(a+l);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const d=i*u,f=i*h;return{previous:{x:r.x-d*(o.x-s.x),y:r.y-d*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function $M(t,e,n){const i=t.length;let s,r,o,a,l,u=Lo(t,0);for(let h=0;h<i-1;++h)if(l=u,u=Lo(t,h+1),!(!l||!u)){if(Va(e[h],0,zM)){n[h]=n[h+1]=0;continue}s=n[h]/e[h],r=n[h+1]/e[h],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=s*o*e[h],n[h+1]=r*o*e[h])}}function HM(t,e,n="x"){const i=WS(n),s=t.length;let r,o,a,l=Lo(t,0);for(let u=0;u<s;++u){if(o=a,a=l,l=Lo(t,u+1),!a)continue;const h=a[n],d=a[i];o&&(r=(h-o[n])/3,a[`cp1${n}`]=h-r,a[`cp1${i}`]=d-r*e[u]),l&&(r=(l[n]-h)/3,a[`cp2${n}`]=h+r,a[`cp2${i}`]=d+r*e[u])}}function WM(t,e="x"){const n=WS(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,u=Lo(t,0);for(o=0;o<i;++o)if(a=l,l=u,u=Lo(t,o+1),!!l){if(u){const h=u[e]-l[e];s[o]=h!==0?(u[n]-l[n])/h:0}r[o]=a?u?wi(s[o-1])!==wi(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}$M(t,s,r),HM(t,r,e)}function Pu(t,e,n){return Math.max(Math.min(t,n),e)}function qM(t,e){let n,i,s,r,o,a=Ni(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&Ni(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Pu(s.cp1x,e.left,e.right),s.cp1y=Pu(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Pu(s.cp2x,e.left,e.right),s.cp2y=Pu(s.cp2y,e.top,e.bottom)))}function GM(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")WM(t,s);else{let u=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=UM(u,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&qM(t,n)}function cm(){return typeof window<"u"&&typeof document<"u"}function hm(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Kc(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const qh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function KM(t,e){return qh(t).getPropertyValue(e)}const QM=["top","right","bottom","left"];function mr(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=QM[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const YM=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function XM(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(YM(s,r,t.target))a=s,l=r;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ir(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=qh(n),r=s.boxSizing==="border-box",o=mr(s,"padding"),a=mr(s,"border","width"),{x:l,y:u,box:h}=XM(t,n),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:g,height:p}=e;return r&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/g*n.width/i),y:Math.round((u-f)/p*n.height/i)}}function ZM(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&hm(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=qh(r),l=mr(a,"border","width"),u=mr(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,i=Kc(a.maxWidth,r,"clientWidth"),s=Kc(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||qc,maxHeight:s||qc}}const gs=t=>Math.round(t*10)/10;function JM(t,e,n,i){const s=qh(t),r=mr(s,"margin"),o=Kc(s.maxWidth,t,"clientWidth")||qc,a=Kc(s.maxHeight,t,"clientHeight")||qc,l=ZM(t,e,n);let{width:u,height:h}=l;if(s.boxSizing==="content-box"){const f=mr(s,"border","width"),g=mr(s,"padding");u-=g.width+f.width,h-=g.height+f.height}return u=Math.max(0,u-r.width),h=Math.max(0,i?u/i:h-r.height),u=gs(Math.min(u,o,l.maxWidth)),h=gs(Math.min(h,a,l.maxHeight)),u&&!h&&(h=gs(u/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,u=gs(Math.floor(h*i))),{width:u,height:h}}function __(t,e,n){const i=e||1,s=gs(t.height*i),r=gs(t.width*i);t.height=gs(t.height),t.width=gs(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const eI=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};cm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function w_(t,e){const n=KM(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function sr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function tI(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function nI(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=sr(t,s,n),a=sr(s,r,n),l=sr(r,e,n),u=sr(o,a,n),h=sr(a,l,n);return sr(u,h,n)}const iI=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},sI=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ho(t,e,n){return t?iI(e,n):sI()}function qS(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function GS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function KS(t){return t==="angle"?{between:ml,compare:rM,normalize:Kt}:{between:Oi,compare:(e,n)=>e-n,normalize:e=>e}}function b_({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function rI(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=KS(i),l=e.length;let{start:u,end:h,loop:d}=t,f,g;if(d){for(u+=l,h+=l,f=0,g=l;f<g&&o(a(e[u%l][i]),s,r);++f)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:d,style:t.style}}function QS(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:u}=KS(i),{start:h,end:d,loop:f,style:g}=rI(t,e,n),p=[];let y=!1,b=null,x,_,k;const L=()=>l(s,k,x)&&a(s,k)!==0,T=()=>a(r,x)===0||l(r,k,x),R=()=>y||L(),S=()=>!y||T();for(let E=h,C=h;E<=d;++E)_=e[E%o],!_.skip&&(x=u(_[i]),x!==k&&(y=l(x,s,r),b===null&&R()&&(b=a(x,s)===0?E:C),b!==null&&S()&&(p.push(b_({start:b,end:E,loop:f,count:o,style:g})),b=null),C=E,k=x));return b!==null&&p.push(b_({start:b,end:d,loop:f,count:o,style:g})),p}function YS(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=QS(i[s],t.points,e);r.length&&n.push(...r)}return n}function oI(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function aI(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function lI(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=oI(n,s,r,i);if(i===!0)return x_(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,u=!!t._fullLoop&&o===0&&a===s-1;return x_(t,aI(n,o,l,u),n,e)}function x_(t,e,n,i){return!i||!i.setContext||!n?e:uI(t,e,n,i)}function uI(t,e,n,i){const s=t._chart.getContext(),r=E_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let h=r,d=e[0].start,f=d;function g(p,y,b,x){const _=a?-1:1;if(p!==y){for(p+=l;n[p%l].skip;)p-=_;for(;n[y%l].skip;)y+=_;p%l!==y%l&&(u.push({start:p%l,end:y%l,loop:b,style:x}),h=x,d=y%l)}}for(const p of e){d=a?d:p.start;let y=n[d%l],b;for(f=d+1;f<=p.end;f++){const x=n[f%l];b=E_(i.setContext($s(s,{type:"segment",p0:y,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),cI(b,h)&&g(d,f-1,p.loop,h),y=x,h=b}d<f-1&&g(d,f-1,p.loop,h)}return u}function E_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function cI(t,e){if(!e)return!1;const n=[],i=function(s,r){return rm(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Au(t,e,n){return t.options.clip?t[n]:e[n]}function hI(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Au(n,e,"left"),right:Au(n,e,"right"),top:Au(i,e,"top"),bottom:Au(i,e,"bottom")}:e}function XS(t,e){const n=e._clip;if(n.disabled)return!1;const i=hI(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class dI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=RS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Li=new dI;const S_="transparent",fI={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=p_(t||S_),s=i.valid&&p_(e||S_);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class pI{constructor(e,n,i,s){const r=n[i];s=ba([e.to,s,r,e.from]);const o=ba([e.from,r,s]);this._active=!0,this._fn=e.fn||fI[e.type||typeof o],this._easing=Fa[e.easing]||Fa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=ba([e.to,n,s,e.from]),this._from=ba([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class ZS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!xe(e))return;const n=Object.keys(et.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!xe(r))return;const o={};for(const a of n)o[a]=r[a];(Je(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=mI(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&gI(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const h=n[u];let d=r[u];const f=i.get(u);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){e[u]=h;continue}r[u]=d=new pI(f,e,u,h),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Li.add(this._chart,i),!0}}function gI(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function mI(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function C_(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function vI(t,e,n){if(n===!1)return!1;const i=C_(t,n),s=C_(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function yI(t){let e,n,i,s;return xe(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function JS(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function k_(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,u;if(e===null)return;let h=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(h=!0,i.all)continue;break}u=t.values[l],ht(u)&&(r||e===0||wi(e)===wi(u))&&(e+=u)}return!h&&!i.all?0:e}function _I(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,h;for(l=0,u=o.length;l<u;++l)h=o[l],a[l]={[s]:h,[r]:t[h]};return a}function Xd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function wI(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function bI(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function xI(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function L_(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function T_(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,u=o.axis,h=wI(r,o,i),d=e.length;let f;for(let g=0;g<d;++g){const p=e[g],{[l]:y,[u]:b}=p,x=p._stacks||(p._stacks={});f=x[u]=xI(s,h,y),f[a]=b,f._top=L_(f,o,!0,i.type),f._bottom=L_(f,o,!1,i.type);const _=f._visualValues||(f._visualValues={});_[a]=b}}function Zd(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function EI(t,e){return $s(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function SI(t,e,n){return $s(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function aa(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Jd=t=>t==="reset"||t==="none",P_=(t,e)=>e?t:Object.assign({},t),CI=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:JS(n,!0),values:null};class ti{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&aa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(d,f,g,p)=>d==="x"?f:d==="r"?p:g,r=n.xAxisID=he(i.xAxisID,Zd(e,"x")),o=n.yAxisID=he(i.yAxisID,Zd(e,"y")),a=n.rAxisID=he(i.rAxisID,Zd(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,r,o,a),h=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&h_(this._data,this),e._stacked&&aa(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(xe(n)){const s=this._cachedMeta;this._data=_I(n,s)}else if(i!==n){if(i){h_(i,this);const s=this._cachedMeta;aa(s),s._parsed=[]}n&&Object.isExtensible(n)&&uM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Xd(n.vScale,n),n.stack!==i.stack&&(s=!0,aa(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(T_(this,n._parsed),n._stacked=Xd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],h,d,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Je(s[e])?f=this.parseArrayData(i,s,e,n):xe(s[e])?f=this.parseObjectData(i,s,e,n):f=this.parsePrimitiveData(i,s,e,n);const g=()=>d[a]===null||u&&d[a]<u[a];for(h=0;h<n;++h)i._parsed[h+e]=d=f[h],l&&(g()&&(l=!1),u=d);i._sorted=l}o&&T_(this,f)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,u=r.getLabels(),h=r===o,d=new Array(s);let f,g,p;for(f=0,g=s;f<g;++f)p=f+i,d[f]={[a]:h||r.parse(u[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,u,h,d;for(l=0,u=s;l<u;++l)h=l+i,d=n[h],a[l]={x:r.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let h,d,f,g;for(h=0,d=s;h<d;++h)f=h+i,g=n[f],u[h]={x:r.parse(Os(g,a),f),y:o.parse(Os(g,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:JS(s,!0),values:n._stacks[e.axis]._visualValues};return k_(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=k_(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=CI(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=bI(a);let f,g;function p(){g=s[f];const y=g[a.axis];return!ht(g[e.axis])||h>y||d<y}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(u,e,g,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,e,g,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],ht(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=yI(he(this.options.clip,vI(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,r,a,l),h=a;h<a+l;++h){const d=s[h];d.hidden||(d.active&&u?o.push(d):d.draw(e,r))}for(h=0;h<o.length;++h)o[h].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=SI(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=EI(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&gl(i);if(a)return P_(a,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),h),g=Object.keys(et.elements[e]),p=()=>this.getContext(i,s,n),y=u.resolveNamedOptions(f,g,p,d);return y.$shared&&(y.$shared=l,r[o]=Object.freeze(P_(y,l))),y}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,i,n))}const u=new ZS(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Jd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Jd(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Jd(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&aa(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(ti,"defaults",{}),Z(ti,"datasetElementType",null),Z(ti,"dataElementType",null);function kI(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=IS(i.sort((s,r)=>s-r))}return t._cache.$bar}function LI(t){const e=t.iScale,n=kI(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(gl(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function TI(t,e,n,i){const s=n.barThickness;let r,o;return we(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function PI(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function AI(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:r,min:o,max:a}}function e1(t,e,n,i){return Je(t)?AI(t,e,n,i):e[n.axis]=n.parse(t,i),e}function A_(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let u,h,d,f;for(u=n,h=n+i;u<h;++u)f=e[u],d={},d[s.axis]=a||s.parse(o[u],u),l.push(e1(f,d,r,u));return l}function ef(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function MI(t,e,n){return t!==0?wi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function II(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function RI(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:h}=II(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=u:(n._bottom||0)===i?s=h:(r[M_(h,o,a,l)]=!0,s=u)),r[M_(s,o,a,l)]=!0,t.borderSkipped=r}function M_(t,e,n,i){return i?(t=OI(t,e,n),t=I_(t,n,e)):t=I_(t,e,n),t}function OI(t,e,n){return t===e?n:t===n?e:t}function I_(t,e,n){return t==="start"?e:t==="end"?n:t}function DI(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ba extends ti{parsePrimitiveData(e,n,i,s){return A_(e,n,i,s)}parseArrayData(e,n,i,s){return A_(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=r.axis==="x"?a:l,h=o.axis==="x"?a:l,d=[];let f,g,p,y;for(f=i,g=i+s;f<g;++f)y=n[f],p={},p[r.axis]=r.parse(Os(y,u),f),d.push(e1(Os(y,h),p,o,f));return d}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=ef(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s);for(let g=n;g<n+i;g++){const p=this.getParsed(g),y=r||we(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,h),x=(p._stacks||{})[a.axis],_={horizontal:u,base:y.base,enableBorderRadius:!x||ef(p._custom)||o===x._top||o===x._bottom,x:u?y.head:b.center,y:u?b.center:y.head,height:u?b.size:Math.abs(y.size),width:u?Math.abs(y.size):b.size};f&&(_.options=d||this.resolveDataElementOptions(g,e[g].active?"active":s));const k=_.options||e[g].options;RI(_,k,x,o),DI(_,k,h.ratio),this.updateElement(e[g],g,_,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],u=h=>{const d=h._parsed.find(g=>g[i.axis]===l),f=d&&d[h.vScale.axis];if(we(f)||isNaN(f))return!0};for(const h of s)if(!(n!==void 0&&u(h))&&((r===!1||o.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[he(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||LI(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),u=l._custom,h=ef(u);let d=l[n.axis],f=0,g=i?this.applyStack(n,l,i):d,p,y;g!==d&&(f=g-d,g=d),h&&(d=u.barStart,g=u.barEnd-u.barStart,d!==0&&wi(d)!==wi(u.barEnd)&&(f=0),f+=d);const b=!we(r)&&!h?r:f;let x=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+g):p=x,y=p-x,Math.abs(y)<o){y=MI(y,n,a)*o,d===a&&(x-=y/2);const _=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),L=Math.min(_,k),T=Math.max(_,k);x=Math.max(Math.min(x,T),L),p=x+y,i&&!h&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(x))}if(x===n.getPixelForValue(a)){const _=wi(y)*n.getLineWidthForValue(a)/2;x+=_,y-=_}return{size:y,base:x,head:p,center:p+y/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=he(s.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const h=r?this._getStackCount(e):n.stackCount,d=s.barThickness==="flex"?PI(e,n,s,h*u):TI(e,n,s,h*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(he(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;a=d.start+d.chunk*p+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}Z(Ba,"id","bar"),Z(Ba,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Z(Ba,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ac extends ti{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=he(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=he(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),u=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,s),h=o.axis,d=a.axis;for(let f=n;f<n+i;f++){const g=e[f],p=!r&&this.getParsed(f),y={},b=y[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[h]),x=y[d]=r?a.getBasePixel():a.getPixelForValue(p[d]);y.skip=isNaN(b)||isNaN(x),u&&(y.options=l||this.resolveDataElementOptions(f,g.active?"active":s),r&&(y.options.radius=0)),this.updateElement(g,f,y,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=he(i&&i._custom,r),s}}Z(ac,"id","bubble"),Z(ac,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Z(ac,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function NI(t,e,n){let i=1,s=1,r=0,o=0;if(e<Ke){const a=t,l=a+e,u=Math.cos(a),h=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(k,L,T)=>ml(k,a,l,!0)?1:Math.max(L,L*n,T,T*n),p=(k,L,T)=>ml(k,a,l,!0)?-1:Math.min(L,L*n,T,T*n),y=g(0,u,d),b=g(gt,h,f),x=p(Ie,u,d),_=p(Ie+gt,h,f);i=(y-x)/2,s=(b-_)/2,r=-(y+x)/2,o=-(b+_)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class ms extends ti{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(xe(i[e])){const{key:l="value"}=this._parsing;r=u=>+Os(i[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Xn(this.options.rotation-90)}_getCircumference(){return Xn(this.options.circumference)}_getRotationExtents(){let e=Ke,n=-Ke;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(KA(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:y}=NI(d,h,l),b=(i.width-o)/f,x=(i.height-o)/g,_=Math.max(Math.min(b,x)/2,0),k=LS(this.options.radius,_),L=Math.max(k*l,0),T=(k-L)/this._getVisibleDatasetWeightTotal();this.offsetX=p*k,this.offsetY=y*k,s.total=this.calculateTotal(),this.outerRadius=k-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Ke)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,h=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=r&&u.animateScale,g=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,s);let x=this._getRotation(),_;for(_=0;_<n;++_)x+=this._circumference(_,r);for(_=n;_<n+i;++_){const k=this._circumference(_,r),L=e[_],T={x:h+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+k,circumference:k,outerRadius:p,innerRadius:g};b&&(T.options=y||this.resolveDataElementOptions(_,L.active?"active":s)),x+=k,this.updateElement(L,_,T,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ke*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=zl(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(he(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Z(ms,"id","doughnut"),Z(ms,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Z(ms,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Z(ms,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const d=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:d.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:s,pointStyle:i,borderRadius:o&&(a||d.borderRadius),index:u}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class za extends ti{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=DS(n,s,o);this._drawStart=a,this._drawCount=l,NS(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s),f=o.axis,g=a.axis,{spanGaps:p,segment:y}=this.options,b=Co(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||s==="none",_=n+i,k=e.length;let L=n>0&&this.getParsed(n-1);for(let T=0;T<k;++T){const R=e[T],S=x?R:{};if(T<n||T>=_){S.skip=!0;continue}const E=this.getParsed(T),C=we(E[g]),P=S[f]=o.getPixelForValue(E[f],T),M=S[g]=r||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[g],T);S.skip=isNaN(P)||isNaN(M)||C,S.stop=T>0&&Math.abs(E[f]-L[f])>b,y&&(S.parsed=E,S.raw=u.data[T]),d&&(S.options=h||this.resolveDataElementOptions(T,R.active?"active":s)),x||this.updateElement(R,T,S,s),L=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Z(za,"id","line"),Z(za,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(za,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ua extends ti{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=zl(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return HS.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,d=u.yCenter,f=u.getIndexAngle(0)-.5*Ie;let g=f,p;const y=360/this.countVisibleElements();for(p=0;p<n;++p)g+=this._computeAngle(p,s,y);for(p=n;p<n+i;p++){const b=e[p];let x=g,_=g+this._computeAngle(p,s,y),k=o.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;g=_,r&&(l.animateScale&&(k=0),l.animateRotate&&(x=_=f));const L={x:h,y:d,innerRadius:0,outerRadius:k,startAngle:x,endAngle:_,options:this.resolveDataElementOptions(p,b.active?"active":s)};this.updateElement(b,p,L,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Xn(this.resolveDataElementOptions(e,n).angle||i):0}}Z(Ua,"id","polarArea"),Z(Ua,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Z(Ua,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ep extends ms{}Z(Ep,"id","pie"),Z(Ep,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class lc extends ti{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return HS.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],u=this.resolveDataElementOptions(a,l.active?"active":s),h=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:h.x,f=o?r.yCenter:h.y,g={x:d,y:f,angle:h.angle,skip:isNaN(d)||isNaN(f),options:u};this.updateElement(l,a,g,s)}}}Z(lc,"id","radar"),Z(lc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Z(lc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class uc extends ti{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=DS(n,i,s);if(this._drawStart=r,this._drawCount=o,NS(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(n,s),d=this.getSharedOptions(h),f=this.includeOptions(s,d),g=o.axis,p=a.axis,{spanGaps:y,segment:b}=this.options,x=Co(y)?y:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none";let k=n>0&&this.getParsed(n-1);for(let L=n;L<n+i;++L){const T=e[L],R=this.getParsed(L),S=_?T:{},E=we(R[p]),C=S[g]=o.getPixelForValue(R[g],L),P=S[p]=r||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[p],L);S.skip=isNaN(C)||isNaN(P)||E,S.stop=L>0&&Math.abs(R[g]-k[g])>x,b&&(S.parsed=R,S.raw=u.data[L]),f&&(S.options=d||this.resolveDataElementOptions(L,T.active?"active":s)),_||this.updateElement(T,L,S,s),k=R}this.updateSharedOptions(d,s,h)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}Z(uc,"id","scatter"),Z(uc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Z(uc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var VI=Object.freeze({__proto__:null,BarController:Ba,BubbleController:ac,DoughnutController:ms,LineController:za,PieController:Ep,PolarAreaController:Ua,RadarController:lc,ScatterController:uc});function Zs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dm{constructor(e){Z(this,"options");this.options=e||{}}static override(e){Object.assign(dm.prototype,e)}init(){}formats(){return Zs()}parse(){return Zs()}format(){return Zs()}add(){return Zs()}diff(){return Zs()}startOf(){return Zs()}endOf(){return Zs()}}var FI={_date:dm};function jI(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?aM:Di;if(i){if(s._sharedOptions){const h=r[0],d=typeof h.getRange=="function"&&h.getRange(e);if(d){const f=u(r,e,n-d),g=u(r,e,n+d);return{lo:f.lo,hi:g.hi}}}}else{const h=u(r,e,n);if(l){const{vScale:d}=s._cachedMeta,{_parsed:f}=t,g=f.slice(0,h.lo+1).reverse().findIndex(y=>!we(y[d.axis]));h.lo-=Math.max(0,g);const p=f.slice(h.hi).findIndex(y=>!we(y[d.axis]));h.hi+=Math.max(0,p)}return h}}return{lo:0,hi:r.length-1}}function Gh(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:u,data:h}=r[a],{lo:d,hi:f}=jI(r[a],e,o,s);for(let g=d;g<=f;++g){const p=h[g];p.skip||i(p,u,g)}}}function BI(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function tf(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Gh(t,n,e,function(a,l,u){!s&&!Ni(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:u})},!0),r}function zI(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:d}=AS(o,{x:e.x,y:e.y});ml(d,u,h)&&s.push({element:o,datasetIndex:a,index:l})}return Gh(t,n,e,r),s}function UI(t,e,n,i,s,r){let o=[];const a=BI(n);let l=Number.POSITIVE_INFINITY;function u(h,d,f){const g=h.inRange(e.x,e.y,s);if(i&&!g)return;const p=h.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!g)return;const b=a(e,p);b<l?(o=[{element:h,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:h,datasetIndex:d,index:f})}return Gh(t,n,e,u),o}function nf(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?zI(t,e,n,s):UI(t,e,n,i,s,r)}function R_(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Gh(t,n,e,(l,u,h)=>{l[o]&&l[o](e[n],s)&&(r.push({element:l,datasetIndex:u,index:h}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var $I={modes:{index(t,e,n,i){const s=ir(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?tf(t,s,r,i,o):nf(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=a[0].index,d=u.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:h})}),l):[]},dataset(t,e,n,i){const s=ir(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?tf(t,s,r,i,o):nf(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let h=0;h<u.length;++h)a.push({element:u[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const s=ir(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return tf(t,s,r,i,o)},nearest(t,e,n,i){const s=ir(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return nf(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=ir(e,t);return R_(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=ir(e,t);return R_(t,s,"y",n.intersect,i)}}};const t1=["left","top","right","bottom"];function la(t,e){return t.filter(n=>n.pos===e)}function O_(t,e){return t.filter(n=>t1.indexOf(n.pos)===-1&&n.box.axis===e)}function ua(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function HI(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function WI(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!t1.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function qI(t,e){const n=WI(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,u=n[a.stack],h=u&&a.stackWeight/u.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=h?h*s:l&&e.availableHeight)}return n}function GI(t){const e=HI(t),n=ua(e.filter(u=>u.box.fullSize),!0),i=ua(la(e,"left"),!0),s=ua(la(e,"right")),r=ua(la(e,"top"),!0),o=ua(la(e,"bottom")),a=O_(e,"x"),l=O_(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:la(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function D_(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function n1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function KI(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!xe(s)){n.size&&(t[s]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[s]+=n.size}r.getPadding&&n1(o,r.getPadding());const a=Math.max(0,e.outerWidth-D_(o,t,"left","right")),l=Math.max(0,e.outerHeight-D_(o,t,"top","bottom")),u=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:h}:{same:h,other:u}}function QI(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function YI(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function xa(t,e,n,i){const s=[];let r,o,a,l,u,h;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,YI(a.horizontal,e));const{same:d,other:f}=KI(e,n,a,i);u|=d&&s.length,h=h||f,l.fullSize||s.push(a)}return u&&xa(s,e,n,i)||h}function Mu(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function N_(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,u=i[a.stack]||{placed:0,weight:1},h=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*h,f=u.size||l.height;gl(u.start)&&(o=u.start),l.fullSize?Mu(l,s.left,o,n.outerWidth-s.right-s.left,f):Mu(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*h,f=u.size||l.width;gl(u.start)&&(r=u.start),l.fullSize?Mu(l,r,s.top,f,n.outerHeight-s.bottom-s.top):Mu(l,r,e.top+u.placed,f,d),u.start=r,u.placed+=d,r=l.right}}e.x=r,e.y=o}var Zt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=tn(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=GI(t.boxes),l=a.vertical,u=a.horizontal;Oe(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},s);n1(f,tn(i));const g=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=qI(l.concat(u),d);xa(a.fullSize,g,d,p),xa(l,g,d,p),xa(u,g,d,p)&&xa(l,g,d,p),QI(g),N_(a.leftAndTop,g,d,p),g.x+=g.w,g.y+=g.h,N_(a.rightAndBottom,g,d,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Oe(a.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class i1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class XI extends i1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cc="$chartjs",ZI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},V_=t=>t===null||t==="";function JI(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[cc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",V_(s)){const r=w_(t,"width");r!==void 0&&(t.width=r)}if(V_(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=w_(t,"height");r!==void 0&&(t.height=r)}return t}const s1=eI?{passive:!0}:!1;function eR(t,e,n){t&&t.addEventListener(e,n,s1)}function tR(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,s1)}function nR(t,e){const n=ZI[t.type]||t.type,{x:i,y:s}=ir(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Qc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function iR(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Qc(a.addedNodes,i),o=o&&!Qc(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function sR(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Qc(a.removedNodes,i),o=o&&!Qc(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const yl=new Map;let F_=0;function r1(){const t=window.devicePixelRatio;t!==F_&&(F_=t,yl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function rR(t,e){yl.size||window.addEventListener("resize",r1),yl.set(t,e)}function oR(t){yl.delete(t),yl.size||window.removeEventListener("resize",r1)}function aR(t,e,n){const i=t.canvas,s=i&&hm(i);if(!s)return;const r=OS((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||r(u,h)});return o.observe(s),rR(t,r),o}function sf(t,e,n){n&&n.disconnect(),e==="resize"&&oR(t)}function lR(t,e,n){const i=t.canvas,s=OS(r=>{t.ctx!==null&&n(nR(r,t))},t);return eR(i,e,s),s}class uR extends i1{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(JI(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[cc])return!1;const i=n[cc].initial;["height","width"].forEach(r=>{const o=i[r];we(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[cc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:iR,detach:sR,resize:aR}[n]||lR;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:sf,detach:sf,resize:sf}[n]||tR)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return JM(e,n,i,s)}isAttached(e){const n=e&&hm(e);return!!(n&&n.isConnected)}}function cR(t){return!cm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?XI:uR}class ii{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Co(this.x)&&Co(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}Z(ii,"defaults",{}),Z(ii,"defaultRoutes");function hR(t,e){const n=t.options.ticks,i=dR(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?pR(e):[],o=r.length,a=r[0],l=r[o-1],u=[];if(o>s)return gR(e,u,r,o/s),u;const h=fR(r,e,s);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(Iu(e,u,h,we(g)?0:a-g,a),d=0,f=o-1;d<f;d++)Iu(e,u,h,r[d],r[d+1]);return Iu(e,u,h,l,we(g)?e.length:l+g),u}return Iu(e,u,h),u}function dR(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function fR(t,e,n){const i=mR(t),s=e.length/n;if(!i)return Math.max(s,1);const r=nM(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function pR(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function gR(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Iu(t,e,n,i,s){const r=he(i,0),o=Math.min(he(s,t.length),t.length);let a=0,l,u,h;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),h=r;h<0;)a++,h=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===h&&(e.push(t[u]),a++,h=Math.round(r+a*n))}function mR(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const vR=t=>t==="left"?"right":t==="right"?"left":t,j_=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,B_=(t,e)=>Math.min(e||t,t);function z_(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function yR(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(i===1?u=Math.max(l-r,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<r-a||l>o+a)))return l}function _R(t,e){Oe(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function ca(t){return t.drawTicks?t.tickLength:0}function U_(t,e){if(!t.display)return 0;const n=St(t.font,e),i=tn(t.padding);return(Je(t.text)?t.text.length:1)*n.lineHeight+i.height}function wR(t,e){return $s(t,{scale:e,type:"scale"})}function bR(t,e,n){return $s(t,{tick:n,index:e,type:"tick"})}function xR(t,e,n){let i=sm(t);return(n&&e!=="right"||!n&&e==="right")&&(i=vR(i)),i}function ER(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:h}=l;let d=0,f,g,p;const y=o-s,b=a-r;if(t.isHorizontal()){if(g=qt(i,r,a),xe(n)){const x=Object.keys(n)[0],_=n[x];p=h[x].getPixelForValue(_)+y-e}else n==="center"?p=(u.bottom+u.top)/2+y-e:p=j_(t,n,e);f=a-r}else{if(xe(n)){const x=Object.keys(n)[0],_=n[x];g=h[x].getPixelForValue(_)-b+e}else n==="center"?g=(u.left+u.right)/2-b+e:g=j_(t,n,e);p=qt(i,o,s),d=n==="left"?-gt:gt}return{titleX:g,titleY:p,maxWidth:f,rotation:d}}class Or extends ii{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=bn(e,Number.POSITIVE_INFINITY),n=bn(n,Number.NEGATIVE_INFINITY),i=bn(i,Number.POSITIVE_INFINITY),s=bn(s,Number.NEGATIVE_INFINITY),{min:bn(e,i),max:bn(n,s),minDefined:ht(e),maxDefined:ht(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:bn(n,bn(i,n)),max:bn(i,bn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MM(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?z_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Be(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=B_(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,g=At(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),d+6>a&&(a=g/(i-(e.offset?.5:1)),l=this.maxHeight-ca(e.grid)-n.padding-U_(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=nm(Math.min(Math.asin(At((h.highest.height+6)/a,-1,1)),Math.asin(At(l/u,-1,1))-Math.asin(At(f/u,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=U_(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=ca(r)+l):(e.height=this.maxHeight,e.width=ca(r)+l),i.display&&this.ticks.length){const{first:u,last:h,widest:d,highest:f}=this._getLabelSizes(),g=i.padding*2,p=Xn(this.labelRotation),y=Math.cos(p),b=Math.sin(p);if(a){const x=i.mirror?0:b*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+x+g)}else{const x=i.mirror?0:y*d.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+x+g)}this._calculatePadding(u,h,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?u?(f=s*e.width,g=i*n.height):(f=i*e.height,g=s*n.width):r==="start"?g=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let h=n.height/2,d=e.height/2;r==="start"?(h=0,d=e.height):r==="end"&&(h=n.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)we(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=z_(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/B_(n,i));let u=0,h=0,d,f,g,p,y,b,x,_,k,L,T;for(d=0;d<n;d+=l){if(p=e[d].label,y=this._resolveTickFontOptions(d),s.font=b=y.string,x=r[b]=r[b]||{data:{},gc:[]},_=y.lineHeight,k=L=0,!we(p)&&!Je(p))k=Gc(s,x.data,x.gc,k,p),L=_;else if(Je(p))for(f=0,g=p.length;f<g;++f)T=p[f],!we(T)&&!Je(T)&&(k=Gc(s,x.data,x.gc,k,T),L+=_);o.push(k),a.push(L),u=Math.max(k,u),h=Math.max(L,h)}_R(r,n);const R=o.indexOf(u),S=a.indexOf(h),E=C=>({width:o[C]||0,height:a[C]||0});return{first:E(0),last:E(n-1),widest:E(R),highest:E(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return oM(this._alignToPixels?Xs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=bR(this.getContext(),e,i))}return this.$context||(this.$context=wR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Xn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=ca(r),g=[],p=a.setContext(this.getContext()),y=p.display?p.width:0,b=y/2,x=function(Q){return Xs(i,Q,y)};let _,k,L,T,R,S,E,C,P,M,O,I;if(o==="top")_=x(this.bottom),S=this.bottom-f,C=_-b,M=x(e.top)+b,I=e.bottom;else if(o==="bottom")_=x(this.top),M=e.top,I=x(e.bottom)-b,S=_+b,C=this.top+f;else if(o==="left")_=x(this.right),R=this.right-f,E=_-b,P=x(e.left)+b,O=e.right;else if(o==="right")_=x(this.left),P=e.left,O=x(e.right)-b,R=_+b,E=this.left+f;else if(n==="x"){if(o==="center")_=x((e.top+e.bottom)/2+.5);else if(xe(o)){const Q=Object.keys(o)[0],ie=o[Q];_=x(this.chart.scales[Q].getPixelForValue(ie))}M=e.top,I=e.bottom,S=_+b,C=S+f}else if(n==="y"){if(o==="center")_=x((e.left+e.right)/2);else if(xe(o)){const Q=Object.keys(o)[0],ie=o[Q];_=x(this.chart.scales[Q].getPixelForValue(ie))}R=_-b,E=R-f,P=e.left,O=e.right}const J=he(s.ticks.maxTicksLimit,d),K=Math.max(1,Math.ceil(d/J));for(k=0;k<d;k+=K){const Q=this.getContext(k),ie=r.setContext(Q),j=a.setContext(Q),W=ie.lineWidth,q=ie.color,te=j.dash||[],ee=j.dashOffset,Y=ie.tickWidth,le=ie.tickColor,B=ie.tickBorderDash||[],ce=ie.tickBorderDashOffset;L=yR(this,k,l),L!==void 0&&(T=Xs(i,L,W),u?R=E=P=O=T:S=C=M=I=T,g.push({tx1:R,ty1:S,tx2:E,ty2:C,x1:P,y1:M,x2:O,y2:I,width:W,color:q,borderDash:te,borderDashOffset:ee,tickWidth:Y,tickColor:le,tickBorderDash:B,tickBorderDashOffset:ce}))}return this._ticksLength=d,this._borderValue=_,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:h,mirror:d}=r,f=ca(i.grid),g=f+h,p=d?-h:g,y=-Xn(this.labelRotation),b=[];let x,_,k,L,T,R,S,E,C,P,M,O,I="middle";if(s==="top")R=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")R=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const K=this._getYAxisLabelAlignment(f);S=K.textAlign,T=K.x}else if(s==="right"){const K=this._getYAxisLabelAlignment(f);S=K.textAlign,T=K.x}else if(n==="x"){if(s==="center")R=(e.top+e.bottom)/2+g;else if(xe(s)){const K=Object.keys(s)[0],Q=s[K];R=this.chart.scales[K].getPixelForValue(Q)+g}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")T=(e.left+e.right)/2-g;else if(xe(s)){const K=Object.keys(s)[0],Q=s[K];T=this.chart.scales[K].getPixelForValue(Q)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const J=this._getLabelSizes();for(x=0,_=a.length;x<_;++x){k=a[x],L=k.label;const K=r.setContext(this.getContext(x));E=this.getPixelForTick(x)+r.labelOffset,C=this._resolveTickFontOptions(x),P=C.lineHeight,M=Je(L)?L.length:1;const Q=M/2,ie=K.color,j=K.textStrokeColor,W=K.textStrokeWidth;let q=S;o?(T=E,S==="inner"&&(x===_-1?q=this.options.reverse?"left":"right":x===0?q=this.options.reverse?"right":"left":q="center"),s==="top"?u==="near"||y!==0?O=-M*P+P/2:u==="center"?O=-J.highest.height/2-Q*P+P:O=-J.highest.height+P/2:u==="near"||y!==0?O=P/2:u==="center"?O=J.highest.height/2-Q*P:O=J.highest.height-M*P,d&&(O*=-1),y!==0&&!K.showLabelBackdrop&&(T+=P/2*Math.sin(y))):(R=E,O=(1-M)*P/2);let te;if(K.showLabelBackdrop){const ee=tn(K.backdropPadding),Y=J.heights[x],le=J.widths[x];let B=O-ee.top,ce=0-ee.left;switch(I){case"middle":B-=Y/2;break;case"bottom":B-=Y;break}switch(S){case"center":ce-=le/2;break;case"right":ce-=le;break;case"inner":x===_-1?ce-=le:x>0&&(ce-=le/2);break}te={left:ce,top:B,width:le+ee.width,height:Y+ee.height,color:K.backdropColor}}b.push({label:L,font:C,textOffset:O,options:{rotation:y,color:ie,strokeColor:j,strokeWidth:W,textAlign:q,textBaseline:I,translation:[T,R],backdrop:te}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Xn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let u,h;return n==="left"?s?(h=this.right+r,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-a,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h=this.left)):n==="right"?s?(h=this.left+r,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+a,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,u,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,d,f;this.isHorizontal()?(u=Xs(e,this.left,o)-o/2,h=Xs(e,this.right,a)+a/2,d=f=l):(d=Xs(e,this.top,o)-o/2,f=Xs(e,this.bottom,a)+a/2,u=h=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,d),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Hh(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,u=o.label,h=o.textOffset;kr(i,u,0,h,l,a)}s&&Wh(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=St(i.font),o=tn(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||xe(n)?(l+=o.bottom,Je(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:h,maxWidth:d,rotation:f}=ER(this,l,n,a);kr(e,i.text,0,0,r,{color:i.color,maxWidth:d,rotation:f,textAlign:xR(a,n,s),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=he(e.grid&&e.grid.z,-1),s=he(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Or.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return St(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ru{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;kR(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,SR(e,o,i),this.override&&et.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in et[s]&&(delete et[s][i],this.override&&delete Cr[i])}}function SR(t,e,n){const i=pl(Object.create(null),[n?et.get(n):{},et.get(e),t.defaults]);et.set(e,i),t.defaultRoutes&&CR(e,t.defaultRoutes),t.descriptors&&et.describe(e,t.descriptors)}function CR(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");et.route(r,s,l,a)})}function kR(t){return"id"in t&&"defaults"in t}class LR{constructor(){this.controllers=new Ru(ti,"datasets",!0),this.elements=new Ru(ii,"elements"),this.plugins=new Ru(Object,"plugins"),this.scales=new Ru(Or,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Oe(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=tm(e);Be(i["before"+s],[],i),n[e](i),Be(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var gi=new LR;class TR{constructor(){this._init=void 0}notify(e,n,i,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Be(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){we(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=he(i.options&&i.options.plugins,{}),r=PR(i);return s===!1&&!n?[]:MR(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function PR(t){const e={},n=[],i=Object.keys(gi.plugins.items);for(let r=0;r<i.length;r++)n.push(gi.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function AR(t,e){return!e&&t===!1?null:t===!0?{}:t}function MR(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,u=AR(i[l],s);u!==null&&r.push({plugin:a,options:IR(t.config,{plugin:a,local:n[l]},u,o)})}return r}function IR(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sp(t,e){const n=et.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function RR(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function OR(t,e){return t===e?"_index_":"_value_"}function $_(t){if(t==="x"||t==="y"||t==="r")return t}function DR(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Cp(t,...e){if($_(t))return t;for(const n of e){const i=n.axis||DR(n.position)||t.length>1&&$_(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function H_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function NR(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return H_(t,"x",n[0])||H_(t,"y",n[0])}return{}}function VR(t,e){const n=Cr[t.type]||{scales:{}},i=e.scales||{},s=Sp(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!xe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Cp(o,a,NR(o,t),et.scales[a.type]),u=OR(l,s),h=n.scales||{};r[o]=Na(Object.create(null),[{axis:l},a,h[l],h[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Sp(a,e),h=(Cr[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=RR(d,l),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),Na(r[g],[{axis:f},i[g],h[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Na(a,[et.scales[a.type],et.scale])}),r}function o1(t){const e=t.options||(t.options={});e.plugins=he(e.plugins,{}),e.scales=VR(t,e)}function a1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function FR(t){return t=t||{},t.data=a1(t.data),o1(t),t}const W_=new Map,l1=new Set;function Ou(t,e){let n=W_.get(t);return n||(n=e(),W_.set(t,n),l1.add(n)),n}const ha=(t,e,n)=>{const i=Os(e,n);i!==void 0&&t.add(i)};class jR{constructor(e){this._config=FR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=a1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),o1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ou(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ou(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ou(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Ou(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(d=>ha(l,e,d))),h.forEach(d=>ha(l,s,d)),h.forEach(d=>ha(l,Cr[r]||{},d)),h.forEach(d=>ha(l,et,d)),h.forEach(d=>ha(l,bp,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),l1.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Cr[n]||{},et.datasets[n]||{},{type:n},et,bp]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=q_(this._resolverCache,e,s);let l=o;if(zR(o,n)){r.$shared=!1,i=Ds(i)?i():i;const u=this.createResolver(e,i,a);l=ko(o,i,u)}for(const u of n)r[u]=l[u];return r}createResolver(e,n,i=[""],s){const{resolver:r}=q_(this._resolverCache,e,i);return xe(n)?ko(r,n,void 0,s):r}}function q_(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:am(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const BR=t=>xe(t)&&Object.getOwnPropertyNames(t).some(e=>Ds(t[e]));function zR(t,e){const{isScriptable:n,isIndexable:i}=BS(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(Ds(a)||BR(a))||o&&Je(a))return!0}return!1}var UR="4.5.1";const $R=["top","bottom","left","right","chartArea"];function G_(t,e){return t==="top"||t==="bottom"||$R.indexOf(t)===-1&&e==="x"}function K_(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Q_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Be(n&&n.onComplete,[t],e)}function HR(t){const e=t.chart,n=e.options.animation;Be(n&&n.onProgress,[t],e)}function u1(t){return cm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const hc={},Y_=t=>{const e=u1(t);return Object.values(hc).filter(n=>n.canvas===e).pop()};function WR(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function qR(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var ss;let Kh=(ss=class{static register(...e){gi.add(...e),X_()}static unregister(...e){gi.remove(...e),X_()}constructor(e,n){const i=this.config=new jR(n),s=u1(e),r=Y_(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||cR(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,h=l&&l.width;if(this.id=GA(),this.ctx=a,this.canvas=l,this.width=h,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cM(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],hc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Li.listen(this,"complete",Q_),Li.listen(this,"progress",HR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return we(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():__(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return m_(this.canvas,this.ctx),this}stop(){return Li.stop(this),this}resize(e,n){Li.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,__(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Be(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Oe(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Cp(o,a),u=l==="r",h=l==="x";return{options:a,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Oe(r,o=>{const a=o.options,l=a.id,u=Cp(l,a),h=he(a.type,o.dtype);(a.position===void 0||G_(a.position,u)!==G_(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in i&&i[l].type===h)d=i[l];else{const f=gi.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),Oe(s,(o,a)=>{o||delete i[a]}),Oe(i,o=>{Zt.configure(this,o,o.options),Zt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(K_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Sp(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=gi.getController(a),{datasetElementType:u,dataElementType:h}=et.datasets[a];Object.assign(l,{dataElementType:gi.getElement(h),datasetElementType:u&&gi.getElement(u)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Oe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:d}=this.getDatasetMeta(u),f=!s&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Oe(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(K_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Oe(this.scales,e=>{Zt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!a_(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;WR(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!a_(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Oe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ds(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Li.has(this)?this.attached&&!Li.running(this)&&Li.start(this):(this.draw(),Q_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=XS(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Hh(n,s),e.controller.draw(),s&&Wh(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ni(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=$I.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=$s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);gl(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Li.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),m_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Oe(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},r=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Oe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Oe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Hc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,u)=>l.filter(h=>!u.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=JA(e),u=qR(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Be(r.onHover,[e,a,this],this),l&&Be(r.onClick,[e,a,this],this));const h=!Hc(a,s);return(h||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,h}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},Z(ss,"defaults",et),Z(ss,"instances",hc),Z(ss,"overrides",Cr),Z(ss,"registry",gi),Z(ss,"version",UR),Z(ss,"getChart",Y_),ss);function X_(){return Oe(Kh.instances,t=>t._plugins.invalidate())}function GR(t,e,n){const{startAngle:i,x:s,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:h}=l,d=Math.min(u/o,Kt(i-n));if(t.beginPath(),t.arc(s,r,o-u/2,i+d/2,n-d/2),a>0){const f=Math.min(u/a,Kt(i-n));t.arc(s,r,a+u/2,n-f/2,i+f/2,!0)}else{const f=Math.min(u/2,o*Kt(i-n));if(h==="round")t.arc(s,r,f,n-Ie/2,i+Ie/2,!0);else if(h==="bevel"){const g=2*f*f,p=-g*Math.cos(n+Ie/2)+s,y=-g*Math.sin(n+Ie/2)+r,b=g*Math.cos(i+Ie/2)+s,x=g*Math.sin(i+Ie/2)+r;t.lineTo(p,y),t.lineTo(b,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function KR(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let u=s/a;t.beginPath(),t.arc(r,o,a,i-u,n+u),l>s?(u=s/l,t.arc(r,o,l,n+u,i-u,!0)):t.arc(r,o,s,n+gt,i-gt),t.closePath(),t.clip()}function QR(t){return om(t,["outerStart","outerEnd","innerStart","innerEnd"])}function YR(t,e,n,i){const s=QR(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const u=(n-Math.min(r,l))*i/2;return At(l,0,Math.min(r,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:At(s.innerStart,0,o),innerEnd:At(s.innerEnd,0,o)}}function $r(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Yc(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:h}=e,d=Math.max(e.outerRadius+i+n-u,0),f=h>0?h+i+n+u:0;let g=0;const p=s-l;if(i){const K=h>0?h-i:0,Q=d>0?d-i:0,ie=(K+Q)/2,j=ie!==0?p*ie/(ie+i):p;g=(p-j)/2}const y=Math.max(.001,p*d-n/Ie)/d,b=(p-y)/2,x=l+b+g,_=s-b-g,{outerStart:k,outerEnd:L,innerStart:T,innerEnd:R}=YR(e,f,d,_-x),S=d-k,E=d-L,C=x+k/S,P=_-L/E,M=f+T,O=f+R,I=x+T/M,J=_-R/O;if(t.beginPath(),r){const K=(C+P)/2;if(t.arc(o,a,d,C,K),t.arc(o,a,d,K,P),L>0){const W=$r(E,P,o,a);t.arc(W.x,W.y,L,P,_+gt)}const Q=$r(O,_,o,a);if(t.lineTo(Q.x,Q.y),R>0){const W=$r(O,J,o,a);t.arc(W.x,W.y,R,_+gt,J+Math.PI)}const ie=(_-R/f+(x+T/f))/2;if(t.arc(o,a,f,_-R/f,ie,!0),t.arc(o,a,f,ie,x+T/f,!0),T>0){const W=$r(M,I,o,a);t.arc(W.x,W.y,T,I+Math.PI,x-gt)}const j=$r(S,x,o,a);if(t.lineTo(j.x,j.y),k>0){const W=$r(S,C,o,a);t.arc(W.x,W.y,k,x-gt,C)}}else{t.moveTo(o,a);const K=Math.cos(C)*d+o,Q=Math.sin(C)*d+a;t.lineTo(K,Q);const ie=Math.cos(P)*d+o,j=Math.sin(P)*d+a;t.lineTo(ie,j)}t.closePath()}function XR(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Yc(t,e,n,i,l,s);for(let u=0;u<r;++u)t.fill();isNaN(a)||(l=o+(a%Ke||Ke))}return Yc(t,e,n,i,l,s),t.fill(),l}function ZR(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:h,borderDash:d,borderDashOffset:f,borderRadius:g}=l,p=l.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let y=e.endAngle;if(r){Yc(t,e,n,i,y,s);for(let b=0;b<r;++b)t.stroke();isNaN(a)||(y=o+(a%Ke||Ke))}p&&KR(t,e,y),l.selfJoin&&y-o>=Ie&&g===0&&h!=="miter"&&GR(t,e,y),r||(Yc(t,e,n,i,y,s),t.stroke())}class Ea extends ii{constructor(n){super();Z(this,"circumference");Z(this,"endAngle");Z(this,"fullCircles");Z(this,"innerRadius");Z(this,"outerRadius");Z(this,"pixelMargin");Z(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=AS(r,{x:n,y:i}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,p=he(f,u-l),y=ml(o,l,u)&&l!==u,b=p>=Ke||y,x=Oi(a,h+g,d+g);return b&&x}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:h}=this.options,d=(r+o)/2,f=(a+l+h+u)/2;return{x:i+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ke?Math.floor(s/Ke):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const u=1-Math.sin(Math.min(Ie,s||0)),h=r*u;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,XR(n,this,h,o,a),ZR(n,this,h,o,a),n.restore()}}Z(Ea,"id","arc"),Z(Ea,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Z(Ea,"defaultRoutes",{backgroundColor:"backgroundColor"}),Z(Ea,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function c1(t,e,n=e){t.lineCap=he(n.borderCapStyle,e.borderCapStyle),t.setLineDash(he(n.borderDash,e.borderDash)),t.lineDashOffset=he(n.borderDashOffset,e.borderDashOffset),t.lineJoin=he(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=he(n.borderWidth,e.borderWidth),t.strokeStyle=he(n.borderColor,e.borderColor)}function JR(t,e,n){t.lineTo(n.x,n.y)}function eO(t){return t.stepped?xM:t.tension||t.cubicInterpolationMode==="monotone"?EM:JR}function h1(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),u=Math.min(r,a),h=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!h?i+u-l:u-l}}function tO(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:u}=h1(s,n,i),h=eO(r);let{move:d=!0,reverse:f}=i||{},g,p,y;for(g=0;g<=u;++g)p=s[(a+(f?u-g:g))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):h(t,y,p,f,r.stepped),y=p);return l&&(p=s[(a+(f?u:0))%o],h(t,y,p,f,r.stepped)),!!l}function nO(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=h1(s,n,i),{move:l=!0,reverse:u}=i||{};let h=0,d=0,f,g,p,y,b,x;const _=L=>(o+(u?a-L:L))%r,k=()=>{y!==b&&(t.lineTo(h,b),t.lineTo(h,y),t.lineTo(h,x))};for(l&&(g=s[_(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=s[_(f)],g.skip)continue;const L=g.x,T=g.y,R=L|0;R===p?(T<y?y=T:T>b&&(b=T),h=(d*h+L)/++d):(k(),t.lineTo(L,T),p=R,d=0,y=b=T),x=T}k()}function kp(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?nO:tO}function iO(t){return t.stepped?tI:t.tension||t.cubicInterpolationMode==="monotone"?nI:sr}function sO(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),c1(t,e.options),t.stroke(s)}function rO(t,e,n,i){const{segments:s,options:r}=e,o=kp(e);for(const a of s)c1(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const oO=typeof Path2D=="function";function aO(t,e,n,i){oO&&!e.options.segment?sO(t,e,n,i):rO(t,e,n,i)}class vs extends ii{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;GM(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=lI(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=YS(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=iO(i);let u,h;for(u=0,h=o.length;u<h;++u){const{start:d,end:f}=o[u],g=r[d],p=r[f];if(g===p){a.push(g);continue}const y=Math.abs((s-g[n])/(p[n]-g[n])),b=l(g,p,y,i.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,i){return kp(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=kp(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),aO(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Z(vs,"id","line"),Z(vs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Z(vs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Z(vs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Z_(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class dc extends ii{constructor(n){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Z_(this,n,"x",i)}inYRange(n,i){return Z_(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Ni(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,xp(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Z(dc,"id","point"),Z(dc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(dc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function d1(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,h,d;return t.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),u=i-d,h=i+d):(d=r/2,a=n-d,l=n+d,u=Math.min(i,s),h=Math.max(i,s)),{left:a,top:u,right:l,bottom:h}}function ys(t,e,n,i){return t?0:At(e,n,i)}function lO(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=jS(i);return{t:ys(s.top,r.top,0,n),r:ys(s.right,r.right,0,e),b:ys(s.bottom,r.bottom,0,n),l:ys(s.left,r.left,0,e)}}function uO(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=gr(s),o=Math.min(e,n),a=t.borderSkipped,l=i||xe(s);return{topLeft:ys(!l||a.top||a.left,r.topLeft,0,o),topRight:ys(!l||a.top||a.right,r.topRight,0,o),bottomLeft:ys(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:ys(!l||a.bottom||a.right,r.bottomRight,0,o)}}function cO(t){const e=d1(t),n=e.right-e.left,i=e.bottom-e.top,s=lO(t,n/2,i/2),r=uO(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function rf(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&d1(t,i);return a&&(s||Oi(e,a.left,a.right))&&(r||Oi(n,a.top,a.bottom))}function hO(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function dO(t,e){t.rect(e.x,e.y,e.w,e.h)}function of(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class fc extends ii{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=cO(this),a=hO(o.radius)?vl:dO;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,of(o,n,r)),e.clip(),a(e,of(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,of(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return rf(this,e,n,i)}inXRange(e,n){return rf(this,e,null,n)}inYRange(e,n){return rf(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Z(fc,"id","bar"),Z(fc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Z(fc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var fO=Object.freeze({__proto__:null,ArcElement:Ea,BarElement:fc,LineElement:vs,PointElement:dc});const Lp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],J_=Lp.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function f1(t){return Lp[t%Lp.length]}function p1(t){return J_[t%J_.length]}function pO(t,e){return t.borderColor=f1(e),t.backgroundColor=p1(e),++e}function gO(t,e){return t.backgroundColor=t.data.map(()=>f1(e++)),e}function mO(t,e){return t.backgroundColor=t.data.map(()=>p1(e++)),e}function vO(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof ms?e=gO(n,e):s instanceof Ua?e=mO(n,e):s&&(e=pO(n,e))}}function e0(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function yO(t){return t&&(t.borderColor||t.backgroundColor)}function _O(){return et.borderColor!=="rgba(0,0,0,0.1)"||et.backgroundColor!=="rgba(0,0,0,0.1)"}var wO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s,o=e0(i)||yO(s)||r&&e0(r)||_O();if(!n.forceOverride&&o)return;const a=vO(t);i.forEach(a)}};function bO(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const u=e+n-1;let h=e,d,f,g,p,y;for(o[l++]=t[h],d=0;d<r-2;d++){let b=0,x=0,_;const k=Math.floor((d+1)*a)+1+e,L=Math.min(Math.floor((d+2)*a)+1,n)+e,T=L-k;for(_=k;_<L;_++)b+=t[_].x,x+=t[_].y;b/=T,x/=T;const R=Math.floor(d*a)+1+e,S=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:E,y:C}=t[h];for(g=p=-1,_=R;_<S;_++)p=.5*Math.abs((E-b)*(t[_].y-C)-(E-t[_].x)*(x-C)),p>g&&(g=p,f=t[_],y=_);o[l++]=f,h=y}return o[l++]=t[u],o}function xO(t,e,n,i){let s=0,r=0,o,a,l,u,h,d,f,g,p,y;const b=[],x=e+n-1,_=t[e].x,L=t[x].x-_;for(o=e;o<e+n;++o){a=t[o],l=(a.x-_)/L*i,u=a.y;const T=l|0;if(T===h)u<p?(p=u,d=o):u>y&&(y=u,f=o),s=(r*s+a.x)/++r;else{const R=o-1;if(!we(d)&&!we(f)){const S=Math.min(d,f),E=Math.max(d,f);S!==g&&S!==R&&b.push({...t[S],x:s}),E!==g&&E!==R&&b.push({...t[E],x:s})}o>0&&R!==g&&b.push(t[R]),b.push(a),h=T,r=0,p=y=u,d=f=g=o}}return b}function g1(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function t0(t){t.data.datasets.forEach(e=>{g1(e)})}function EO(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:u}=r.getUserBounds();return l&&(i=At(Di(e,r.axis,o).lo,0,n-1)),u?s=At(Di(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var SO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){t0(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),u=o||s.data;if(ba([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=t.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||t.options.parsing)return;let{start:d,count:f}=EO(l,u);const g=n.threshold||4*i;if(f<=g){g1(s);return}we(o)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let p;switch(n.algorithm){case"lttb":p=bO(u,d,f,i,n);break;case"min-max":p=xO(u,d,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(t){t0(t)}};function CO(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:u}=a;u=Qh(l,u,s);const h=Tp(n,s[l],s[u],a.loop);if(!e.segments){o.push({source:a,target:h,start:s[l],end:s[u]});continue}const d=YS(e,h);for(const f of d){const g=Tp(n,r[f.start],r[f.end],f.loop),p=QS(a,s,g);for(const y of p)o.push({source:y,target:f,start:{[n]:n0(h,g,"start",Math.max)},end:{[n]:n0(h,g,"end",Math.min)}})}}return o}function Tp(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Kt(s),r=Kt(r)),{property:t,start:s,end:r}}function kO(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Qh(o,a,s);const l=s[o],u=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:u.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:u.y}))}),r}function Qh(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function n0(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function m1(t,e){let n=[],i=!1;return Je(t)?(i=!0,n=t):n=kO(t,e),n.length?new vs({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function i0(t){return t&&t.fill!==!1}function LO(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!ht(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function TO(t,e,n){const i=IO(t);if(xe(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return ht(s)&&Math.floor(s)===s?PO(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function PO(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function AO(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:xe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function MO(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:xe(t)?i=t.value:i=e.getBaseValue(),i}function IO(t){const e=t.options,n=e.fill;let i=he(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function RO(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=OO(e,n);a.push(m1({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const u=r[l];for(let h=u.start;h<=u.end;h++)DO(s,o[h],a)}return new vs({points:s,options:{}})}function OO(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function DO(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=NO(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function NO(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<r.length;u++){const h=r[u],d=o[h.start][n],f=o[h.end][n];if(Oi(s,d,f)){a=s===d,l=s===f;break}}return{first:a,last:l,point:i}}class v1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Ke},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function VO(t){const{chart:e,fill:n,line:i}=t;if(ht(n))return FO(e,n);if(n==="stack")return RO(t);if(n==="shape")return!0;const s=jO(t);return s instanceof v1?s:m1(s,i)}function FO(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function jO(t){return(t.scale||{}).getPointPositionForValue?zO(t):BO(t)}function BO(t){const{scale:e={},fill:n}=t,i=AO(n,e);if(ht(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function zO(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=MO(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new v1({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function af(t,e,n){const i=VO(e),{chart:s,index:r,line:o,scale:a,axis:l}=e,u=o.options,h=u.fill,d=u.backgroundColor,{above:f=d,below:g=d}=h||{},p=s.getDatasetMeta(r),y=XS(s,p);i&&o.points.length&&(Hh(t,n),UO(t,{line:o,target:i,above:f,below:g,area:n,scale:a,axis:l,clip:y}),Wh(t))}function UO(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let h=r;r!==s&&(u==="x"?(s0(t,i,o.top),lf(t,{line:n,target:i,color:s,scale:a,property:u,clip:l}),t.restore(),t.save(),s0(t,i,o.bottom)):u==="y"&&(r0(t,i,o.left),lf(t,{line:n,target:i,color:r,scale:a,property:u,clip:l}),t.restore(),t.save(),r0(t,i,o.right),h=s)),lf(t,{line:n,target:i,color:h,scale:a,property:u,clip:l}),t.restore()}function s0(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:u}=a,h=s[l],d=s[Qh(l,u,s)];r?(t.moveTo(h.x,h.y),r=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function r0(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:u}=a,h=s[l],d=s[Qh(l,u,s)];r?(t.moveTo(h.x,h.y),r=!1):(t.lineTo(n,h.y),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function lf(t,e){const{line:n,target:i,property:s,color:r,scale:o,clip:a}=e,l=CO(n,i,s);for(const{source:u,target:h,start:d,end:f}of l){const{style:{backgroundColor:g=r}={}}=u,p=i!==!0;t.save(),t.fillStyle=g,$O(t,o,a,p&&Tp(s,d,f)),t.beginPath();const y=!!n.pathSegment(t,u);let b;if(p){y?t.closePath():o0(t,i,f,s);const x=!!i.pathSegment(t,h,{move:y,reverse:!0});b=y&&x,b||o0(t,i,d,s)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function $O(t,e,n,i){const s=e.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let l,u,h,d;r==="x"?(l=o,u=s.top,h=a,d=s.bottom):(l=s.left,u=o,h=s.right,d=a),t.beginPath(),n&&(l=Math.max(l,n.left),h=Math.min(h,n.right),u=Math.max(u,n.top),d=Math.min(d,n.bottom)),t.rect(l,u,h-l,d-u),t.clip()}}function o0(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var HO={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof vs&&(l={visible:t.isDatasetVisible(o),index:o,fill:TO(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=LO(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&af(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;i0(r)&&af(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!i0(i)||n.drawTime!=="beforeDatasetDraw"||af(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const a0=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},WO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class l0 extends ii{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=St(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=a0(i,r);let u,h;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=s+a;let d=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((p,y)=>{const b=i+n/2+r.measureText(p.text).width;(y===0||u[u.length-1]+b+2*a>o)&&(d+=h,u[u.length-(y>0?0:1)]=0,g+=h,f++),l[y]={left:0,top:g,row:f,width:b,height:s},u[u.length-1]+=b+a}),d}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-e;let d=a,f=0,g=0,p=0,y=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:_,itemHeight:k}=qO(i,n,r,b,s);x>0&&g+k+2*a>h&&(d+=f+a,u.push({width:f,height:g}),p+=f+a,y++,f=g=0),l[x]={left:p,top:g,col:y,width:_,height:k},f=Math.max(f,_),g+=k+a}),d+=f,u.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=ho(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=qt(i,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=qt(i,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=qt(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=qt(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Hh(e,this),this._draw(),Wh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=et.color,l=ho(e.rtl,this.left,this.width),u=St(o.font),{padding:h}=o,d=u.size,f=d/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:p,boxHeight:y,itemHeight:b}=a0(o,d),x=function(R,S,E){if(isNaN(p)||p<=0||isNaN(y)||y<0)return;s.save();const C=he(E.lineWidth,1);if(s.fillStyle=he(E.fillStyle,a),s.lineCap=he(E.lineCap,"butt"),s.lineDashOffset=he(E.lineDashOffset,0),s.lineJoin=he(E.lineJoin,"miter"),s.lineWidth=C,s.strokeStyle=he(E.strokeStyle,a),s.setLineDash(he(E.lineDash,[])),o.usePointStyle){const P={radius:y*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:C},M=l.xPlus(R,p/2),O=S+f;FS(s,P,M,O,o.pointStyleWidth&&p)}else{const P=S+Math.max((d-y)/2,0),M=l.leftForLtr(R,p),O=gr(E.borderRadius);s.beginPath(),Object.values(O).some(I=>I!==0)?vl(s,{x:M,y:P,w:p,h:y,radius:O}):s.rect(M,P,p,y),s.fill(),C!==0&&s.stroke()}s.restore()},_=function(R,S,E){kr(s,E.text,R,S+b/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},k=this.isHorizontal(),L=this._computeTitleHeight();k?g={x:qt(r,this.left+h,this.right-i[0]),y:this.top+h+L,line:0}:g={x:this.left+h,y:qt(r,this.top+L+h,this.bottom-n[0].height),line:0},qS(this.ctx,e.textDirection);const T=b+h;this.legendItems.forEach((R,S)=>{s.strokeStyle=R.fontColor,s.fillStyle=R.fontColor;const E=s.measureText(R.text).width,C=l.textAlign(R.textAlign||(R.textAlign=o.textAlign)),P=p+f+E;let M=g.x,O=g.y;l.setWidth(this.width),k?S>0&&M+P+h>this.right&&(O=g.y+=T,g.line++,M=g.x=qt(r,this.left+h,this.right-i[g.line])):S>0&&O+T>this.bottom&&(M=g.x=M+n[g.line].width+h,g.line++,O=g.y=qt(r,this.top+L+h,this.bottom-n[g.line].height));const I=l.x(M);if(x(I,O,R),M=hM(C,M+p+f,k?M+P:this.right,e.rtl),_(l.x(M),O,R),k)g.x+=P+h;else if(typeof R.text!="string"){const J=u.lineHeight;g.y+=y1(R,J)+h}else g.y+=T}),GS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=St(n.font),s=tn(n.padding);if(!n.display)return;const r=ho(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=s.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+u,d=qt(e.align,d,this.right-f);else{const p=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);h=u+qt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const g=qt(a,d,d+f);o.textAlign=r.textAlign(sm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,kr(o,n.text,g,h,i)}_computeTitleHeight(){const e=this.options.title,n=St(e.font),i=tn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Oi(e,this.left,this.right)&&Oi(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Oi(e,s.left,s.left+s.width)&&Oi(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!QO(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=WO(s,i);s&&!r&&Be(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&Be(n.onHover,[e,i,this],this)}else i&&Be(n.onClick,[e,i,this],this)}}function qO(t,e,n,i,s){const r=GO(i,t,e,n),o=KO(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function GO(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function KO(t,e,n){let i=t;return typeof e.text!="string"&&(i=y1(e,n)),i}function y1(t,e){const n=t.text?t.text.length:0;return e*n}function QO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var YO={id:"legend",_element:l0,start(t,e,n){const i=t.legend=new l0({ctx:t.ctx,options:n,chart:t});Zt.configure(t,i,n),Zt.addBox(t,i)},stop(t){Zt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Zt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),h=tn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class fm extends ii{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Je(i.text)?i.text.length:1;this._padding=tn(i.padding);const r=s*St(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,u,h,d;return this.isHorizontal()?(h=qt(a,i,r),d=n+e,u=r-i):(o.position==="left"?(h=i+e,d=qt(a,s,n),l=Ie*-.5):(h=r-e,d=qt(a,n,s),l=Ie*.5),u=s-n),{titleX:h,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=St(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(r);kr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:sm(n.align),textBaseline:"middle",translation:[o,a]})}}function XO(t,e){const n=new fm({ctx:t.ctx,options:e,chart:t});Zt.configure(t,n,e),Zt.addBox(t,n),t.titleBlock=n}var ZO={id:"title",_element:fm,start(t,e,n){XO(t,n)},stop(t){const e=t.titleBlock;Zt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Zt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Du=new WeakMap;var JO={id:"subtitle",start(t,e,n){const i=new fm({ctx:t.ctx,options:n,chart:t});Zt.configure(t,i,n),Zt.addBox(t,i),Du.set(t,i)},stop(t){Zt.removeBox(t,Du.get(t)),Du.delete(t)},beforeUpdate(t,e,n){const i=Du.get(t);Zt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sa={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=wp(e,u);h<s&&(s=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function fi(t,e){return e&&(Je(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ti(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function eD(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function u0(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=St(e.bodyFont),u=St(e.titleFont),h=St(e.footerFont),d=r.length,f=s.length,g=i.length,p=tn(e.padding);let y=p.height,b=0,x=i.reduce((L,T)=>L+T.before.length+T.lines.length+T.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const L=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=g*L+(x-g)*l.lineHeight+(x-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let _=0;const k=function(L){b=Math.max(b,n.measureText(L).width+_)};return n.save(),n.font=u.string,Oe(t.title,k),n.font=l.string,Oe(t.beforeBody.concat(t.afterBody),k),_=e.displayColors?o+2+e.boxPadding:0,Oe(i,L=>{Oe(L.before,k),Oe(L.lines,k),Oe(L.after,k)}),_=0,n.font=h.string,Oe(t.footer,k),n.restore(),b+=p.width,{width:b,height:y}}function tD(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function nD(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function iD(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return i==="center"?u=s<=(a+l)/2?"left":"right":s<=r/2?u="left":s>=o-r/2&&(u="right"),nD(u,t,e,n)&&(u="center"),u}function c0(t,e,n){const i=n.yAlign||e.yAlign||tD(t,n);return{xAlign:n.xAlign||e.xAlign||iD(t,e,n,i),yAlign:i}}function sD(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function rD(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function h0(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=s+r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=gr(o);let p=sD(e,a);const y=rD(e,l,u);return l==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(h,f)+s:a==="right"&&(p+=Math.max(d,g)+s),{x:At(p,0,i.width-e.width),y:At(y,0,i.height-e.height)}}function Nu(t,e,n){const i=tn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function d0(t){return fi([],Ti(t))}function oD(t,e,n){return $s(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function f0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const _1={beforeTitle:ki,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ki,beforeBody:ki,beforeLabel:ki,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return we(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ki,afterBody:ki,beforeFooter:ki,footer:ki,afterFooter:ki};function an(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?_1[e].call(n,i):s}class Pp extends ii{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new ZS(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=oD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=an(i,"beforeTitle",this,e),r=an(i,"title",this,e),o=an(i,"afterTitle",this,e);let a=[];return a=fi(a,Ti(s)),a=fi(a,Ti(r)),a=fi(a,Ti(o)),a}getBeforeBody(e,n){return d0(an(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Oe(e,r=>{const o={before:[],lines:[],after:[]},a=f0(i,r);fi(o.before,Ti(an(a,"beforeLabel",this,r))),fi(o.lines,an(a,"label",this,r)),fi(o.after,Ti(an(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return d0(an(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=an(i,"beforeFooter",this,e),r=an(i,"footer",this,e),o=an(i,"afterFooter",this,e);let a=[];return a=fi(a,Ti(s)),a=fi(a,Ti(r)),a=fi(a,Ti(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(eD(this.chart,n[l]));return e.filter&&(a=a.filter((h,d,f)=>e.filter(h,d,f,i))),e.itemSort&&(a=a.sort((h,d)=>e.itemSort(h,d,i))),Oe(a,h=>{const d=f0(e.callbacks,h);s.push(an(d,"labelColor",this,h)),r.push(an(d,"labelPointStyle",this,h)),o.push(an(d,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Sa[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=u0(this,i),u=Object.assign({},a,l),h=c0(this.chart,i,u),d=h0(i,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:d}=gr(a),{x:f,y:g}=e,{width:p,height:y}=n;let b,x,_,k,L,T;return r==="center"?(L=g+y/2,s==="left"?(b=f,x=b-o,k=L+o,T=L-o):(b=f+p,x=b+o,k=L-o,T=L+o),_=b):(s==="left"?x=f+Math.max(l,h)+o:s==="right"?x=f+p-Math.max(u,d)-o:x=this.caretX,r==="top"?(k=g,L=k-o,b=x-o,_=x+o):(k=g+y,L=k+o,b=x+o,_=x-o),T=k),{x1:b,x2:x,x3:_,y1:k,y2:L,y3:T}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const u=ho(i.rtl,this.x,this.width);for(e.x=Nu(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=St(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=r,h=St(r.bodyFont),d=Nu(this,"left",r),f=s.x(d),g=l<h.lineHeight?(h.lineHeight-l)/2:0,p=n.y+g;if(r.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(f,u)+u/2,x=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,xp(e,y,b,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,xp(e,y,b,x)}else{e.lineWidth=xe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=s.leftForLtr(f,u),b=s.leftForLtr(s.xPlus(f,1),u-2),x=gr(o.borderRadius);Object.values(x).some(_=>_!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,vl(e,{x:y,y:p,w:u,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),vl(e,{x:b,y:p+1,w:u-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(y,p,u,l),e.strokeRect(y,p,u,l),e.fillStyle=o.backgroundColor,e.fillRect(b,p+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:h}=i,d=St(i.bodyFont);let f=d.lineHeight,g=0;const p=ho(i.rtl,this.x,this.width),y=function(E){n.fillText(E,p.x(e.x+g),e.y+f/2),e.y+=f+r},b=p.textAlign(o);let x,_,k,L,T,R,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Nu(this,b,i),n.fillStyle=i.bodyColor,Oe(this.beforeBody,y),g=a&&b!=="right"?o==="center"?u/2+h:u+2+h:0,L=0,R=s.length;L<R;++L){for(x=s[L],_=this.labelTextColors[L],n.fillStyle=_,Oe(x.before,y),k=x.lines,a&&k.length&&(this._drawColorBox(n,e,L,p,i),f=Math.max(d.lineHeight,l)),T=0,S=k.length;T<S;++T)y(k[T]),f=d.lineHeight;Oe(x.after,y)}g=0,f=d.lineHeight,Oe(this.afterBody,y),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=ho(i.rtl,this.x,this.width);for(e.x=Nu(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=St(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:h}=i,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:p}=gr(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+u,l+h-p),n.quadraticCurveTo(a+u,l+h,a+u-p,l+h),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+g,l+h),n.quadraticCurveTo(a,l+h,a,l+h-g),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Sa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=u0(this,e),l=Object.assign({},o,this._size),u=c0(n,e,l),h=h0(e,l,u,n);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=tn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),qS(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),GS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),r=!Hc(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!Hc(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=Sa[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}Z(Pp,"positioners",Sa);var aD={id:"tooltip",_element:Pp,positioners:Sa,afterInit(t,e,n){n&&(t.tooltip=new Pp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},lD=Object.freeze({__proto__:null,Colors:wO,Decimation:SO,Filler:HO,Legend:YO,SubTitle:JO,Title:ZO,Tooltip:aD});const uD=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function cD(t,e,n,i){const s=t.indexOf(e);if(s===-1)return uD(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const hD=(t,e)=>t===null?null:At(Math.round(t),0,e);function p0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ap extends Or{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(we(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:cD(i,e,he(n,e),this._addedLabels),hD(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return p0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Z(Ap,"id","category"),Z(Ap,"defaults",{ticks:{callback:p0}});function dD(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:u,maxTicks:h,maxDigits:d,includeBounds:f}=t,g=r||1,p=h-1,{min:y,max:b}=e,x=!we(o),_=!we(a),k=!we(u),L=(b-y)/(d+1);let T=u_((b-y)/p/g)*g,R,S,E,C;if(T<1e-14&&!x&&!_)return[{value:y},{value:b}];C=Math.ceil(b/T)-Math.floor(y/T),C>p&&(T=u_(C*T/p/g)*g),we(l)||(R=Math.pow(10,l),T=Math.ceil(T*R)/R),s==="ticks"?(S=Math.floor(y/T)*T,E=Math.ceil(b/T)*T):(S=y,E=b),x&&_&&r&&sM((a-o)/r,T/1e3)?(C=Math.round(Math.min((a-o)/T,h)),T=(a-o)/C,S=o,E=a):k?(S=x?o:S,E=_?a:E,C=u-1,T=(E-S)/C):(C=(E-S)/T,Va(C,Math.round(C),T/1e3)?C=Math.round(C):C=Math.ceil(C));const P=Math.max(c_(T),c_(S));R=Math.pow(10,we(l)?P:l),S=Math.round(S*R)/R,E=Math.round(E*R)/R;let M=0;for(x&&(f&&S!==o?(n.push({value:o}),S<o&&M++,Va(Math.round((S+M*T)*R)/R,o,g0(o,L,t))&&M++):S<o&&M++);M<C;++M){const O=Math.round((S+M*T)*R)/R;if(_&&O>a)break;n.push({value:O})}return _&&f&&E!==a?n.length&&Va(n[n.length-1].value,a,g0(a,L,t))?n[n.length-1].value=a:n.push({value:a}):(!_||E===a)&&n.push({value:E}),n}function g0(t,e,{horizontal:n,minRotation:i}){const s=Xn(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Xc extends Or{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return we(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=wi(s),u=wi(r);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=dD(s,r);return e.bounds==="ticks"&&PS(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return zl(e,this.chart.options.locale,this.options.ticks.format)}}class Mp extends Xc{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ht(e)?e:0,this.max=ht(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Xn(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Z(Mp,"id","linear"),Z(Mp,"defaults",{ticks:{callback:$h.formatters.numeric}});const _l=t=>Math.floor(ps(t)),Js=(t,e)=>Math.pow(10,_l(t)+e);function m0(t){return t/Math.pow(10,_l(t))===1}function v0(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function fD(t,e){const n=e-t;let i=_l(n);for(;v0(t,e,i)>10;)i++;for(;v0(t,e,i)<10;)i--;return Math.min(i,_l(t))}function pD(t,{min:e,max:n}){e=bn(t.min,e);const i=[],s=_l(e);let r=fD(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,u=Math.round((e-l)*o)/o,h=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((u-h)/Math.pow(10,r)),f=bn(t.min,Math.round((l+h+d*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:m0(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),f=Math.round((l+h+d*Math.pow(10,r))*o)/o;const g=bn(t.max,f);return i.push({value:g,major:m0(g),significand:d}),i}class Ip extends Or{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Xc.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return ht(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ht(e)?Math.max(0,e):null,this.max=ht(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ht(this._userMin)&&(this.min=e===Js(this.min,0)?Js(this.min,-1):Js(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Js(i,-1)),o(Js(s,1)))),i<=0&&r(Js(s,-1)),s<=0&&o(Js(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=pD(n,this);return e.bounds==="ticks"&&PS(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":zl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ps(e),this._valueRange=ps(this.max)-ps(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ps(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Z(Ip,"id","logarithmic"),Z(Ip,"defaults",{ticks:{callback:$h.formatters.logarithmic,major:{enabled:!0}}});function Rp(t){const e=t.ticks;if(e.display&&t.display){const n=tn(e.backdropPadding);return he(e.font&&e.font.size,et.font.size)+n.height}return 0}function gD(t,e,n){return n=Je(n)?n:[n],{w:bM(t,e.string,n),h:n.length*e.lineHeight}}function y0(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function mD(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ie/r:0;for(let l=0;l<r;l++){const u=o.setContext(t.getPointLabelContext(l));s[l]=u.padding;const h=t.getPointPosition(l,t.drawingArea+s[l],a),d=St(u.font),f=gD(t.ctx,d,t._pointLabels[l]);i[l]=f;const g=Kt(t.getIndexAngle(l)+a),p=Math.round(nm(g)),y=y0(p,h.x,f.w,0,180),b=y0(p,h.y,f.h,90,270);vD(n,e,g,y,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=wD(t,i,s)}function vD(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function yD(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,i+s+o,r),u=Math.round(nm(Kt(l.angle+gt))),h=ED(l.y,a.h,u),d=bD(u),f=xD(l.x,a.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:f,top:h,right:f+a.w,bottom:h+a.h}}function _D(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(Ni({x:n,y:i},e)||Ni({x:n,y:r},e)||Ni({x:s,y:i},e)||Ni({x:s,y:r},e))}function wD(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Rp(r)/2,additionalAngle:o?Ie/s:0};let u;for(let h=0;h<s;h++){l.padding=n[h],l.size=e[h];const d=yD(t,h,l);i.push(d),a==="auto"&&(d.visible=_D(d,u),d.visible&&(u=d))}return i}function bD(t){return t===0||t===180?"center":t<180?"left":"right"}function xD(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function ED(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function SD(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!we(a)){const l=gr(e.borderRadius),u=tn(e.backdropPadding);t.fillStyle=a;const h=i-u.left,d=s-u.top,f=r-i+u.width,g=o-s+u.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),vl(t,{x:h,y:d,w:f,h:g,radius:l}),t.fill()):t.fillRect(h,d,f,g)}}function CD(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(s));SD(n,o,r);const a=St(o.font),{x:l,y:u,textAlign:h}=r;kr(n,t._pointLabels[s],l,u+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function w1(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Ke);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function kD(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),w1(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function LD(t,e,n){return $s(t,{label:n,index:e,type:"pointLabel"})}class Ca extends Xc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=tn(Rp(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=ht(e)&&!isNaN(e)?e:0,this.max=ht(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Rp(this.options))}generateTickLabels(e){Xc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=Be(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?mD(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=Ke/(this._pointLabels.length||1),i=this.options.startAngle||0;return Kt(e*n+Xn(i))}getDistanceFromCenterForValue(e){if(we(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(we(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return LD(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-gt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),w1(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&CD(this,o),s.display&&this.ticks.forEach((h,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(d),g=s.setContext(f),p=r.setContext(f);kD(this,g,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=h;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=i.setContext(this.getContext(l)),h=St(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const d=tn(u.backdropPadding);e.fillRect(-o/2-d.left,-r-h.size/2-d.top,o+d.width,h.size+d.height)}kr(e,a.label,0,-r,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Z(Ca,"id","radialLinear"),Z(Ca,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$h.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Z(Ca,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Z(Ca,"descriptors",{angleLines:{_fallback:"grid"}});const Yh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cn=Object.keys(Yh);function _0(t,e){return t-e}function w0(t,e){if(we(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),ht(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Co(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function b0(t,e,n,i){const s=cn.length;for(let r=cn.indexOf(t);r<s-1;++r){const o=Yh[cn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return cn[r]}return cn[s-1]}function TD(t,e,n,i,s){for(let r=cn.length-1;r>=cn.indexOf(n);r--){const o=cn[r];if(Yh[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return cn[n?cn.indexOf(n):0]}function PD(t){for(let e=cn.indexOf(t)+1,n=cn.length;e<n;++e)if(Yh[cn[e]].common)return cn[e]}function x0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=im(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function AD(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function E0(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:AD(t,i,s,n)}class wl extends Or{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new FI._date(e.adapters.date);s.init(n),Na(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:w0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ht(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=ht(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=lM(s,r,o);return this._unit=n.unit||(i.autoSkip?b0(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):TD(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:PD(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),E0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=At(n,0,o),i=At(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||b0(r.minUnit,n,i,this._getLabelCapacity(n)),a=he(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,u=Co(l)||l===!0,h={};let d=n,f,g;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<i;f=+e.add(f,a,o),g++)x0(h,f,p);return(f===i||s.bounds==="ticks"||g===1)&&x0(h,f,p),Object.keys(h).sort(_0).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Be(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&a[l],d=u&&a[u],f=i[n],g=u&&d&&f&&f.major;return this._adapter.format(e,s||(g?d:h))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Xn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,E0(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(w0(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return IS(e.sort(_0))}}Z(wl,"id","time"),Z(wl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vu(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Di(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Di(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const u=o-r;return u?a+(l-a)*(e-r)/u:a}class Op extends wl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Vu(n,this.min),this._tableRange=Vu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,u,h;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=i&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],l=s[o-1],u=s[o],Math.round((h+l)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Vu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Vu(this._table,i*this._tableRange+this._minPos,!0)}}Z(Op,"id","timeseries"),Z(Op,"defaults",wl.defaults);var MD=Object.freeze({__proto__:null,CategoryScale:Ap,LinearScale:Mp,LogarithmicScale:Ip,RadialLinearScale:Ca,TimeScale:wl,TimeSeriesScale:Op});const ID=[VI,fO,lD,MD],b1="label";function S0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function RD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function x1(t,e){t.labels=e}function E1(t,e,n=b1){const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function OD(t,e=b1){const n={labels:[],datasets:[]};return x1(n,t.labels),E1(n,t.datasets,e),n}function DD(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,g=v.useRef(null),p=v.useRef(null),y=()=>{g.current&&(p.current=new Kh(g.current,{type:o,data:OD(a,r),options:l&&{...l},plugins:u}),S0(e,p.current))},b=()=>{S0(e,null),p.current&&(p.current.destroy(),p.current=null)};return v.useEffect(()=>{!s&&p.current&&l&&RD(p.current,l)},[s,l]),v.useEffect(()=>{!s&&p.current&&x1(p.current.config.data,a.labels)},[s,a.labels]),v.useEffect(()=>{!s&&p.current&&a.datasets&&E1(p.current.config.data,a.datasets,r)},[s,a.datasets]),v.useEffect(()=>{p.current&&(s?(b(),setTimeout(y)):p.current.update(d))},[s,l,a.labels,a.datasets,d]),v.useEffect(()=>{p.current&&(b(),setTimeout(y))},[o]),v.useEffect(()=>(y(),()=>b()),[]),D.jsx("canvas",{ref:g,role:"img",height:n,width:i,...f,children:h})}const ND=v.forwardRef(DD);function pm(t,e){return Kh.register(e),v.forwardRef((n,i)=>D.jsx(ND,{...n,ref:i,type:t}))}const VD=pm("line",za),FD=pm("bar",Ba),jD=pm("doughnut",ms);function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function BD(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(bl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zD(t){var e=BD(t,"string");return bl(e)=="symbol"?e:e+""}function z(t,e,n){return(e=zD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uf,C0;function UD(){if(C0)return uf;C0=1;var t=function(n,i,s,r,o,a,l,u){if(!n){var h;if(i===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[s,r,o,a,l,u],f=0;h=new Error(i.replace(/%s/g,function(){return d[f++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return uf=t,uf}var $D=UD(),Ct=S1($D),me=v.createContext(null);function HD(){Ct(!!v.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=v.useContext(me);return Ct(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function WD(t,e,n){return Object.keys(t).reduce(function(s,r){return e(s,t[r],r)},n)}function qD(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function GD(t,e,n,i){var s={},r=(o,a)=>{var l=n[a];l!==e[a]&&(s[a]=l,o(i,l))};return qD(t,r),s}function KD(t,e,n){var i=WD(n,function(r,o,a){return typeof t[a]=="function"&&r.push(google.maps.event.addListener(e,o,t[a])),r},[]);return i}function QD(t){google.maps.event.removeListener(t)}function Ce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(QD)}function Ee(t){var{updaterMap:e,eventMap:n,prevProps:i,nextProps:s,instance:r}=t,o=KD(s,r,n);return GD(e,i,s,r),o}function YD(t){var{children:e,options:n,id:i,mapContainerStyle:s,mapContainerClassName:r,center:o,onClick:a,onDblClick:l,onDrag:u,onDragEnd:h,onDragStart:d,onMouseMove:f,onMouseOut:g,onMouseOver:p,onMouseDown:y,onMouseUp:b,onRightClick:x,onCenterChanged:_,onLoad:k,onUnmount:L}=t,[T,R]=v.useState(null),S=v.useRef(null),[E,C]=v.useState(null),[P,M]=v.useState(null),[O,I]=v.useState(null),[J,K]=v.useState(null),[Q,ie]=v.useState(null),[j,W]=v.useState(null),[q,te]=v.useState(null),[ee,Y]=v.useState(null),[le,B]=v.useState(null),[ce,ge]=v.useState(null),[de,Fe]=v.useState(null),[re,ve]=v.useState(null);return v.useEffect(()=>{n&&T!==null&&T.setOptions(n)},[T,n]),v.useEffect(()=>{T!==null&&typeof o<"u"&&T.setCenter(o)},[T,o]),v.useEffect(()=>{T&&l&&(P!==null&&google.maps.event.removeListener(P),M(google.maps.event.addListener(T,"dblclick",l)))},[l]),v.useEffect(()=>{T&&h&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(T,"dragend",h)))},[h]),v.useEffect(()=>{T&&d&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(T,"dragstart",d)))},[d]),v.useEffect(()=>{T&&y&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(T,"mousedown",y)))},[y]),v.useEffect(()=>{T&&f&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(T,"mousemove",f)))},[f]),v.useEffect(()=>{T&&g&&(q!==null&&google.maps.event.removeListener(q),te(google.maps.event.addListener(T,"mouseout",g)))},[g]),v.useEffect(()=>{T&&p&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(T,"mouseover",p)))},[p]),v.useEffect(()=>{T&&b&&(le!==null&&google.maps.event.removeListener(le),B(google.maps.event.addListener(T,"mouseup",b)))},[b]),v.useEffect(()=>{T&&x&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(T,"rightclick",x)))},[x]),v.useEffect(()=>{T&&a&&(de!==null&&google.maps.event.removeListener(de),Fe(google.maps.event.addListener(T,"click",a)))},[a]),v.useEffect(()=>{T&&u&&(re!==null&&google.maps.event.removeListener(re),ve(google.maps.event.addListener(T,"drag",u)))},[u]),v.useEffect(()=>{T&&_&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(T,"center_changed",_)))},[a]),v.useEffect(()=>{var Ne=S.current===null?null:new google.maps.Map(S.current,n);return R(Ne),Ne!==null&&k&&k(Ne),()=>{Ne!==null&&L&&L(Ne)}},[]),D.jsx("div",{id:i,ref:S,style:s,className:r,children:D.jsx(me.Provider,{value:T,children:T!==null?e:null})})}v.memo(YD);function k0(t,e,n,i,s,r,o){try{var a=t[r](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(i,s)}function C1(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var r=t.apply(e,n);function o(l){k0(r,i,s,o,a,"next",l)}function a(l){k0(r,i,s,o,a,"throw",l)}o(void 0)})}}function k1(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:i="weekly",language:s,region:r,libraries:o,channel:a,mapIds:l,authReferrerPolicy:u,apiUrl:h="https://maps.googleapis.com"}=t,d=[];return Ct(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):n&&d.push("client=".concat(n)),i&&d.push("v=".concat(i)),s&&d.push("language=".concat(s)),r&&d.push("region=".concat(r)),o&&o.length&&d.push("libraries=".concat(o.sort().join(","))),a&&d.push("channel=".concat(a)),l&&l.length&&d.push("map_ids=".concat(l.join(","))),u&&d.push("auth_referrer_policy=".concat(u)),d.push("loading=async"),d.push("callback=initMap"),"".concat(h,"/maps/api/js?").concat(d.join("&"))}var _s=typeof document<"u";function L1(t){var{url:e,id:n,nonce:i}=t;return _s?new Promise(function(r,o){var a=document.getElementById(n),l=window;if(a){var u=a.getAttribute("data-state");if(a.src===e&&u!=="error"){if(u==="ready")return r(n);var h=l.initMap,d=a.onerror;l.initMap=function(){h&&h(),r(n)},a.onerror=function(g){d&&d(g),o(g)};return}else a.remove()}var f=document.createElement("script");f.type="text/javascript",f.src=e,f.id=n,f.async=!0,f.nonce=i||"",f.onerror=function(p){f.setAttribute("data-state","error"),o(p)},l.initMap=function(){f.setAttribute("data-state","ready"),r(n)},document.head.appendChild(f)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function L0(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function gm(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,r){return L0(s)||Reflect.apply(e,t,[s,r]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return L0(s)||Reflect.apply(n,t,[s]),s}}}var da=!1;function T1(){return D.jsx("div",{children:"Loading..."})}var xl={id:"script-loader",version:"weekly"};class XD extends v.PureComponent{constructor(){super(...arguments),z(this,"check",null),z(this,"state",{loaded:!1}),z(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),z(this,"isCleaningUp",C1(function*(){function e(n){if(!da)n();else if(_s)var i=window.setInterval(function(){da||(window.clearInterval(i),n())},1)}return new Promise(e)})),z(this,"cleanup",()=>{da=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})}),z(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&gm(),Ct(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:k1(this.props)};L1(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),z(this,"getRef",e=>{this.check=e})}componentDidMount(){if(_s){if(window.google&&window.google.maps&&!da){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),_s&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(_s){this.cleanup();var e=()=>{this.check||(delete window.google,da=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return D.jsxs(D.Fragment,{children:[D.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||D.jsx(T1,{})]})}}z(XD,"defaultProps",xl);function ZD(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function mm(t,e){if(t==null)return{};var n,i,s=ZD(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var T0;function JD(t){var{id:e=xl.id,version:n=xl.version,nonce:i,googleMapsApiKey:s,googleMapsClientId:r,language:o,region:a,libraries:l,preventGoogleFontsLoading:u,channel:h,mapIds:d,authReferrerPolicy:f,apiUrl:g="https://maps.googleapis.com"}=t,p=v.useRef(!1),[y,b]=v.useState(!1),[x,_]=v.useState(void 0);v.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),v.useEffect(function(){_s&&u&&gm()},[u]),v.useEffect(function(){y&&Ct(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[y]);var k=k1({version:n,googleMapsApiKey:s,googleMapsClientId:r,language:o,region:a,libraries:l,channel:h,mapIds:d,authReferrerPolicy:f,apiUrl:g});v.useEffect(function(){if(!_s)return;function R(){p.current&&(b(!0),T0=k)}if(window.google&&window.google.maps&&T0===k){R();return}L1({id:e,url:k,nonce:i}).then(R).catch(function(E){p.current&&_(E),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(r||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(E)})},[e,k,i]);var L=v.useRef(void 0);return v.useEffect(function(){L.current&&l!==L.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),L.current=l},[l]),{isLoaded:y,loadError:x,url:k}}var e2=["loadingElement","onLoad","onError","onUnmount","children"],t2=D.jsx(T1,{});function n2(t){var{loadingElement:e,onLoad:n,onError:i,onUnmount:s,children:r}=t,o=mm(t,e2),{isLoaded:a,loadError:l}=JD(o);return v.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),v.useEffect(function(){l&&typeof i=="function"&&i(l)},[l,i]),v.useEffect(function(){return()=>{s&&s()}},[s]),a?r:e||t2}v.memo(n2);function i2(t,e,n,i){function s(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(h){try{u(i.next(h))}catch(d){o(d)}}function l(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(a,l)}u((i=i.apply(t,[])).next())})}function s2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r2=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),i=r.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;s--!==0;){var o=r[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},o2=s2(r2),P0="__googleMapsScriptId",so;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(so||(so={}));class or{constructor(e){var{apiKey:n,authReferrerPolicy:i,channel:s,client:r,id:o=P0,language:a,libraries:l=[],mapIds:u,nonce:h,region:d,retries:f=3,url:g="https://maps.googleapis.com/maps/api/js",version:p}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=i,this.channel=s,this.client=r,this.id=o||P0,this.language=a,this.libraries=l,this.mapIds=u,this.nonce=h,this.region=d,this.retries=f,this.url=g,this.version=p,or.instance){if(!o2(this.options,or.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(or.instance.options)));return or.instance}or.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?so.FAILURE:this.done?so.SUCCESS:this.loading?so.LOADING:so.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(i=>{i?n(i.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(r=>!i[r]&&delete i[r]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(r=>{var o,a,l,u="The Google Maps JavaScript API",h="google",d="importLibrary",f="__ib__",g=document,p=window;p=p[h]||(p[h]={});var y=p.maps||(p.maps={}),b=new Set,x=new URLSearchParams,_=()=>o||(o=new Promise((k,L)=>i2(this,void 0,void 0,function*(){var T;yield a=g.createElement("script"),a.id=this.id,x.set("libraries",[...b]+"");for(l in r)x.set(l.replace(/[A-Z]/g,R=>"_"+R[0].toLowerCase()),r[l]);x.set("callback",h+".maps."+f),a.src=this.url+"?"+x,y[f]=k,a.onerror=()=>o=L(Error(u+" could not load.")),a.nonce=this.nonce||((T=g.querySelector("script[nonce]"))===null||T===void 0?void 0:T.nonce)||"",g.head.append(a)})));y[d]?console.warn(u+" only loads once. Ignoring:",r):y[d]=function(k){for(var L=arguments.length,T=new Array(L>1?L-1:0),R=1;R<L;R++)T[R-1]=arguments[R];return b.add(k)&&_().then(()=>y[d](k,...T))}})(i);var s=this.libraries.map(r=>this.importLibrary(r));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),r=>{var o=new ErrorEvent("error",{error:r});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var a2=["maps"];function l2(t){var{id:e=xl.id,version:n=xl.version,nonce:i,googleMapsApiKey:s,language:r,region:o,libraries:a=a2,preventGoogleFontsLoading:l,mapIds:u,authReferrerPolicy:h}=t,d=v.useRef(!1),[f,g]=v.useState(!1),[p,y]=v.useState(void 0);v.useEffect(function(){return d.current=!0,()=>{d.current=!1}},[]);var b=v.useMemo(()=>new or({id:e,apiKey:s,version:n,libraries:a,language:r||"en",region:o||"US",mapIds:u||[],nonce:i||"",authReferrerPolicy:h||"origin"}),[e,s,n,a,r,o,u,i,h]);v.useEffect(function(){f||b.load().then(()=>{d.current&&g(!0)}).catch(k=>{y(k)})},[]),v.useEffect(()=>{_s&&l&&gm()},[l]);var x=v.useRef();return v.useEffect(()=>{x.current&&a!==x.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),x.current=a},[a]),{isLoaded:f,loadError:p}}function A0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A0(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var M0={},I0={options(t,e){t.setOptions(e)}};function u2(t){var{options:e,onLoad:n,onUnmount:i}=t,s=v.useContext(me),[r,o]=v.useState(null);return v.useEffect(()=>{r!==null&&r.setMap(s)},[s]),v.useEffect(()=>{e&&r!==null&&r.setOptions(e)},[r,e]),v.useEffect(()=>{var a=new google.maps.TrafficLayer(Zc(Zc({},e),{},{map:s}));return o(a),n&&n(a),()=>{r!==null&&(i&&i(r),r.setMap(null))}},[]),null}v.memo(u2);class c2 extends v.PureComponent{constructor(){super(...arguments),z(this,"state",{trafficLayer:null}),z(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),z(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Zc(Zc({},this.props.options),{},{map:this.context}));this.registeredEvents=Ee({updaterMap:I0,eventMap:M0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:I0,eventMap:M0,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ce(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}z(c2,"contextType",me);function h2(t){var{onLoad:e,onUnmount:n}=t,i=v.useContext(me),[s,r]=v.useState(null);return v.useEffect(()=>{s!==null&&s.setMap(i)},[i]),v.useEffect(()=>{var o=new google.maps.BicyclingLayer;return r(o),o.setMap(i),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}v.memo(h2);class d2 extends v.PureComponent{constructor(){super(...arguments),z(this,"state",{bicyclingLayer:null}),z(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}z(d2,"contextType",me);function f2(t){var{onLoad:e,onUnmount:n}=t,i=v.useContext(me),[s,r]=v.useState(null);return v.useEffect(()=>{s!==null&&s.setMap(i)},[i]),v.useEffect(()=>{var o=new google.maps.TransitLayer;return r(o),o.setMap(i),e&&e(o),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}v.memo(f2);class p2 extends v.PureComponent{constructor(){super(...arguments),z(this,"state",{transitLayer:null}),z(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}z(p2,"contextType",me);function R0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Jc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R0(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var O0={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},D0={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function g2(t){var{options:e,drawingMode:n,onCircleComplete:i,onMarkerComplete:s,onOverlayComplete:r,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:l,onLoad:u,onUnmount:h}=t,d=v.useContext(me),[f,g]=v.useState(null),[p,y]=v.useState(null),[b,x]=v.useState(null),[_,k]=v.useState(null),[L,T]=v.useState(null),[R,S]=v.useState(null),[E,C]=v.useState(null);return v.useEffect(()=>{f!==null&&f.setMap(d)},[d]),v.useEffect(()=>{e&&f!==null&&f.setOptions(e)},[f,e]),v.useEffect(()=>{f!==null&&f.setDrawingMode(n??null)},[f,n]),v.useEffect(()=>{f&&i&&(p!==null&&google.maps.event.removeListener(p),y(google.maps.event.addListener(f,"circlecomplete",i)))},[f,i]),v.useEffect(()=>{f&&s&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(f,"markercomplete",s)))},[f,s]),v.useEffect(()=>{f&&r&&(_!==null&&google.maps.event.removeListener(_),k(google.maps.event.addListener(f,"overlaycomplete",r)))},[f,r]),v.useEffect(()=>{f&&o&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(f,"polygoncomplete",o)))},[f,o]),v.useEffect(()=>{f&&a&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(f,"polylinecomplete",a)))},[f,a]),v.useEffect(()=>{f&&l&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(f,"rectanglecomplete",l)))},[f,l]),v.useEffect(()=>{Ct(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var P=new google.maps.drawing.DrawingManager(Jc(Jc({},e),{},{map:d}));return n&&P.setDrawingMode(n),i&&y(google.maps.event.addListener(P,"circlecomplete",i)),s&&x(google.maps.event.addListener(P,"markercomplete",s)),r&&k(google.maps.event.addListener(P,"overlaycomplete",r)),o&&T(google.maps.event.addListener(P,"polygoncomplete",o)),a&&S(google.maps.event.addListener(P,"polylinecomplete",a)),l&&C(google.maps.event.addListener(P,"rectanglecomplete",l)),g(P),u&&u(P),()=>{f!==null&&(p&&google.maps.event.removeListener(p),b&&google.maps.event.removeListener(b),_&&google.maps.event.removeListener(_),L&&google.maps.event.removeListener(L),R&&google.maps.event.removeListener(R),E&&google.maps.event.removeListener(E),h&&h(f),f.setMap(null))}},[]),null}v.memo(g2);class m2 extends v.PureComponent{constructor(e){super(e),z(this,"registeredEvents",[]),z(this,"state",{drawingManager:null}),z(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ct(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Jc(Jc({},this.props.options),{},{map:this.context}));this.registeredEvents=Ee({updaterMap:D0,eventMap:O0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:D0,eventMap:O0,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ce(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}z(m2,"contextType",me);function N0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var V0={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},F0={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},eh={};function v2(t){var{position:e,options:n,clusterer:i,noClustererRedraw:s,children:r,draggable:o,visible:a,animation:l,clickable:u,cursor:h,icon:d,label:f,opacity:g,shape:p,title:y,zIndex:b,onClick:x,onDblClick:_,onDrag:k,onDragEnd:L,onDragStart:T,onMouseOut:R,onMouseOver:S,onMouseUp:E,onMouseDown:C,onRightClick:P,onClickableChanged:M,onCursorChanged:O,onAnimationChanged:I,onDraggableChanged:J,onFlatChanged:K,onIconChanged:Q,onPositionChanged:ie,onShapeChanged:j,onTitleChanged:W,onVisibleChanged:q,onZindexChanged:te,onLoad:ee,onUnmount:Y}=t,le=v.useContext(me),[B,ce]=v.useState(null),[ge,de]=v.useState(null),[Fe,re]=v.useState(null),[ve,Ne]=v.useState(null),[$e,wt]=v.useState(null),[Se,Gi]=v.useState(null),[Ki,Vr]=v.useState(null),[jn,kt]=v.useState(null),[yn,Hs]=v.useState(null),[ri,Qi]=v.useState(null),[Ws,ft]=v.useState(null),[Qe,Bn]=v.useState(null),[zn,oi]=v.useState(null),[Un,ai]=v.useState(null),[li,Yi]=v.useState(null),[U,oe]=v.useState(null),[_e,Re]=v.useState(null),[je,lt]=v.useState(null),[He,tt]=v.useState(null),[mt,Pn]=v.useState(null),[_n,bt]=v.useState(null),[It,An]=v.useState(null);v.useEffect(()=>{B!==null&&B.setMap(le)},[le]),v.useEffect(()=>{typeof n<"u"&&B!==null&&B.setOptions(n)},[B,n]),v.useEffect(()=>{typeof o<"u"&&B!==null&&B.setDraggable(o)},[B,o]),v.useEffect(()=>{e&&B!==null&&B.setPosition(e)},[B,e]),v.useEffect(()=>{typeof a<"u"&&B!==null&&B.setVisible(a)},[B,a]),v.useEffect(()=>{B==null||B.setAnimation(l)},[B,l]),v.useEffect(()=>{B&&u!==void 0&&B.setClickable(u)},[B,u]),v.useEffect(()=>{B&&h!==void 0&&B.setCursor(h)},[B,h]),v.useEffect(()=>{B&&d!==void 0&&B.setIcon(d)},[B,d]),v.useEffect(()=>{B&&f!==void 0&&B.setLabel(f)},[B,f]),v.useEffect(()=>{B&&g!==void 0&&B.setOpacity(g)},[B,g]),v.useEffect(()=>{B&&p!==void 0&&B.setShape(p)},[B,p]),v.useEffect(()=>{B&&y!==void 0&&B.setTitle(y)},[B,y]),v.useEffect(()=>{B&&b!==void 0&&B.setZIndex(b)},[B,b]),v.useEffect(()=>{B&&_&&(ge!==null&&google.maps.event.removeListener(ge),de(google.maps.event.addListener(B,"dblclick",_)))},[_]),v.useEffect(()=>{B&&L&&(Fe!==null&&google.maps.event.removeListener(Fe),re(google.maps.event.addListener(B,"dragend",L)))},[L]),v.useEffect(()=>{B&&T&&(ve!==null&&google.maps.event.removeListener(ve),Ne(google.maps.event.addListener(B,"dragstart",T)))},[T]),v.useEffect(()=>{B&&C&&($e!==null&&google.maps.event.removeListener($e),wt(google.maps.event.addListener(B,"mousedown",C)))},[C]),v.useEffect(()=>{B&&R&&(Se!==null&&google.maps.event.removeListener(Se),Gi(google.maps.event.addListener(B,"mouseout",R)))},[R]),v.useEffect(()=>{B&&S&&(Ki!==null&&google.maps.event.removeListener(Ki),Vr(google.maps.event.addListener(B,"mouseover",S)))},[S]),v.useEffect(()=>{B&&E&&(jn!==null&&google.maps.event.removeListener(jn),kt(google.maps.event.addListener(B,"mouseup",E)))},[E]),v.useEffect(()=>{B&&P&&(yn!==null&&google.maps.event.removeListener(yn),Hs(google.maps.event.addListener(B,"rightclick",P)))},[P]),v.useEffect(()=>{B&&x&&(ri!==null&&google.maps.event.removeListener(ri),Qi(google.maps.event.addListener(B,"click",x)))},[x]),v.useEffect(()=>{B&&k&&(Ws!==null&&google.maps.event.removeListener(Ws),ft(google.maps.event.addListener(B,"drag",k)))},[k]),v.useEffect(()=>{B&&M&&(Qe!==null&&google.maps.event.removeListener(Qe),Bn(google.maps.event.addListener(B,"clickable_changed",M)))},[M]),v.useEffect(()=>{B&&O&&(zn!==null&&google.maps.event.removeListener(zn),oi(google.maps.event.addListener(B,"cursor_changed",O)))},[O]),v.useEffect(()=>{B&&I&&(Un!==null&&google.maps.event.removeListener(Un),ai(google.maps.event.addListener(B,"animation_changed",I)))},[I]),v.useEffect(()=>{B&&J&&(li!==null&&google.maps.event.removeListener(li),Yi(google.maps.event.addListener(B,"draggable_changed",J)))},[J]),v.useEffect(()=>{B&&K&&(U!==null&&google.maps.event.removeListener(U),oe(google.maps.event.addListener(B,"flat_changed",K)))},[K]),v.useEffect(()=>{B&&Q&&(_e!==null&&google.maps.event.removeListener(_e),Re(google.maps.event.addListener(B,"icon_changed",Q)))},[Q]),v.useEffect(()=>{B&&ie&&(je!==null&&google.maps.event.removeListener(je),lt(google.maps.event.addListener(B,"position_changed",ie)))},[ie]),v.useEffect(()=>{B&&j&&(He!==null&&google.maps.event.removeListener(He),tt(google.maps.event.addListener(B,"shape_changed",j)))},[j]),v.useEffect(()=>{B&&W&&(mt!==null&&google.maps.event.removeListener(mt),Pn(google.maps.event.addListener(B,"title_changed",W)))},[W]),v.useEffect(()=>{B&&q&&(_n!==null&&google.maps.event.removeListener(_n),bt(google.maps.event.addListener(B,"visible_changed",q)))},[q]),v.useEffect(()=>{B&&te&&(It!==null&&google.maps.event.removeListener(It),An(google.maps.event.addListener(B,"zindex_changed",te)))},[te]),v.useEffect(()=>{var nt=fo(fo(fo({},n||eh),i?eh:{map:le}),{},{position:e}),ue=new google.maps.Marker(nt);return i?i.addMarker(ue,!!s):ue.setMap(le),e&&ue.setPosition(e),typeof a<"u"&&ue.setVisible(a),typeof o<"u"&&ue.setDraggable(o),typeof u<"u"&&ue.setClickable(u),typeof h=="string"&&ue.setCursor(h),d&&ue.setIcon(d),typeof f<"u"&&ue.setLabel(f),typeof g<"u"&&ue.setOpacity(g),p&&ue.setShape(p),typeof y=="string"&&ue.setTitle(y),typeof b=="number"&&ue.setZIndex(b),_&&de(google.maps.event.addListener(ue,"dblclick",_)),L&&re(google.maps.event.addListener(ue,"dragend",L)),T&&Ne(google.maps.event.addListener(ue,"dragstart",T)),C&&wt(google.maps.event.addListener(ue,"mousedown",C)),R&&Gi(google.maps.event.addListener(ue,"mouseout",R)),S&&Vr(google.maps.event.addListener(ue,"mouseover",S)),E&&kt(google.maps.event.addListener(ue,"mouseup",E)),P&&Hs(google.maps.event.addListener(ue,"rightclick",P)),x&&Qi(google.maps.event.addListener(ue,"click",x)),k&&ft(google.maps.event.addListener(ue,"drag",k)),M&&Bn(google.maps.event.addListener(ue,"clickable_changed",M)),O&&oi(google.maps.event.addListener(ue,"cursor_changed",O)),I&&ai(google.maps.event.addListener(ue,"animation_changed",I)),J&&Yi(google.maps.event.addListener(ue,"draggable_changed",J)),K&&oe(google.maps.event.addListener(ue,"flat_changed",K)),Q&&Re(google.maps.event.addListener(ue,"icon_changed",Q)),ie&&lt(google.maps.event.addListener(ue,"position_changed",ie)),j&&tt(google.maps.event.addListener(ue,"shape_changed",j)),W&&Pn(google.maps.event.addListener(ue,"title_changed",W)),q&&bt(google.maps.event.addListener(ue,"visible_changed",q)),te&&An(google.maps.event.addListener(ue,"zindex_changed",te)),ce(ue),ee&&ee(ue),()=>{ge!==null&&google.maps.event.removeListener(ge),Fe!==null&&google.maps.event.removeListener(Fe),ve!==null&&google.maps.event.removeListener(ve),$e!==null&&google.maps.event.removeListener($e),Se!==null&&google.maps.event.removeListener(Se),Ki!==null&&google.maps.event.removeListener(Ki),jn!==null&&google.maps.event.removeListener(jn),yn!==null&&google.maps.event.removeListener(yn),ri!==null&&google.maps.event.removeListener(ri),Qe!==null&&google.maps.event.removeListener(Qe),zn!==null&&google.maps.event.removeListener(zn),Un!==null&&google.maps.event.removeListener(Un),li!==null&&google.maps.event.removeListener(li),U!==null&&google.maps.event.removeListener(U),_e!==null&&google.maps.event.removeListener(_e),je!==null&&google.maps.event.removeListener(je),mt!==null&&google.maps.event.removeListener(mt),_n!==null&&google.maps.event.removeListener(_n),It!==null&&google.maps.event.removeListener(It),Y&&Y(ue),i?i.removeMarker(ue,!!s):ue&&ue.setMap(null)}},[]);var qs=v.useMemo(()=>r?v.Children.map(r,nt=>{if(!v.isValidElement(nt))return nt;var ue=nt;return v.cloneElement(ue,{anchor:B})}):null,[r,B]);return D.jsx(D.Fragment,{children:qs})||null}v.memo(v2);class y2 extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[])}componentDidMount(){var e=this;return C1(function*(){var n=fo(fo(fo({},e.props.options||eh),e.props.clusterer?eh:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Ee({updaterMap:F0,eventMap:V0,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:F0,eventMap:V0,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ce(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?v.Children.map(this.props.children,n=>{if(!v.isValidElement(n))return n;var i=n;return v.cloneElement(i,{anchor:this.marker})}):null;return e||null}}z(y2,"contextType",me);var _2=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var i=n.getMaxZoom(),s=this.cluster.getBounds(),r=n.getMap();r!==null&&"fitBounds"in r&&r.fitBounds(s),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(s);var a=o.getZoom()||0;i!==null&&a>i&&o.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,i,s,r,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),u=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(d!==null?"".concat(d.y,"px"):"0","; left: ").concat(d!==null?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var f=document.createElement("img");f.alt=a,f.src=this.url,f.width=this.width,f.height=this.height,f.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(f.style.clip="rect(-".concat(h,"px, -").concat(u+this.width,"px, -").concat(h+this.height,", -").concat(u,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(g.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((r=this.sums)===null||r===void 0)&&r.html&&(g.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(f),this.div.appendChild(g),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),i=n[Math.min(n.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),w2=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new _2(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),i=0,s=n;i<s.length;i++){var r=s[i],o=r.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+i.lat())/s,(this.center.lng()*(s-1)+i.lng())/s),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var r=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(r<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(r===this.minClusterSize)for(var l=0,u=this.markers;l<u.length;l++){var h=u[l];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,i=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof s<"u"&&s>i){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function b2(t,e){var n=t.length,i=n.toString().length,s=Math.min(i,e);return{text:n.toString(),index:s,title:""}}var x2=2e3,E2=500,S2="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",C2="png",k2=[53,56,66,78,90],L2="cluster",P1=function(){function t(e,n,i){n===void 0&&(n=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||S2,this.imageExtension=i.imageExtension||C2,this.imageSizes=i.imageSizes||k2,this.calculator=i.calculator||b2,this.batchSize=i.batchSize||x2,this.batchSizeIE=i.batchSizeIE||E2,this.clusterClass=i.clusterClass||L2,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var i=n[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var s=0,r=this.clusters;s<r.length;s++){var o=r[s];o.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var u=l[a];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,i=0,s=e;i<s.length;i++){var r=s[i],o=r.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){n=i;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var i=this.removeMarker_(e);return!n&&i&&this.repaint(),i},t.prototype.removeMarkers=function(e,n){for(var i=!1,s=0,r=e;s<r.length;s++){var o=r[s];i=i||this.removeMarker_(o)}return!n&&i&&this.repaint(),i},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,s=e;i<s.length;i++){var r=s[i];r.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),i!==null){var r=n.fromDivPixelToLatLng(i);r!==null&&e.extend(r)}if(s!==null){var o=n.fromDivPixelToLatLng(s);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,i=this.clusters;n<i.length;n++){var s=i[n];s.remove()}this.clusters=[];for(var r=0,o=this.markers;r<o.length;r++){var a=o[r];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var i=6371,s=(n.lat()-e.lat())*Math.PI/180,r=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return i*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var i=e.getPosition();return i?n.contains(i):!1},t.prototype.addToClosestCluster=function(e){for(var n,i=4e4,s=null,r=0,o=this.clusters;r<o.length;r++){var a=o[r];n=a;var l=n.getCenter(),u=e.getPosition();if(l&&u){var h=this.distanceBetweenPoints(l,u);h<i&&(i=h,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new w2(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),s=i!==null&&("getBounds"in i)?i.getBounds():null,r=(i==null?void 0:i.getZoom())||0,o=r>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var h=this.markers[u];h&&!h.isAdded&&this.isMarkerInBounds(h,a)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var d=0,f=this.clusters;d<f.length;d++){var g=f[d];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var r in s.prototype){var o=r;this.prototype[o]=s.prototype[o]}return this}).apply(e,[n])},t}();function j0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function T2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j0(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var In={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Me={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},P2={};function A2(t){var{children:e,options:n,averageCenter:i,batchSizeIE:s,calculator:r,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:u,imageExtension:h,imagePath:d,imageSizes:f,maxZoom:g,minimumClusterSize:p,styles:y,title:b,zoomOnClick:x,onClick:_,onClusteringBegin:k,onClusteringEnd:L,onMouseOver:T,onMouseOut:R,onLoad:S,onUnmount:E}=t,[C,P]=v.useState(null),M=v.useContext(me),[O,I]=v.useState(null),[J,K]=v.useState(null),[Q,ie]=v.useState(null),[j,W]=v.useState(null),[q,te]=v.useState(null);return v.useEffect(()=>{C&&R&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(C,In.onMouseOut,R)))},[R]),v.useEffect(()=>{C&&T&&(q!==null&&google.maps.event.removeListener(q),te(google.maps.event.addListener(C,In.onMouseOver,T)))},[T]),v.useEffect(()=>{C&&_&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(C,In.onClick,_)))},[_]),v.useEffect(()=>{C&&k&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(C,In.onClusteringBegin,k)))},[k]),v.useEffect(()=>{C&&L&&(Q!==null&&google.maps.event.removeListener(Q),K(google.maps.event.addListener(C,In.onClusteringEnd,L)))},[L]),v.useEffect(()=>{typeof i<"u"&&C!==null&&Me.averageCenter(C,i)},[C,i]),v.useEffect(()=>{typeof s<"u"&&C!==null&&Me.batchSizeIE(C,s)},[C,s]),v.useEffect(()=>{typeof r<"u"&&C!==null&&Me.calculator(C,r)},[C,r]),v.useEffect(()=>{typeof o<"u"&&C!==null&&Me.clusterClass(C,o)},[C,o]),v.useEffect(()=>{typeof a<"u"&&C!==null&&Me.enableRetinaIcons(C,a)},[C,a]),v.useEffect(()=>{typeof l<"u"&&C!==null&&Me.gridSize(C,l)},[C,l]),v.useEffect(()=>{typeof u<"u"&&C!==null&&Me.ignoreHidden(C,u)},[C,u]),v.useEffect(()=>{typeof h<"u"&&C!==null&&Me.imageExtension(C,h)},[C,h]),v.useEffect(()=>{typeof d<"u"&&C!==null&&Me.imagePath(C,d)},[C,d]),v.useEffect(()=>{typeof f<"u"&&C!==null&&Me.imageSizes(C,f)},[C,f]),v.useEffect(()=>{typeof g<"u"&&C!==null&&Me.maxZoom(C,g)},[C,g]),v.useEffect(()=>{typeof p<"u"&&C!==null&&Me.minimumClusterSize(C,p)},[C,p]),v.useEffect(()=>{typeof y<"u"&&C!==null&&Me.styles(C,y)},[C,y]),v.useEffect(()=>{typeof b<"u"&&C!==null&&Me.title(C,b)},[C,b]),v.useEffect(()=>{typeof x<"u"&&C!==null&&Me.zoomOnClick(C,x)},[C,x]),v.useEffect(()=>{if(M){var ee=T2({},n||P2),Y=new P1(M,[],ee);return i&&Me.averageCenter(Y,i),s&&Me.batchSizeIE(Y,s),r&&Me.calculator(Y,r),o&&Me.clusterClass(Y,o),a&&Me.enableRetinaIcons(Y,a),l&&Me.gridSize(Y,l),u&&Me.ignoreHidden(Y,u),h&&Me.imageExtension(Y,h),d&&Me.imagePath(Y,d),f&&Me.imageSizes(Y,f),g&&Me.maxZoom(Y,g),p&&Me.minimumClusterSize(Y,p),y&&Me.styles(Y,y),b&&Me.title(Y,b),x&&Me.zoomOnClick(Y,x),R&&W(google.maps.event.addListener(Y,In.onMouseOut,R)),T&&te(google.maps.event.addListener(Y,In.onMouseOver,T)),_&&I(google.maps.event.addListener(Y,In.onClick,_)),k&&K(google.maps.event.addListener(Y,In.onClusteringBegin,k)),L&&ie(google.maps.event.addListener(Y,In.onClusteringEnd,L)),P(Y),S&&S(Y),()=>{j!==null&&google.maps.event.removeListener(j),q!==null&&google.maps.event.removeListener(q),O!==null&&google.maps.event.removeListener(O),J!==null&&google.maps.event.removeListener(J),Q!==null&&google.maps.event.removeListener(Q),E&&E(Y)}}},[]),C!==null&&e(C)||null}v.memo(A2);class M2 extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{markerClusterer:null}),z(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new P1(this.context,[],this.props.options);this.registeredEvents=Ee({updaterMap:Me,eventMap:In,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:Me,eventMap:In,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ce(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}z(M2,"contextType",me);function B0(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var A1=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||B0(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=r;o<a.length;o++){var l=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,l,B0))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var i=0,s=0,r=n.getBounds();r&&!r.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,u=this.pixelOffset.width,h=this.pixelOffset.height,d=this.div.offsetWidth,f=this.div.offsetHeight,g=this.infoBoxClearance.width,p=this.infoBoxClearance.height,y=this.getProjection(),b=y.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+g?i=b.x+u-g:b.x+d+u+g>a&&(i=b.x+d+u+g-a),this.alignBottom?b.y<-h+p+f?s=b.y+h-p-f:b.y+h+p>l&&(s=b.y+h+p-l):b.y<-h+p?s=b.y+h-p:b.y+f+h+p>l&&(s=b.y+f+h+p-l)),i===0&&s===0||n.panBy(i,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,i=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var i=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();i.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){i.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var i=n[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var r in s.prototype)Object.prototype.hasOwnProperty.call(this,r)||(this.prototype[r]=s.prototype[r]);return this}).apply(e,[n])},t}(),I2=["position"],R2=["position"];function z0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z0(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var U0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$0={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},O2={};function D2(t){var{children:e,anchor:n,options:i,position:s,zIndex:r,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:h,onLoad:d,onUnmount:f}=t,g=v.useContext(me),[p,y]=v.useState(null),[b,x]=v.useState(null),[_,k]=v.useState(null),[L,T]=v.useState(null),[R,S]=v.useState(null),[E,C]=v.useState(null),P=v.useRef(null);return v.useEffect(()=>{g&&p!==null&&(p.close(),n?p.open(g,n):p.getPosition()&&p.open(g))},[g,p,n]),v.useEffect(()=>{i&&p!==null&&p.setOptions(i)},[p,i]),v.useEffect(()=>{if(s&&p!==null){var M=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);p.setPosition(M)}},[s]),v.useEffect(()=>{typeof r=="number"&&p!==null&&p.setZIndex(r)},[r]),v.useEffect(()=>{p&&o&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(p,"closeclick",o)))},[o]),v.useEffect(()=>{p&&a&&(_!==null&&google.maps.event.removeListener(_),k(google.maps.event.addListener(p,"domready",a)))},[a]),v.useEffect(()=>{p&&l&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(p,"content_changed",l)))},[l]),v.useEffect(()=>{p&&u&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(p,"position_changed",u)))},[u]),v.useEffect(()=>{p&&h&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(p,"zindex_changed",h)))},[h]),v.useEffect(()=>{if(g){var M=i||O2,{position:O}=M,I=mm(M,I2),J;O&&!(O instanceof google.maps.LatLng)&&(J=new google.maps.LatLng(O.lat,O.lng));var K=new A1(th(th({},I),J?{position:J}:{}));P.current=document.createElement("div"),y(K),o&&x(google.maps.event.addListener(K,"closeclick",o)),a&&k(google.maps.event.addListener(K,"domready",a)),l&&T(google.maps.event.addListener(K,"content_changed",l)),u&&S(google.maps.event.addListener(K,"position_changed",u)),h&&C(google.maps.event.addListener(K,"zindex_changed",h)),K.setContent(P.current),n?K.open(g,n):K.getPosition()?K.open(g):Ct(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(K)}return()=>{p!==null&&(b&&google.maps.event.removeListener(b),L&&google.maps.event.removeListener(L),_&&google.maps.event.removeListener(_),R&&google.maps.event.removeListener(R),E&&google.maps.event.removeListener(E),f&&f(p),p.close())}},[]),P.current?Rr.createPortal(v.Children.only(e),P.current):null}v.memo(D2);class N2 extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"containerElement",null),z(this,"state",{infoBox:null}),z(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Ct(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),z(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,i=mm(e,R2),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var r=new A1(th(th({},i),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ee({updaterMap:$0,eventMap:U0,prevProps:{},nextProps:this.props,instance:r}),this.setState({infoBox:r},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:$0,eventMap:U0,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ce(this.registeredEvents),n.close())}render(){return this.containerElement?Rr.createPortal(v.Children.only(this.props.children),this.containerElement):null}}z(N2,"contextType",me);var cf,H0;function V2(){return H0||(H0=1,cf=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),i=r.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;s--!==0;){var o=r[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),cf}var F2=V2(),W0=S1(F2),q0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],hf=1,fa=8;class vm{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,i]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=i>>4;if(s!==hf)throw new Error("Got v".concat(s," data when expected v").concat(hf,"."));var r=q0[i&15];if(!r)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new vm(a,o,r,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var r=q0.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(r<0)throw new Error("Unexpected typed array class: ".concat(i,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,fa,e),this.coords=new this.ArrayType(this.data,fa+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(fa+o+a+l),this.ids=new this.IndexArrayType(this.data,fa,e),this.coords=new this.ArrayType(this.data,fa+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(hf<<4)+r]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=n,i}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Dp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,i,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:o,nodeSize:a}=this,l=[0,r.length-1,0],u=[];l.length;){var h=l.pop()||0,d=l.pop()||0,f=l.pop()||0;if(d-f<=a){for(var g=f;g<=d;g++){var p=o[2*g],y=o[2*g+1];p>=e&&p<=i&&y>=n&&y<=s&&u.push(r[g])}continue}var b=f+d>>1,x=o[2*b],_=o[2*b+1];x>=e&&x<=i&&_>=n&&_<=s&&u.push(r[b]),(h===0?e<=x:n<=_)&&(l.push(f),l.push(b-1),l.push(1-h)),(h===0?i>=x:s>=_)&&(l.push(b+1),l.push(d),l.push(1-h))}return u}within(e,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:r,nodeSize:o}=this,a=[0,s.length-1,0],l=[],u=i*i;a.length;){var h=a.pop()||0,d=a.pop()||0,f=a.pop()||0;if(d-f<=o){for(var g=f;g<=d;g++)G0(r[2*g],r[2*g+1],e,n)<=u&&l.push(s[g]);continue}var p=f+d>>1,y=r[2*p],b=r[2*p+1];G0(y,b,e,n)<=u&&l.push(s[p]),(h===0?e-i<=y:n-i<=b)&&(a.push(f),a.push(p-1),a.push(1-h)),(h===0?e+i>=y:n+i>=b)&&(a.push(p+1),a.push(d),a.push(1-h))}return l}}function Dp(t,e,n,i,s,r){if(!(s-i<=n)){var o=i+s>>1;M1(t,e,o,i,s,r),Dp(t,e,n,i,o-1,1-r),Dp(t,e,n,o+1,s,1-r)}}function M1(t,e,n,i,s,r){for(;s>i;){if(s-i>600){var o=s-i+1,a=n-i+1,l=Math.log(o),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(o-u)/o)*(a-o/2<0?-1:1),d=Math.max(i,Math.floor(n-a*u/o+h)),f=Math.min(s,Math.floor(n+(o-a)*u/o+h));M1(t,e,n,d,f,r)}var g=e[2*n+r],p=i,y=s;for(pa(t,e,i,n),e[2*s+r]>g&&pa(t,e,i,s);p<y;){for(pa(t,e,p,y),p++,y--;e[2*p+r]<g;)p++;for(;e[2*y+r]>g;)y--}e[2*i+r]===g?pa(t,e,i,y):(y++,pa(t,e,y,s)),y<=n&&(i=y+1),n<=y&&(s=y-1)}}function pa(t,e,n,i){df(t,n,i),df(e,2*n,2*i),df(e,2*n+1,2*i+1)}function df(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function G0(t,e,n,i){var s=t-n,r=e-i;return s*s+r*r}var j2={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},K0=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),er=2,ls=3,ff=4,rs=5,I1=6;class B2{constructor(e){this.options=Object.assign(Object.create(j2),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:i,maxZoom:s}=this.options;n&&console.time("total time");var r="prepare ".concat(e.length," points");n&&console.time(r),this.points=e;for(var o=[],a=0;a<e.length;a++){var l=e[a];if(l.geometry){var[u,h]=l.geometry.coordinates,d=K0(Fu(u)),f=K0(ju(h));o.push(d,f,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var g=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(r);for(var p=s;p>=i;p--){var y=+Date.now();g=this.trees[p]=this._createTree(this._cluster(g,p)),n&&console.log("z%d: %d clusters in %dms",p,g.numItems,+Date.now()-y)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var i=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),r=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,r=180;else if(i>r){var a=this.getClusters([i,s,180,o],n),l=this.getClusters([-180,s,r,o],n);return a.concat(l)}var u=this.trees[this._limitZoom(n)],h=u.range(Fu(i),ju(o),Fu(r),ju(s)),d=u.data,f=[];for(var g of h){var p=this.stride*g;f.push(d[p+rs]>1?Q0(d,p,this.clusterProps):this.points[d[p+ls]])}return f}getChildren(e){var n=this._getOriginId(e),i=this._getOriginZoom(e),s="No cluster with the specified id.",r=this.trees[i];if(!r)throw new Error(s);var o=r.data;if(n*this.stride>=o.length)throw new Error(s);var a=this.options.radius/(this.options.extent*Math.pow(2,i-1)),l=o[n*this.stride],u=o[n*this.stride+1],h=r.within(l,u,a),d=[];for(var f of h){var g=f*this.stride;o[g+ff]===e&&d.push(o[g+rs]>1?Q0(o,g,this.clusterProps):this.points[o[g+ls]])}if(d.length===0)throw new Error(s);return d}getLeaves(e,n,i){n=n||10,i=i||0;var s=[];return this._appendLeaves(s,e,n,i,0),s}getTile(e,n,i){var s=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(i-l)/r,h=(i+1+l)/r,d={features:[]};return this._addTileFeatures(s.range((n-l)/r,u,(n+1+l)/r,h),s.data,n,i,r,d),n===0&&this._addTileFeatures(s.range(1-l/r,u,1,h),s.data,r,i,r,d),n===r-1&&this._addTileFeatures(s.range(0,u,l/r,h),s.data,-1,i,r,d),d.features.length?d:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var i=this.getChildren(e);if(n++,i.length!==1)break;e=i[0].properties.cluster_id}return n}_appendLeaves(e,n,i,s,r){var o=this.getChildren(n);for(var a of o){var l=a.properties;if(l&&l.cluster?r+l.point_count<=s?r+=l.point_count:r=this._appendLeaves(e,l.cluster_id,i,s,r):r<s?r++:e.push(a),e.length===i)break}return r}_createTree(e){for(var n=new vm(e.length/this.stride|0,this.options.nodeSize,Float32Array),i=0;i<e.length;i+=this.stride)n.add(e[i],e[i+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,i,s,r,o){for(var a of e){var l=a*this.stride,u=n[l+rs]>1,h=void 0,d=void 0,f=void 0;if(u)h=R1(n,l,this.clusterProps),d=n[l],f=n[l+1];else{var g=this.points[n[l+ls]];h=g.properties;var[p,y]=g.geometry.coordinates;d=Fu(p),f=ju(y)}var b={type:1,geometry:[[Math.round(this.options.extent*(d*r-i)),Math.round(this.options.extent*(f*r-s))]],tags:h},x=void 0;u||this.options.generateId?x=n[l+ls]:x=this.points[n[l+ls]].id,x!==void 0&&(b.id=x),o.features.push(b)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:i,extent:s,reduce:r,minPoints:o}=this.options,a=i/(s*Math.pow(2,n)),l=e.data,u=[],h=this.stride,d=0;d<l.length;d+=h)if(!(l[d+er]<=n)){l[d+er]=n;var f=l[d],g=l[d+1],p=e.within(l[d],l[d+1],a),y=l[d+rs],b=y;for(var x of p){var _=x*h;l[_+er]>n&&(b+=l[_+rs])}if(b>y&&b>=o){var k=f*y,L=g*y,T=void 0,R=-1,S=((d/h|0)<<5)+(n+1)+this.points.length;for(var E of p){var C=E*h;if(!(l[C+er]<=n)){l[C+er]=n;var P=l[C+rs];k+=l[C]*P,L+=l[C+1]*P,l[C+ff]=S,r&&(T||(T=this._map(l,d,!0),R=this.clusterProps.length,this.clusterProps.push(T)),r(T,this._map(l,C)))}}l[d+ff]=S,u.push(k/b,L/b,1/0,S,-1,b),r&&u.push(R)}else{for(var M=0;M<h;M++)u.push(l[d+M]);if(b>1)for(var O of p){var I=O*h;if(!(l[I+er]<=n)){l[I+er]=n;for(var J=0;J<h;J++)u.push(l[I+J])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,i){if(e[n+rs]>1){var s=this.clusterProps[e[n+I1]];return i?Object.assign({},s):s}var r=this.points[e[n+ls]].properties,o=this.options.map(r);return i&&o===r?Object.assign({},o):o}}function Q0(t,e,n){return{type:"Feature",id:t[e+ls],properties:R1(t,e,n),geometry:{type:"Point",coordinates:[z2(t[e]),U2(t[e+1])]}}}function R1(t,e,n){var i=t[e+rs],s=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,r=t[e+I1],o=r===-1?{}:Object.assign({},n[r]);return Object.assign(o,{cluster:!0,cluster_id:t[e+ls],point_count:i,point_count_abbreviated:s})}function Fu(t){return t/360+.5}function ju(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function z2(t){return(t-.5)*360}function U2(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $2(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}class En{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Np{constructor(e){var{markers:n,position:i}=e;this.markers=n,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(En.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>En.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(En.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class H2{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return W2(n)}}var W2=t=>{var e=t.map(n=>new Np({position:En.getPosition(n),markers:[n]}));return e};class q2 extends H2{constructor(e){var{maxZoom:n,radius:i=60}=e,s=$2(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new B2(Object.assign({maxZoom:this.maxZoom,radius:i},s))}calculate(e){var n=!1,i={zoom:e.map.getZoom()};if(!W0(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(r=>{var o=En.getPosition(r),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:r}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(n=!W0(this.state,i)),this.state=i,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(i=>this.transformCluster(i))}transformCluster(e){var{geometry:{coordinates:[n,i]},properties:s}=e;if(s.cluster)return new Np({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:i,lng:n}});var r=s.marker;return new Np({markers:[r],position:En.getPosition(r)})}}class G2{constructor(e,n){this.markers={sum:e.length};var i=n.map(r=>r.count),s=i.reduce((r,o)=>r+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...i),max:Math.max(...i)}}}}class K2{render(e,n,i){var{count:s,position:r}=e,o=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),l="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(En.isAdvancedMarkerAvailable(i)){var h=new DOMParser,d=h.parseFromString(a,"image/svg+xml").documentElement;d.setAttribute("transform","translate(0 25)");var f={map:i,position:r,zIndex:u,title:l,content:d};return new google.maps.marker.AdvancedMarkerElement(f)}var g={position:r,zIndex:u,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function Q2(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class ym{constructor(){Q2(ym,google.maps.OverlayView)}}var $a;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})($a||($a={}));var Y2=(t,e,n)=>{n.fitBounds(e.bounds)};class X2 extends ym{constructor(e){var{map:n,markers:i=[],algorithmOptions:s={},algorithm:r=new q2(s),renderer:o=new K2,onClusterClick:a=Y2}=e;super(),this.markers=[...i],this.clusters=[],this.algorithm=r,this.renderer=o,this.onClusterClick=a,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(i=>{this.addMarker(i,!0)}),n||this.render()}removeMarker(e,n){var i=this.markers.indexOf(e);return i===-1?!1:(En.setMap(e,null),this.markers.splice(i,1),n||this.render(),!0)}removeMarkers(e,n){var i=!1;return e.forEach(s=>{i=this.removeMarker(s,!0)||i}),i&&!n&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,$a.CLUSTERING_BEGIN,this);var{clusters:n,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){var s=new Set;for(var r of n)r.markers.length==1&&s.add(r.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?s.has(a.marker)||En.setMap(a.marker,null):o.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(l=>En.setMap(l,null)))}google.maps.event.trigger(this,$a.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>En.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new G2(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,n),i.markers.forEach(s=>En.setMap(s,null)),this.onClusterClick&&i.marker.addListener("click",s=>{google.maps.event.trigger(this,$a.CLUSTER_CLICK,i),this.onClusterClick(s,i,n)})),En.setMap(i.marker,n)})}}function Y0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function X0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y0(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Z2(t){var e=HD(),[n,i]=v.useState(null);return v.useEffect(()=>{if(e&&n===null){var s=new X2(X0(X0({},t),{},{map:e}));i(s)}},[e]),n}function J2(t){var{children:e,options:n}=t,i=Z2(n);return i!==null?e(i):null}v.memo(J2);var Z0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},J0={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function eN(t){var{children:e,anchor:n,options:i,position:s,zIndex:r,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:h,onLoad:d,onUnmount:f}=t,g=v.useContext(me),[p,y]=v.useState(null),[b,x]=v.useState(null),[_,k]=v.useState(null),[L,T]=v.useState(null),[R,S]=v.useState(null),[E,C]=v.useState(null),P=v.useRef(null);return v.useEffect(()=>{p!==null&&(p.close(),n?p.open(g,n):p.getPosition()&&p.open(g))},[g,p,n]),v.useEffect(()=>{i&&p!==null&&p.setOptions(i)},[p,i]),v.useEffect(()=>{s&&p!==null&&p.setPosition(s)},[s]),v.useEffect(()=>{typeof r=="number"&&p!==null&&p.setZIndex(r)},[r]),v.useEffect(()=>{p&&o&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(p,"closeclick",o)))},[o]),v.useEffect(()=>{p&&a&&(_!==null&&google.maps.event.removeListener(_),k(google.maps.event.addListener(p,"domready",a)))},[a]),v.useEffect(()=>{p&&l&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(p,"content_changed",l)))},[l]),v.useEffect(()=>{p&&u&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(p,"position_changed",u)))},[u]),v.useEffect(()=>{p&&h&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(p,"zindex_changed",h)))},[h]),v.useEffect(()=>{var M=new google.maps.InfoWindow(i);return y(M),P.current=document.createElement("div"),o&&x(google.maps.event.addListener(M,"closeclick",o)),a&&k(google.maps.event.addListener(M,"domready",a)),l&&T(google.maps.event.addListener(M,"content_changed",l)),u&&S(google.maps.event.addListener(M,"position_changed",u)),h&&C(google.maps.event.addListener(M,"zindex_changed",h)),M.setContent(P.current),s&&M.setPosition(s),r&&M.setZIndex(r),n?M.open(g,n):M.getPosition()?M.open(g):Ct(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(M),()=>{b&&google.maps.event.removeListener(b),L&&google.maps.event.removeListener(L),_&&google.maps.event.removeListener(_),R&&google.maps.event.removeListener(R),E&&google.maps.event.removeListener(E),f&&f(M),M.close()}},[]),P.current?Rr.createPortal(v.Children.only(e),P.current):null}v.memo(eN);class tN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"containerElement",null),z(this,"state",{infoWindow:null}),z(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Ct(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),z(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Ee({updaterMap:J0,eventMap:Z0,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:J0,eventMap:Z0,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ce(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Rr.createPortal(v.Children.only(this.props.children),this.containerElement):null}}z(tN,"contextType",me);function ew(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ew(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var tw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nw={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},nN={};function iN(t){var{options:e,draggable:n,editable:i,visible:s,path:r,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:h,onMouseOut:d,onMouseOver:f,onMouseUp:g,onRightClick:p,onClick:y,onDrag:b,onLoad:x,onUnmount:_}=t,k=v.useContext(me),[L,T]=v.useState(null),[R,S]=v.useState(null),[E,C]=v.useState(null),[P,M]=v.useState(null),[O,I]=v.useState(null),[J,K]=v.useState(null),[Q,ie]=v.useState(null),[j,W]=v.useState(null),[q,te]=v.useState(null),[ee,Y]=v.useState(null),[le,B]=v.useState(null),[ce,ge]=v.useState(null);return v.useEffect(()=>{L!==null&&L.setMap(k)},[k]),v.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),v.useEffect(()=>{typeof n<"u"&&L!==null&&L.setDraggable(n)},[L,n]),v.useEffect(()=>{typeof i<"u"&&L!==null&&L.setEditable(i)},[L,i]),v.useEffect(()=>{typeof s<"u"&&L!==null&&L.setVisible(s)},[L,s]),v.useEffect(()=>{typeof r<"u"&&L!==null&&L.setPath(r)},[L,r]),v.useEffect(()=>{L&&o&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(L,"dblclick",o)))},[o]),v.useEffect(()=>{L&&a&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(L,"dragend",a)))},[a]),v.useEffect(()=>{L&&l&&(P!==null&&google.maps.event.removeListener(P),M(google.maps.event.addListener(L,"dragstart",l)))},[l]),v.useEffect(()=>{L&&u&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(L,"mousedown",u)))},[u]),v.useEffect(()=>{L&&h&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(L,"mousemove",h)))},[h]),v.useEffect(()=>{L&&d&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(L,"mouseout",d)))},[d]),v.useEffect(()=>{L&&f&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(L,"mouseover",f)))},[f]),v.useEffect(()=>{L&&g&&(q!==null&&google.maps.event.removeListener(q),te(google.maps.event.addListener(L,"mouseup",g)))},[g]),v.useEffect(()=>{L&&p&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(L,"rightclick",p)))},[p]),v.useEffect(()=>{L&&y&&(le!==null&&google.maps.event.removeListener(le),B(google.maps.event.addListener(L,"click",y)))},[y]),v.useEffect(()=>{L&&b&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(L,"drag",b)))},[b]),v.useEffect(()=>{var de=new google.maps.Polyline(nh(nh({},e||nN),{},{map:k}));return r&&de.setPath(r),typeof s<"u"&&de.setVisible(s),typeof i<"u"&&de.setEditable(i),typeof n<"u"&&de.setDraggable(n),o&&S(google.maps.event.addListener(de,"dblclick",o)),a&&C(google.maps.event.addListener(de,"dragend",a)),l&&M(google.maps.event.addListener(de,"dragstart",l)),u&&I(google.maps.event.addListener(de,"mousedown",u)),h&&K(google.maps.event.addListener(de,"mousemove",h)),d&&ie(google.maps.event.addListener(de,"mouseout",d)),f&&W(google.maps.event.addListener(de,"mouseover",f)),g&&te(google.maps.event.addListener(de,"mouseup",g)),p&&Y(google.maps.event.addListener(de,"rightclick",p)),y&&B(google.maps.event.addListener(de,"click",y)),b&&ge(google.maps.event.addListener(de,"drag",b)),T(de),x&&x(de),()=>{R!==null&&google.maps.event.removeListener(R),E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),O!==null&&google.maps.event.removeListener(O),J!==null&&google.maps.event.removeListener(J),Q!==null&&google.maps.event.removeListener(Q),j!==null&&google.maps.event.removeListener(j),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),_&&_(de),de.setMap(null)}},[]),null}v.memo(iN);class sN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{polyline:null}),z(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(nh(nh({},this.props.options),{},{map:this.context}));this.registeredEvents=Ee({updaterMap:nw,eventMap:tw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:nw,eventMap:tw,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ce(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}z(sN,"contextType",me);function iw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function sw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var rw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ow={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function rN(t){var{options:e,draggable:n,editable:i,visible:s,path:r,paths:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:h,onMouseMove:d,onMouseOut:f,onMouseOver:g,onMouseUp:p,onRightClick:y,onClick:b,onDrag:x,onLoad:_,onUnmount:k,onEdit:L}=t,T=v.useContext(me),[R,S]=v.useState(null),[E,C]=v.useState(null),[P,M]=v.useState(null),[O,I]=v.useState(null),[J,K]=v.useState(null),[Q,ie]=v.useState(null),[j,W]=v.useState(null),[q,te]=v.useState(null),[ee,Y]=v.useState(null),[le,B]=v.useState(null),[ce,ge]=v.useState(null),[de,Fe]=v.useState(null);return v.useEffect(()=>{R!==null&&R.setMap(T)},[T]),v.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),v.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),v.useEffect(()=>{typeof i<"u"&&R!==null&&R.setEditable(i)},[R,i]),v.useEffect(()=>{typeof s<"u"&&R!==null&&R.setVisible(s)},[R,s]),v.useEffect(()=>{typeof r<"u"&&R!==null&&R.setPath(r)},[R,r]),v.useEffect(()=>{typeof o<"u"&&R!==null&&R.setPaths(o)},[R,o]),v.useEffect(()=>{R&&typeof a=="function"&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(R,"dblclick",a)))},[a]),v.useEffect(()=>{R&&(google.maps.event.addListener(R.getPath(),"insert_at",()=>{L==null||L(R)}),google.maps.event.addListener(R.getPath(),"set_at",()=>{L==null||L(R)}),google.maps.event.addListener(R.getPath(),"remove_at",()=>{L==null||L(R)}))},[R,L]),v.useEffect(()=>{R&&typeof l=="function"&&(P!==null&&google.maps.event.removeListener(P),M(google.maps.event.addListener(R,"dragend",l)))},[l]),v.useEffect(()=>{R&&typeof u=="function"&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(R,"dragstart",u)))},[u]),v.useEffect(()=>{R&&typeof h=="function"&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(R,"mousedown",h)))},[h]),v.useEffect(()=>{R&&typeof d=="function"&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(R,"mousemove",d)))},[d]),v.useEffect(()=>{R&&typeof f=="function"&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(R,"mouseout",f)))},[f]),v.useEffect(()=>{R&&typeof g=="function"&&(q!==null&&google.maps.event.removeListener(q),te(google.maps.event.addListener(R,"mouseover",g)))},[g]),v.useEffect(()=>{R&&typeof p=="function"&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(R,"mouseup",p)))},[p]),v.useEffect(()=>{R&&typeof y=="function"&&(le!==null&&google.maps.event.removeListener(le),B(google.maps.event.addListener(R,"rightclick",y)))},[y]),v.useEffect(()=>{R&&typeof b=="function"&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(R,"click",b)))},[b]),v.useEffect(()=>{R&&typeof x=="function"&&(de!==null&&google.maps.event.removeListener(de),Fe(google.maps.event.addListener(R,"drag",x)))},[x]),v.useEffect(()=>{var re=new google.maps.Polygon(sw(sw({},e),{},{map:T}));return r&&re.setPath(r),o&&re.setPaths(o),typeof s<"u"&&re.setVisible(s),typeof i<"u"&&re.setEditable(i),typeof n<"u"&&re.setDraggable(n),a&&C(google.maps.event.addListener(re,"dblclick",a)),l&&M(google.maps.event.addListener(re,"dragend",l)),u&&I(google.maps.event.addListener(re,"dragstart",u)),h&&K(google.maps.event.addListener(re,"mousedown",h)),d&&ie(google.maps.event.addListener(re,"mousemove",d)),f&&W(google.maps.event.addListener(re,"mouseout",f)),g&&te(google.maps.event.addListener(re,"mouseover",g)),p&&Y(google.maps.event.addListener(re,"mouseup",p)),y&&B(google.maps.event.addListener(re,"rightclick",y)),b&&ge(google.maps.event.addListener(re,"click",b)),x&&Fe(google.maps.event.addListener(re,"drag",x)),S(re),_&&_(re),()=>{E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),O!==null&&google.maps.event.removeListener(O),J!==null&&google.maps.event.removeListener(J),Q!==null&&google.maps.event.removeListener(Q),j!==null&&google.maps.event.removeListener(j),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),ce!==null&&google.maps.event.removeListener(ce),k&&k(re),re.setMap(null)}},[]),null}v.memo(rN);class oN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Ee({updaterMap:ow,eventMap:rw,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:ow,eventMap:rw,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ce(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}z(oN,"contextType",me);function aw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aw(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var lw={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},uw={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function aN(t){var{options:e,bounds:n,draggable:i,editable:s,visible:r,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:h,onMouseOut:d,onMouseOver:f,onMouseUp:g,onRightClick:p,onClick:y,onDrag:b,onBoundsChanged:x,onLoad:_,onUnmount:k}=t,L=v.useContext(me),[T,R]=v.useState(null),[S,E]=v.useState(null),[C,P]=v.useState(null),[M,O]=v.useState(null),[I,J]=v.useState(null),[K,Q]=v.useState(null),[ie,j]=v.useState(null),[W,q]=v.useState(null),[te,ee]=v.useState(null),[Y,le]=v.useState(null),[B,ce]=v.useState(null),[ge,de]=v.useState(null),[Fe,re]=v.useState(null);return v.useEffect(()=>{T!==null&&T.setMap(L)},[L]),v.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),v.useEffect(()=>{typeof i<"u"&&T!==null&&T.setDraggable(i)},[T,i]),v.useEffect(()=>{typeof s<"u"&&T!==null&&T.setEditable(s)},[T,s]),v.useEffect(()=>{typeof r<"u"&&T!==null&&T.setVisible(r)},[T,r]),v.useEffect(()=>{typeof n<"u"&&T!==null&&T.setBounds(n)},[T,n]),v.useEffect(()=>{T&&o&&(S!==null&&google.maps.event.removeListener(S),E(google.maps.event.addListener(T,"dblclick",o)))},[o]),v.useEffect(()=>{T&&a&&(C!==null&&google.maps.event.removeListener(C),P(google.maps.event.addListener(T,"dragend",a)))},[a]),v.useEffect(()=>{T&&l&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(T,"dragstart",l)))},[l]),v.useEffect(()=>{T&&u&&(I!==null&&google.maps.event.removeListener(I),J(google.maps.event.addListener(T,"mousedown",u)))},[u]),v.useEffect(()=>{T&&h&&(K!==null&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(T,"mousemove",h)))},[h]),v.useEffect(()=>{T&&d&&(ie!==null&&google.maps.event.removeListener(ie),j(google.maps.event.addListener(T,"mouseout",d)))},[d]),v.useEffect(()=>{T&&f&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(T,"mouseover",f)))},[f]),v.useEffect(()=>{T&&g&&(te!==null&&google.maps.event.removeListener(te),ee(google.maps.event.addListener(T,"mouseup",g)))},[g]),v.useEffect(()=>{T&&p&&(Y!==null&&google.maps.event.removeListener(Y),le(google.maps.event.addListener(T,"rightclick",p)))},[p]),v.useEffect(()=>{T&&y&&(B!==null&&google.maps.event.removeListener(B),ce(google.maps.event.addListener(T,"click",y)))},[y]),v.useEffect(()=>{T&&b&&(ge!==null&&google.maps.event.removeListener(ge),de(google.maps.event.addListener(T,"drag",b)))},[b]),v.useEffect(()=>{T&&x&&(Fe!==null&&google.maps.event.removeListener(Fe),re(google.maps.event.addListener(T,"bounds_changed",x)))},[x]),v.useEffect(()=>{var ve=new google.maps.Rectangle(ih(ih({},e),{},{map:L}));return typeof r<"u"&&ve.setVisible(r),typeof s<"u"&&ve.setEditable(s),typeof i<"u"&&ve.setDraggable(i),typeof n<"u"&&ve.setBounds(n),o&&E(google.maps.event.addListener(ve,"dblclick",o)),a&&P(google.maps.event.addListener(ve,"dragend",a)),l&&O(google.maps.event.addListener(ve,"dragstart",l)),u&&J(google.maps.event.addListener(ve,"mousedown",u)),h&&Q(google.maps.event.addListener(ve,"mousemove",h)),d&&j(google.maps.event.addListener(ve,"mouseout",d)),f&&q(google.maps.event.addListener(ve,"mouseover",f)),g&&ee(google.maps.event.addListener(ve,"mouseup",g)),p&&le(google.maps.event.addListener(ve,"rightclick",p)),y&&ce(google.maps.event.addListener(ve,"click",y)),b&&de(google.maps.event.addListener(ve,"drag",b)),x&&re(google.maps.event.addListener(ve,"bounds_changed",x)),R(ve),_&&_(ve),()=>{S!==null&&google.maps.event.removeListener(S),C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),K!==null&&google.maps.event.removeListener(K),ie!==null&&google.maps.event.removeListener(ie),W!==null&&google.maps.event.removeListener(W),te!==null&&google.maps.event.removeListener(te),Y!==null&&google.maps.event.removeListener(Y),B!==null&&google.maps.event.removeListener(B),ge!==null&&google.maps.event.removeListener(ge),Fe!==null&&google.maps.event.removeListener(Fe),k&&k(ve),ve.setMap(null)}},[]),null}v.memo(aN);class lN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{rectangle:null}),z(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(ih(ih({},this.props.options),{},{map:this.context}));this.registeredEvents=Ee({updaterMap:uw,eventMap:lw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:uw,eventMap:lw,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ce(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}z(lN,"contextType",me);function cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var hw={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},dw={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},uN={};function cN(t){var{options:e,center:n,radius:i,draggable:s,editable:r,visible:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:h,onMouseMove:d,onMouseOut:f,onMouseOver:g,onMouseUp:p,onRightClick:y,onClick:b,onDrag:x,onCenterChanged:_,onRadiusChanged:k,onLoad:L,onUnmount:T}=t,R=v.useContext(me),[S,E]=v.useState(null),[C,P]=v.useState(null),[M,O]=v.useState(null),[I,J]=v.useState(null),[K,Q]=v.useState(null),[ie,j]=v.useState(null),[W,q]=v.useState(null),[te,ee]=v.useState(null),[Y,le]=v.useState(null),[B,ce]=v.useState(null),[ge,de]=v.useState(null),[Fe,re]=v.useState(null),[ve,Ne]=v.useState(null),[$e,wt]=v.useState(null);return v.useEffect(()=>{S!==null&&S.setMap(R)},[R]),v.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),v.useEffect(()=>{typeof s<"u"&&S!==null&&S.setDraggable(s)},[S,s]),v.useEffect(()=>{typeof r<"u"&&S!==null&&S.setEditable(r)},[S,r]),v.useEffect(()=>{typeof o<"u"&&S!==null&&S.setVisible(o)},[S,o]),v.useEffect(()=>{typeof i=="number"&&S!==null&&S.setRadius(i)},[S,i]),v.useEffect(()=>{typeof n<"u"&&S!==null&&S.setCenter(n)},[S,n]),v.useEffect(()=>{S&&a&&(C!==null&&google.maps.event.removeListener(C),P(google.maps.event.addListener(S,"dblclick",a)))},[a]),v.useEffect(()=>{S&&l&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(S,"dragend",l)))},[l]),v.useEffect(()=>{S&&u&&(I!==null&&google.maps.event.removeListener(I),J(google.maps.event.addListener(S,"dragstart",u)))},[u]),v.useEffect(()=>{S&&h&&(K!==null&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(S,"mousedown",h)))},[h]),v.useEffect(()=>{S&&d&&(ie!==null&&google.maps.event.removeListener(ie),j(google.maps.event.addListener(S,"mousemove",d)))},[d]),v.useEffect(()=>{S&&f&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(S,"mouseout",f)))},[f]),v.useEffect(()=>{S&&g&&(te!==null&&google.maps.event.removeListener(te),ee(google.maps.event.addListener(S,"mouseover",g)))},[g]),v.useEffect(()=>{S&&p&&(Y!==null&&google.maps.event.removeListener(Y),le(google.maps.event.addListener(S,"mouseup",p)))},[p]),v.useEffect(()=>{S&&y&&(B!==null&&google.maps.event.removeListener(B),ce(google.maps.event.addListener(S,"rightclick",y)))},[y]),v.useEffect(()=>{S&&b&&(ge!==null&&google.maps.event.removeListener(ge),de(google.maps.event.addListener(S,"click",b)))},[b]),v.useEffect(()=>{S&&x&&(Fe!==null&&google.maps.event.removeListener(Fe),re(google.maps.event.addListener(S,"drag",x)))},[x]),v.useEffect(()=>{S&&_&&(ve!==null&&google.maps.event.removeListener(ve),Ne(google.maps.event.addListener(S,"center_changed",_)))},[b]),v.useEffect(()=>{S&&k&&($e!==null&&google.maps.event.removeListener($e),wt(google.maps.event.addListener(S,"radius_changed",k)))},[k]),v.useEffect(()=>{var Se=new google.maps.Circle(sh(sh({},e||uN),{},{map:R}));return typeof i=="number"&&Se.setRadius(i),typeof n<"u"&&Se.setCenter(n),typeof i=="number"&&Se.setRadius(i),typeof o<"u"&&Se.setVisible(o),typeof r<"u"&&Se.setEditable(r),typeof s<"u"&&Se.setDraggable(s),a&&P(google.maps.event.addListener(Se,"dblclick",a)),l&&O(google.maps.event.addListener(Se,"dragend",l)),u&&J(google.maps.event.addListener(Se,"dragstart",u)),h&&Q(google.maps.event.addListener(Se,"mousedown",h)),d&&j(google.maps.event.addListener(Se,"mousemove",d)),f&&q(google.maps.event.addListener(Se,"mouseout",f)),g&&ee(google.maps.event.addListener(Se,"mouseover",g)),p&&le(google.maps.event.addListener(Se,"mouseup",p)),y&&ce(google.maps.event.addListener(Se,"rightclick",y)),b&&de(google.maps.event.addListener(Se,"click",b)),x&&re(google.maps.event.addListener(Se,"drag",x)),_&&Ne(google.maps.event.addListener(Se,"center_changed",_)),k&&wt(google.maps.event.addListener(Se,"radius_changed",k)),E(Se),L&&L(Se),()=>{C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),K!==null&&google.maps.event.removeListener(K),ie!==null&&google.maps.event.removeListener(ie),W!==null&&google.maps.event.removeListener(W),te!==null&&google.maps.event.removeListener(te),Y!==null&&google.maps.event.removeListener(Y),B!==null&&google.maps.event.removeListener(B),ge!==null&&google.maps.event.removeListener(ge),ve!==null&&google.maps.event.removeListener(ve),$e!==null&&google.maps.event.removeListener($e),T&&T(Se),Se.setMap(null)}},[]),null}v.memo(cN);class hN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{circle:null}),z(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(sh(sh({},this.props.options),{},{map:this.context}));this.registeredEvents=Ee({updaterMap:dw,eventMap:hw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:dw,eventMap:hw,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ce(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}z(hN,"contextType",me);function fw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fw(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var pw={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},gw={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,i){t.loadGeoJson(e,n,i)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function dN(t){var{options:e,onClick:n,onDblClick:i,onMouseDown:s,onMouseMove:r,onMouseOut:o,onMouseOver:a,onMouseUp:l,onRightClick:u,onAddFeature:h,onRemoveFeature:d,onRemoveProperty:f,onSetGeometry:g,onSetProperty:p,onLoad:y,onUnmount:b}=t,x=v.useContext(me),[_,k]=v.useState(null),[L,T]=v.useState(null),[R,S]=v.useState(null),[E,C]=v.useState(null),[P,M]=v.useState(null),[O,I]=v.useState(null),[J,K]=v.useState(null),[Q,ie]=v.useState(null),[j,W]=v.useState(null),[q,te]=v.useState(null),[ee,Y]=v.useState(null),[le,B]=v.useState(null),[ce,ge]=v.useState(null),[de,Fe]=v.useState(null);return v.useEffect(()=>{_!==null&&_.setMap(x)},[x]),v.useEffect(()=>{_&&i&&(L!==null&&google.maps.event.removeListener(L),T(google.maps.event.addListener(_,"dblclick",i)))},[i]),v.useEffect(()=>{_&&s&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(_,"mousedown",s)))},[s]),v.useEffect(()=>{_&&r&&(E!==null&&google.maps.event.removeListener(E),C(google.maps.event.addListener(_,"mousemove",r)))},[r]),v.useEffect(()=>{_&&o&&(P!==null&&google.maps.event.removeListener(P),M(google.maps.event.addListener(_,"mouseout",o)))},[o]),v.useEffect(()=>{_&&a&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(_,"mouseover",a)))},[a]),v.useEffect(()=>{_&&l&&(J!==null&&google.maps.event.removeListener(J),K(google.maps.event.addListener(_,"mouseup",l)))},[l]),v.useEffect(()=>{_&&u&&(Q!==null&&google.maps.event.removeListener(Q),ie(google.maps.event.addListener(_,"rightclick",u)))},[u]),v.useEffect(()=>{_&&n&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(_,"click",n)))},[n]),v.useEffect(()=>{_&&h&&(q!==null&&google.maps.event.removeListener(q),te(google.maps.event.addListener(_,"addfeature",h)))},[h]),v.useEffect(()=>{_&&d&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(_,"removefeature",d)))},[d]),v.useEffect(()=>{_&&f&&(le!==null&&google.maps.event.removeListener(le),B(google.maps.event.addListener(_,"removeproperty",f)))},[f]),v.useEffect(()=>{_&&g&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(_,"setgeometry",g)))},[g]),v.useEffect(()=>{_&&p&&(de!==null&&google.maps.event.removeListener(de),Fe(google.maps.event.addListener(_,"setproperty",p)))},[p]),v.useEffect(()=>{if(x!==null){var re=new google.maps.Data(rh(rh({},e),{},{map:x}));i&&T(google.maps.event.addListener(re,"dblclick",i)),s&&S(google.maps.event.addListener(re,"mousedown",s)),r&&C(google.maps.event.addListener(re,"mousemove",r)),o&&M(google.maps.event.addListener(re,"mouseout",o)),a&&I(google.maps.event.addListener(re,"mouseover",a)),l&&K(google.maps.event.addListener(re,"mouseup",l)),u&&ie(google.maps.event.addListener(re,"rightclick",u)),n&&W(google.maps.event.addListener(re,"click",n)),h&&te(google.maps.event.addListener(re,"addfeature",h)),d&&Y(google.maps.event.addListener(re,"removefeature",d)),f&&B(google.maps.event.addListener(re,"removeproperty",f)),g&&ge(google.maps.event.addListener(re,"setgeometry",g)),p&&Fe(google.maps.event.addListener(re,"setproperty",p)),k(re),y&&y(re)}return()=>{_&&(L!==null&&google.maps.event.removeListener(L),R!==null&&google.maps.event.removeListener(R),E!==null&&google.maps.event.removeListener(E),P!==null&&google.maps.event.removeListener(P),O!==null&&google.maps.event.removeListener(O),J!==null&&google.maps.event.removeListener(J),Q!==null&&google.maps.event.removeListener(Q),j!==null&&google.maps.event.removeListener(j),q!==null&&google.maps.event.removeListener(q),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),ce!==null&&google.maps.event.removeListener(ce),de!==null&&google.maps.event.removeListener(de),b&&b(_),_.setMap(null))}},[]),null}v.memo(dN);class fN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{data:null}),z(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(rh(rh({},this.props.options),{},{map:this.context}));this.registeredEvents=Ee({updaterMap:gw,eventMap:pw,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:gw,eventMap:pw,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ce(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}z(fN,"contextType",me);function mw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function vw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mw(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var yw={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},_w={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class pN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{kmlLayer:null}),z(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(vw(vw({},this.props.options),{},{map:this.context}));this.registeredEvents=Ee({updaterMap:_w,eventMap:yw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:_w,eventMap:yw,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ce(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}z(pN,"contextType",me);function O1(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function gN(t,e){return new e(t.lat,t.lng)}function mN(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function vN(t,e,n){return t instanceof e?t:n(t,e)}function yN(t,e,n){return t instanceof e?t:n(t,e)}function _N(t,e,n){var i=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return i&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-s.x-e.x,"px"),height:"".concat(s.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function wN(t,e,n){var i=t&&t.fromLatLngToDivPixel(n);if(i){var{x:s,y:r}=i;return{left:"".concat(s+e.x,"px"),top:"".concat(r+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function D1(t,e,n,i){return n!==void 0?_N(t,e,yN(n,google.maps.LatLngBounds,mN)):wN(t,e,vN(i,google.maps.LatLng,gN))}function bN(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function xN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function EN(t,e,n,i,s){class r extends google.maps.OverlayView{constructor(a,l,u,h){super(),this.container=a,this.pane=l,this.position=u,this.bounds=h}onAdd(){var a,l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){var a=this.getProjection(),l=xN({},this.container?O1(this.container,s):{x:0,y:0}),u=D1(a,l,this.bounds,this.position);for(var[h,d]of Object.entries(u))this.container.style[h]=d}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new r(t,e,n,i)}function bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function SN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bw(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xw(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Ew(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function CN(t){var{position:e,bounds:n,mapPaneName:i,zIndex:s,onLoad:r,onUnmount:o,getPixelPositionOffset:a,children:l}=t,u=v.useContext(me),h=v.useMemo(()=>{var f=document.createElement("div");return f.style.position="absolute",f},[]),d=v.useMemo(()=>EN(h,i,e,n,a),[h,i,e,n]);return v.useEffect(()=>(r==null||r(d),d==null||d.setMap(u),()=>{o==null||o(d),d==null||d.setMap(null)}),[u,d]),v.useEffect(()=>{h.style.zIndex="".concat(s)},[s,h]),Rr.createPortal(l,h)}v.memo(CN);class jo extends v.PureComponent{constructor(e){super(e),z(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),z(this,"updatePane",()=>{var i=this.props.mapPaneName,s=this.overlayView.getPanes();Ct(!!i,"OverlayView requires props.mapPaneName but got %s",i),s?this.setState({paneEl:s[i]}):this.setState({paneEl:null})}),z(this,"onAdd",()=>{var i,s;this.updatePane(),(i=(s=this.props).onLoad)===null||i===void 0||i.call(s,this.overlayView)}),z(this,"onPositionElement",()=>{var i=this.overlayView.getProjection(),s=SN({x:0,y:0},this.containerRef.current?O1(this.containerRef.current,this.props.getPixelPositionOffset):{}),r=D1(i,s,this.props.bounds,this.props.position);if(!bN(r,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,l,u;this.setState({containerStyle:{top:(o=r.top)!==null&&o!==void 0?o:0,left:(a=r.left)!==null&&a!==void 0?a:0,width:(l=r.width)!==null&&l!==void 0?l:0,height:(u=r.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),z(this,"draw",()=>{this.onPositionElement()}),z(this,"onRemove",()=>{var i,s;this.setState(()=>({paneEl:null})),(i=(s=this.props).onUnmount)===null||i===void 0||i.call(s,this.overlayView)}),this.containerRef=v.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=xw(e.position),i=xw(this.props.position),s=Ew(e.bounds),r=Ew(this.props.bounds);(n!==i||s!==r)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Rr.createPortal(D.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:v.Children.only(this.props.children)}),e):null}}z(jo,"FLOAT_PANE","floatPane");z(jo,"MAP_PANE","mapPane");z(jo,"MARKER_LAYER","markerLayer");z(jo,"OVERLAY_LAYER","overlayLayer");z(jo,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");z(jo,"contextType",me);function kN(){}function Sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Cw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var kw={onDblClick:"dblclick",onClick:"click"},Lw={opacity(t,e){t.setOpacity(e)}};function LN(t){var{url:e,bounds:n,options:i,visible:s}=t,r=v.useContext(me),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=v.useMemo(()=>new google.maps.GroundOverlay(e,o,i),[]);return v.useEffect(()=>{a!==null&&a.setMap(r)},[r]),v.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(r))},[a,e]),v.useEffect(()=>{typeof s<"u"&&a!==null&&a.setOpacity(s?1:0)},[a,s]),v.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(r))},[a,n]),null}v.memo(LN);class N1 extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{groundOverlay:null}),z(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ct(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Cw(Cw({},this.props.options),{},{map:this.context}));this.registeredEvents=Ee({updaterMap:Lw,eventMap:kw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:Lw,eventMap:kw,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}z(N1,"defaultProps",{onLoad:kN});z(N1,"contextType",me);function Tw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tw(Object(n),!0).forEach(function(i){z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Pw={},Aw={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function TN(t){var{data:e,onLoad:n,onUnmount:i,options:s}=t,r=v.useContext(me),[o,a]=v.useState(null);return v.useEffect(()=>{google.maps.visualization||Ct(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),v.useEffect(()=>{Ct(!!e,"data property is required in HeatmapLayer %s",e)},[e]),v.useEffect(()=>{o!==null&&o.setMap(r)},[r]),v.useEffect(()=>{s&&o!==null&&o.setOptions(s)},[o,s]),v.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(oh(oh({},s),{},{data:e,map:r}));return a(l),n&&n(l),()=>{o!==null&&(i&&i(o),o.setMap(null))}},[]),null}v.memo(TN);class PN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{heatmapLayer:null}),z(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ct(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ct(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(oh(oh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Ee({updaterMap:Aw,eventMap:Pw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:Aw,eventMap:Pw,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ce(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}z(PN,"contextType",me);var Mw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Iw={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class AN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{streetViewPanorama:null}),z(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,i=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Ee({updaterMap:Iw,eventMap:Mw,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({streetViewPanorama:i}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:Iw,eventMap:Mw,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ce(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}z(AN,"contextType",me);class MN extends v.PureComponent{constructor(){super(...arguments),z(this,"state",{streetViewService:null}),z(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}z(MN,"contextType",me);var Rw={onDirectionsChanged:"directions_changed"},Ow={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class IN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"state",{directionsRenderer:null}),z(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ee({updaterMap:Ow,eventMap:Rw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:Ow,eventMap:Rw,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ce(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}z(IN,"contextType",me);var Dw={onPlacesChanged:"places_changed"},Nw={bounds(t,e){t.setBounds(e)}};class RN extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"containerElement",v.createRef()),z(this,"state",{searchBox:null}),z(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ct(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Ee({updaterMap:Nw,eventMap:Dw,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:Nw,eventMap:Dw,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ce(this.registeredEvents))}render(){return D.jsx("div",{ref:this.containerElement,children:v.Children.only(this.props.children)})}}z(RN,"contextType",me);var Vw={onPlaceChanged:"place_changed"},Fw={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class V1 extends v.PureComponent{constructor(){super(...arguments),z(this,"registeredEvents",[]),z(this,"containerElement",v.createRef()),z(this,"state",{autocomplete:null}),z(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Ct(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var i=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Ee({updaterMap:Fw,eventMap:Vw,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({autocomplete:i}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ce(this.registeredEvents),this.registeredEvents=Ee({updaterMap:Fw,eventMap:Vw,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ce(this.registeredEvents)}render(){return D.jsx("div",{ref:this.containerElement,className:this.props.className,children:v.Children.only(this.props.children)})}}z(V1,"defaultProps",{className:""});z(V1,"contextType",me);const ON=()=>{};var jw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},DN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},j1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),i.push(n[h],n[d],n[f],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||u==null||d==null)throw new NN;const f=r<<2|a>>4;if(i.push(f),u!==64){const g=a<<4&240|u>>2;if(i.push(g),d!==64){const p=u<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VN=function(t){const e=F1(t);return j1.encodeByteArray(e,!0)},ah=function(t){return VN(t).replace(/\./g,"")},FN=function(t){try{return j1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=()=>jN().__FIREBASE_DEFAULTS__,zN=()=>{if(typeof process>"u"||typeof jw>"u")return;const t=jw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FN(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return ON()||BN()||zN()||UN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$N=t=>{var e,n;return(n=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HN=t=>{const e=$N(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},B1=()=>{var t;return(t=_m())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ah(JSON.stringify(n)),ah(JSON.stringify(o)),""].join(".")}const Ha={};function KN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ha))Ha[e]?t.emulator.push(e):t.prod.push(e);return t}function QN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Bw=!1;function YN(t,e){if(typeof window>"u"||typeof document>"u"||!wm(window.location.host)||Ha[t]===e||Ha[t]||Bw)return;Ha[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",r=KN().prod.length>0;function o(){const f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Bw=!0,o()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=QN(i),g=n("text"),p=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const k=f.element;a(k),h(b,y);const L=u();l(_,x),k.append(_,p,b,L),document.body.appendChild(k)}r?(p.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZN(){var t;const e=(t=_m())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JN(){return!ZN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eV(){try{return typeof indexedDB=="object"}catch{return!1}}function tV(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="FirebaseError";class Bo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=nV,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z1.prototype.create)}}class z1{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?iV(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Bo(s,a,i)}}function iV(t,e){return t.replace(sV,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const sV=/\{\$([^}]+)}/g;function lh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(zw(r)&&zw(o)){if(!lh(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function zw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){return t&&t._delegate?t._delegate:t}class Sl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new WN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aV(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rr){return this.instances.has(e)}getOptions(e=rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=rr){return this.component?this.component.multipleInstances?e:rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oV(t){return t===rr?void 0:t}function aV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const uV={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},cV=Le.INFO,hV={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},dV=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=hV[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U1{constructor(e){this.name=e,this._logLevel=cV,this._logHandler=dV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const fV=(t,e)=>e.some(n=>t instanceof n);let Uw,$w;function pV(){return Uw||(Uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gV(){return $w||($w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $1=new WeakMap,Vp=new WeakMap,H1=new WeakMap,pf=new WeakMap,bm=new WeakMap;function mV(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Ps(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$1.set(n,t)}).catch(()=>{}),bm.set(e,t),e}function vV(t){if(Vp.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Vp.set(t,e)}let Fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yV(t){Fp=t(Fp)}function _V(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(gf(this),e,...n);return H1.set(i,e.sort?e.sort():[e]),Ps(i)}:gV().includes(t)?function(...e){return t.apply(gf(this),e),Ps($1.get(this))}:function(...e){return Ps(t.apply(gf(this),e))}}function wV(t){return typeof t=="function"?_V(t):(t instanceof IDBTransaction&&vV(t),fV(t,pV())?new Proxy(t,Fp):t)}function Ps(t){if(t instanceof IDBRequest)return mV(t);if(pf.has(t))return pf.get(t);const e=wV(t);return e!==t&&(pf.set(t,e),bm.set(e,t)),e}const gf=t=>bm.get(t);function bV(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=Ps(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ps(o.result),l.oldVersion,l.newVersion,Ps(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xV=["get","getKey","getAll","getAllKeys","count"],EV=["put","add","delete","clear"],mf=new Map;function Hw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=EV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||xV.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return mf.set(e,r),r}yV(t=>({...t,get:(e,n,i)=>Hw(e,n)||t.get(e,n,i),has:(e,n)=>!!Hw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CV(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function CV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jp="@firebase/app",Ww="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new U1("@firebase/app"),kV="@firebase/app-compat",LV="@firebase/analytics-compat",TV="@firebase/analytics",PV="@firebase/app-check-compat",AV="@firebase/app-check",MV="@firebase/auth",IV="@firebase/auth-compat",RV="@firebase/database",OV="@firebase/data-connect",DV="@firebase/database-compat",NV="@firebase/functions",VV="@firebase/functions-compat",FV="@firebase/installations",jV="@firebase/installations-compat",BV="@firebase/messaging",zV="@firebase/messaging-compat",UV="@firebase/performance",$V="@firebase/performance-compat",HV="@firebase/remote-config",WV="@firebase/remote-config-compat",qV="@firebase/storage",GV="@firebase/storage-compat",KV="@firebase/firestore",QV="@firebase/ai",YV="@firebase/firestore-compat",XV="firebase",ZV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",JV={[jp]:"fire-core",[kV]:"fire-core-compat",[TV]:"fire-analytics",[LV]:"fire-analytics-compat",[AV]:"fire-app-check",[PV]:"fire-app-check-compat",[MV]:"fire-auth",[IV]:"fire-auth-compat",[RV]:"fire-rtdb",[OV]:"fire-data-connect",[DV]:"fire-rtdb-compat",[NV]:"fire-fn",[VV]:"fire-fn-compat",[FV]:"fire-iid",[jV]:"fire-iid-compat",[BV]:"fire-fcm",[zV]:"fire-fcm-compat",[UV]:"fire-perf",[$V]:"fire-perf-compat",[HV]:"fire-rc",[WV]:"fire-rc-compat",[qV]:"fire-gcs",[GV]:"fire-gcs-compat",[KV]:"fire-fst",[YV]:"fire-fst-compat",[QV]:"fire-vertex","fire-js":"fire-js",[XV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,e4=new Map,zp=new Map;function qw(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ch(t){const e=t.name;if(zp.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,t);for(const n of uh.values())qw(n,t);for(const n of e4.values())qw(n,t);return!0}function t4(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function n4(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new z1("app","Firebase",i4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=ZV;function W1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Bp,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw As.create("bad-app-name",{appName:String(s)});if(n||(n=B1()),!n)throw As.create("no-options");const r=uh.get(s);if(r){if(lh(n,r.options)&&lh(i,r.config))return r;throw As.create("duplicate-app",{appName:s})}const o=new lV(s);for(const l of zp.values())o.addComponent(l);const a=new s4(n,i,o);return uh.set(s,a),a}function o4(t=Bp){const e=uh.get(t);if(!e&&t===Bp&&B1())return W1();if(!e)throw As.create("no-app",{appName:t});return e}function po(t,e,n){var i;let s=(i=JV[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(a.join(" "));return}ch(new Sl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="firebase-heartbeat-database",l4=1,Cl="firebase-heartbeat-store";let vf=null;function q1(){return vf||(vf=bV(a4,l4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),vf}async function u4(t){try{const n=(await q1()).transaction(Cl),i=await n.objectStore(Cl).get(G1(t));return await n.done,i}catch(e){if(e instanceof Bo)Wi.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function Gw(t,e){try{const i=(await q1()).transaction(Cl,"readwrite");await i.objectStore(Cl).put(e,G1(t)),await i.done}catch(n){if(n instanceof Bo)Wi.warn(n.message);else{const i=As.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(i.message)}}}function G1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=1024,h4=30;class d4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>h4){const o=g4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kw(),{heartbeatsToSend:i,unsentEntries:s}=f4(this._heartbeatsCache.heartbeats),r=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Wi.warn(n),""}}}function Kw(){return new Date().toISOString().substring(0,10)}function f4(t,e=c4){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Qw(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class p4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eV()?tV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Gw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Gw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qw(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}function g4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){ch(new Sl("platform-logger",e=>new SV(e),"PRIVATE")),ch(new Sl("heartbeat",e=>new d4(e),"PRIVATE")),po(jp,Ww,t),po(jp,Ww,"esm2017"),po("fire-js","")}m4("");var Yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xm;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function C(){}C.prototype=E.prototype,S.D=E.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(P,M,O){for(var I=Array(arguments.length-2),J=2;J<arguments.length;J++)I[J-2]=arguments[J];return E.prototype[M].apply(P,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,E,C){C||(C=0);var P=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)P[M]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(M=0;16>M;++M)P[M]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=S.g[0],C=S.g[1],M=S.g[2];var O=S.g[3],I=E+(O^C&(M^O))+P[0]+3614090360&4294967295;E=C+(I<<7&4294967295|I>>>25),I=O+(M^E&(C^M))+P[1]+3905402710&4294967295,O=E+(I<<12&4294967295|I>>>20),I=M+(C^O&(E^C))+P[2]+606105819&4294967295,M=O+(I<<17&4294967295|I>>>15),I=C+(E^M&(O^E))+P[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=E+(O^C&(M^O))+P[4]+4118548399&4294967295,E=C+(I<<7&4294967295|I>>>25),I=O+(M^E&(C^M))+P[5]+1200080426&4294967295,O=E+(I<<12&4294967295|I>>>20),I=M+(C^O&(E^C))+P[6]+2821735955&4294967295,M=O+(I<<17&4294967295|I>>>15),I=C+(E^M&(O^E))+P[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=E+(O^C&(M^O))+P[8]+1770035416&4294967295,E=C+(I<<7&4294967295|I>>>25),I=O+(M^E&(C^M))+P[9]+2336552879&4294967295,O=E+(I<<12&4294967295|I>>>20),I=M+(C^O&(E^C))+P[10]+4294925233&4294967295,M=O+(I<<17&4294967295|I>>>15),I=C+(E^M&(O^E))+P[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=E+(O^C&(M^O))+P[12]+1804603682&4294967295,E=C+(I<<7&4294967295|I>>>25),I=O+(M^E&(C^M))+P[13]+4254626195&4294967295,O=E+(I<<12&4294967295|I>>>20),I=M+(C^O&(E^C))+P[14]+2792965006&4294967295,M=O+(I<<17&4294967295|I>>>15),I=C+(E^M&(O^E))+P[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=E+(M^O&(C^M))+P[1]+4129170786&4294967295,E=C+(I<<5&4294967295|I>>>27),I=O+(C^M&(E^C))+P[6]+3225465664&4294967295,O=E+(I<<9&4294967295|I>>>23),I=M+(E^C&(O^E))+P[11]+643717713&4294967295,M=O+(I<<14&4294967295|I>>>18),I=C+(O^E&(M^O))+P[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=E+(M^O&(C^M))+P[5]+3593408605&4294967295,E=C+(I<<5&4294967295|I>>>27),I=O+(C^M&(E^C))+P[10]+38016083&4294967295,O=E+(I<<9&4294967295|I>>>23),I=M+(E^C&(O^E))+P[15]+3634488961&4294967295,M=O+(I<<14&4294967295|I>>>18),I=C+(O^E&(M^O))+P[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=E+(M^O&(C^M))+P[9]+568446438&4294967295,E=C+(I<<5&4294967295|I>>>27),I=O+(C^M&(E^C))+P[14]+3275163606&4294967295,O=E+(I<<9&4294967295|I>>>23),I=M+(E^C&(O^E))+P[3]+4107603335&4294967295,M=O+(I<<14&4294967295|I>>>18),I=C+(O^E&(M^O))+P[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=E+(M^O&(C^M))+P[13]+2850285829&4294967295,E=C+(I<<5&4294967295|I>>>27),I=O+(C^M&(E^C))+P[2]+4243563512&4294967295,O=E+(I<<9&4294967295|I>>>23),I=M+(E^C&(O^E))+P[7]+1735328473&4294967295,M=O+(I<<14&4294967295|I>>>18),I=C+(O^E&(M^O))+P[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=E+(C^M^O)+P[5]+4294588738&4294967295,E=C+(I<<4&4294967295|I>>>28),I=O+(E^C^M)+P[8]+2272392833&4294967295,O=E+(I<<11&4294967295|I>>>21),I=M+(O^E^C)+P[11]+1839030562&4294967295,M=O+(I<<16&4294967295|I>>>16),I=C+(M^O^E)+P[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=E+(C^M^O)+P[1]+2763975236&4294967295,E=C+(I<<4&4294967295|I>>>28),I=O+(E^C^M)+P[4]+1272893353&4294967295,O=E+(I<<11&4294967295|I>>>21),I=M+(O^E^C)+P[7]+4139469664&4294967295,M=O+(I<<16&4294967295|I>>>16),I=C+(M^O^E)+P[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=E+(C^M^O)+P[13]+681279174&4294967295,E=C+(I<<4&4294967295|I>>>28),I=O+(E^C^M)+P[0]+3936430074&4294967295,O=E+(I<<11&4294967295|I>>>21),I=M+(O^E^C)+P[3]+3572445317&4294967295,M=O+(I<<16&4294967295|I>>>16),I=C+(M^O^E)+P[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=E+(C^M^O)+P[9]+3654602809&4294967295,E=C+(I<<4&4294967295|I>>>28),I=O+(E^C^M)+P[12]+3873151461&4294967295,O=E+(I<<11&4294967295|I>>>21),I=M+(O^E^C)+P[15]+530742520&4294967295,M=O+(I<<16&4294967295|I>>>16),I=C+(M^O^E)+P[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=E+(M^(C|~O))+P[0]+4096336452&4294967295,E=C+(I<<6&4294967295|I>>>26),I=O+(C^(E|~M))+P[7]+1126891415&4294967295,O=E+(I<<10&4294967295|I>>>22),I=M+(E^(O|~C))+P[14]+2878612391&4294967295,M=O+(I<<15&4294967295|I>>>17),I=C+(O^(M|~E))+P[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=E+(M^(C|~O))+P[12]+1700485571&4294967295,E=C+(I<<6&4294967295|I>>>26),I=O+(C^(E|~M))+P[3]+2399980690&4294967295,O=E+(I<<10&4294967295|I>>>22),I=M+(E^(O|~C))+P[10]+4293915773&4294967295,M=O+(I<<15&4294967295|I>>>17),I=C+(O^(M|~E))+P[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=E+(M^(C|~O))+P[8]+1873313359&4294967295,E=C+(I<<6&4294967295|I>>>26),I=O+(C^(E|~M))+P[15]+4264355552&4294967295,O=E+(I<<10&4294967295|I>>>22),I=M+(E^(O|~C))+P[6]+2734768916&4294967295,M=O+(I<<15&4294967295|I>>>17),I=C+(O^(M|~E))+P[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=E+(M^(C|~O))+P[4]+4149444226&4294967295,E=C+(I<<6&4294967295|I>>>26),I=O+(C^(E|~M))+P[11]+3174756917&4294967295,O=E+(I<<10&4294967295|I>>>22),I=M+(E^(O|~C))+P[2]+718787259&4294967295,M=O+(I<<15&4294967295|I>>>17),I=C+(O^(M|~E))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+O&4294967295}i.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var C=E-this.blockSize,P=this.B,M=this.h,O=0;O<E;){if(M==0)for(;O<=C;)s(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<E;)if(P[M++]=S.charCodeAt(O++),M==this.blockSize){s(this,P),M=0;break}}else for(;O<E;)if(P[M++]=S[O++],M==this.blockSize){s(this,P),M=0;break}}this.h=M,this.o+=E},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var C=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=C&255,C/=256;for(this.u(S),S=Array(16),E=C=0;4>E;++E)for(var P=0;32>P;P+=8)S[C++]=this.g[E]>>>P&255;return S};function r(S,E){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=E(S)}function o(S,E){this.h=E;for(var C=[],P=!0,M=S.length-1;0<=M;M--){var O=S[M]|0;P&&O==E||(C[M]=O,P=!1)}this.g=C}var a={};function l(S){return-128<=S&&128>S?r(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return b(u(-S));for(var E=[],C=1,P=0;S>=C;P++)E[P]=S/C|0,C*=4294967296;return new o(E,0)}function h(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(h(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(E,8)),P=d,M=0;M<S.length;M+=8){var O=Math.min(8,S.length-M),I=parseInt(S.substring(M,M+O),E);8>O?(O=u(Math.pow(E,O)),P=P.j(O).add(u(I))):(P=P.j(C),P=P.add(u(I)))}return P}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,E=1,C=0;C<this.g.length;C++){var P=this.i(C);S+=(0<=P?P:4294967296+P)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(p(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var E=u(Math.pow(S,6)),C=this,P="";;){var M=L(C,E).g;C=x(C,M.j(E));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=M,p(C))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function p(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=x(this,S),y(S)?-1:p(S)?0:1};function b(S){for(var E=S.g.length,C=[],P=0;P<E;P++)C[P]=~S.g[P];return new o(C,~S.h).add(f)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],P=0,M=0;M<=E;M++){var O=P+(this.i(M)&65535)+(S.i(M)&65535),I=(O>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);P=I>>>16,O&=65535,I&=65535,C[M]=I<<16|O}return new o(C,C[C.length-1]&-2147483648?-1:0)};function x(S,E){return S.add(b(E))}t.j=function(S){if(p(this)||p(S))return d;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(g)&&0>S.l(g))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,C=[],P=0;P<2*E;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<S.g.length;M++){var O=this.i(P)>>>16,I=this.i(P)&65535,J=S.i(M)>>>16,K=S.i(M)&65535;C[2*P+2*M]+=I*K,_(C,2*P+2*M),C[2*P+2*M+1]+=O*K,_(C,2*P+2*M+1),C[2*P+2*M+1]+=I*J,_(C,2*P+2*M+1),C[2*P+2*M+2]+=O*J,_(C,2*P+2*M+2)}for(P=0;P<E;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=E;P<2*E;P++)C[P]=0;return new o(C,0)};function _(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function k(S,E){this.g=S,this.h=E}function L(S,E){if(p(E))throw Error("division by zero");if(p(S))return new k(d,d);if(y(S))return E=L(b(S),E),new k(b(E.g),b(E.h));if(y(E))return E=L(S,b(E)),new k(b(E.g),E.h);if(30<S.g.length){if(y(S)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var C=f,P=E;0>=P.l(S);)C=T(C),P=T(P);var M=R(C,1),O=R(P,1);for(P=R(P,2),C=R(C,2);!p(P);){var I=O.add(P);0>=I.l(S)&&(M=M.add(C),O=I),P=R(P,1),C=R(C,1)}return E=x(S,M.j(E)),new k(M,E)}for(M=d;0<=S.l(E);){for(C=Math.max(1,Math.floor(S.m()/E.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=u(C),I=O.j(E);y(I)||0<I.l(S);)C-=P,O=u(C),I=O.j(E);p(O)&&(O=f),M=M.add(O),S=x(S,I)}return new k(M,S)}t.A=function(S){return L(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],P=0;P<E;P++)C[P]=this.i(P)&S.i(P);return new o(C,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],P=0;P<E;P++)C[P]=this.i(P)|S.i(P);return new o(C,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],P=0;P<E;P++)C[P]=this.i(P)^S.i(P);return new o(C,this.h^S.h)};function T(S){for(var E=S.g.length+1,C=[],P=0;P<E;P++)C[P]=S.i(P)<<1|S.i(P-1)>>>31;return new o(C,S.h)}function R(S,E){var C=E>>5;E%=32;for(var P=S.g.length-C,M=[],O=0;O<P;O++)M[O]=0<E?S.i(O+C)>>>E|S.i(O+C+1)<<32-E:S.i(O+C);return new o(M,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,xm=o}).apply(typeof Yw<"u"?Yw:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K1,ka,Q1,pc,Up,Y1,X1,Z1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,w){return c==Array.prototype||c==Object.prototype||(c[m]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function s(c,m){if(m)e:{var w=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var N=c[A];if(!(N in w))break e;w=w[N]}c=c[c.length-1],A=w[c],m=m(A),m!=A&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}function r(c,m){c instanceof String&&(c+="");var w=0,A=!1,N={next:function(){if(!A&&w<c.length){var F=w++;return{value:m(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(c){return c||function(){return r(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,w){return c.call.apply(c.bind,arguments)}function d(c,m,w){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,A),c.apply(m,N)}}return function(){return c.apply(m,arguments)}}function f(c,m,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function p(c,m){function w(){}w.prototype=m.prototype,c.aa=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(A,N,F){for(var X=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)X[Ve-2]=arguments[Ve];return m.prototype[N].apply(A,X)}}function y(c){const m=c.length;if(0<m){const w=Array(m);for(let A=0;A<m;A++)w[A]=c[A];return w}return[]}function b(c,m){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(l(A)){const N=c.length||0,F=A.length||0;c.length=N+F;for(let X=0;X<F;X++)c[N+X]=A[X]}else c.push(A)}}class x{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function L(c){return L[" "](c),c}L[" "]=function(){};var T=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function R(c,m,w){for(const A in c)m.call(w,c[A],A,c)}function S(c,m){for(const w in c)m.call(void 0,c[w],w,c)}function E(c){const m={};for(const w in c)m[w]=c[w];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,m){let w,A;for(let N=1;N<arguments.length;N++){A=arguments[N];for(w in A)c[w]=A[w];for(let F=0;F<C.length;F++)w=C[F],Object.prototype.hasOwnProperty.call(A,w)&&(c[w]=A[w])}}function M(c){var m=1;c=c.split(":");const w=[];for(;0<m&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function O(c){a.setTimeout(()=>{throw c},0)}function I(){var c=W;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class J{constructor(){this.h=this.g=null}add(m,w){const A=K.get();A.set(m,w),this.h?this.h.next=A:this.g=A,this.h=A}}var K=new x(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,j=!1,W=new J,q=()=>{const c=a.Promise.resolve(void 0);ie=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(w){O(w)}var m=K;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}j=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return c}();function B(c,m){if(Y.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(T){e:{try{L(m.nodeName);var N=!0;break e}catch{}N=!1}N||(m=null)}}else w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&B.aa.h.call(this)}}p(B,Y);var ce={2:"touch",3:"pen",4:"mouse"};B.prototype.h=function(){B.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),de=0;function Fe(c,m,w,A,N){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!A,this.ha=N,this.key=++de,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,m,w,A,N){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var X=$e(c,m,A,N);return-1<X?(m=c[X],w||(m.fa=!1)):(m=new Fe(m,this.src,F,!!A,N),m.fa=w,c.push(m)),m};function Ne(c,m){var w=m.type;if(w in c.g){var A=c.g[w],N=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=N)&&Array.prototype.splice.call(A,N,1),F&&(re(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function $e(c,m,w,A){for(var N=0;N<c.length;++N){var F=c[N];if(!F.da&&F.listener==m&&F.capture==!!w&&F.ha==A)return N}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),Se={};function Gi(c,m,w,A,N){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Gi(c,m[F],w,A,N);return null}return w=Ws(w),c&&c[ge]?c.K(m,w,u(A)?!!A.capture:!1,N):Ki(c,m,w,!1,A,N)}function Ki(c,m,w,A,N,F){if(!m)throw Error("Invalid event type");var X=u(N)?!!N.capture:!!N,Ve=ri(c);if(Ve||(c[wt]=Ve=new ve(c)),w=Ve.add(m,w,A,X,F),w.proxy)return w;if(A=Vr(),w.proxy=A,A.src=c,A.listener=w,c.addEventListener)le||(N=X),N===void 0&&(N=!1),c.addEventListener(m.toString(),A,N);else if(c.attachEvent)c.attachEvent(yn(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Vr(){function c(w){return m.call(c.src,c.listener,w)}const m=Hs;return c}function jn(c,m,w,A,N){if(Array.isArray(m))for(var F=0;F<m.length;F++)jn(c,m[F],w,A,N);else A=u(A)?!!A.capture:!!A,w=Ws(w),c&&c[ge]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],w=$e(F,w,A,N),-1<w&&(re(F[w]),Array.prototype.splice.call(F,w,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=ri(c))&&(m=c.g[m.toString()],c=-1,m&&(c=$e(m,w,A,N)),(w=-1<c?m[c]:null)&&kt(w))}function kt(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ge])Ne(m.i,c);else{var w=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(w,A,c.capture):m.detachEvent?m.detachEvent(yn(w),A):m.addListener&&m.removeListener&&m.removeListener(A),(w=ri(m))?(Ne(w,c),w.h==0&&(w.src=null,m[wt]=null)):re(c)}}}function yn(c){return c in Se?Se[c]:Se[c]="on"+c}function Hs(c,m){if(c.da)c=!0;else{m=new B(m,this);var w=c.listener,A=c.ha||c.src;c.fa&&kt(c),c=w.call(A,m)}return c}function ri(c){return c=c[wt],c instanceof ve?c:null}var Qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(c){return typeof c=="function"?c:(c[Qi]||(c[Qi]=function(m){return c.handleEvent(m)}),c[Qi])}function ft(){ee.call(this),this.i=new ve(this),this.M=this,this.F=null}p(ft,ee),ft.prototype[ge]=!0,ft.prototype.removeEventListener=function(c,m,w,A){jn(this,c,m,w,A)};function Qe(c,m){var w,A=c.F;if(A)for(w=[];A;A=A.F)w.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new Y(m,c);else if(m instanceof Y)m.target=m.target||c;else{var N=m;m=new Y(A,c),P(m,N)}if(N=!0,w)for(var F=w.length-1;0<=F;F--){var X=m.g=w[F];N=Bn(X,A,!0,m)&&N}if(X=m.g=c,N=Bn(X,A,!0,m)&&N,N=Bn(X,A,!1,m)&&N,w)for(F=0;F<w.length;F++)X=m.g=w[F],N=Bn(X,A,!1,m)&&N}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var w=c.g[m],A=0;A<w.length;A++)re(w[A]);delete c.g[m],c.h--}}this.F=null},ft.prototype.K=function(c,m,w,A){return this.i.add(String(c),m,!1,w,A)},ft.prototype.L=function(c,m,w,A){return this.i.add(String(c),m,!0,w,A)};function Bn(c,m,w,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var N=!0,F=0;F<m.length;++F){var X=m[F];if(X&&!X.da&&X.capture==w){var Ve=X.listener,Rt=X.ha||X.src;X.fa&&Ne(c.i,X),N=Ve.call(Rt,A)!==!1&&N}}return N&&!A.defaultPrevented}function zn(c,m,w){if(typeof c=="function")w&&(c=f(c,w));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function oi(c){c.g=zn(()=>{c.g=null,c.i&&(c.i=!1,oi(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Un extends ee{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(c){ee.call(this),this.h=c,this.g={}}p(ai,ee);var li=[];function Yi(c){R(c.g,function(m,w){this.g.hasOwnProperty(w)&&kt(m)},c),c.g={}}ai.prototype.N=function(){ai.aa.N.call(this),Yi(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var U=a.JSON.stringify,oe=a.JSON.parse,_e=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Re(){}Re.prototype.h=null;function je(c){return c.h||(c.h=c.i())}function lt(){}var He={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tt(){Y.call(this,"d")}p(tt,Y);function mt(){Y.call(this,"c")}p(mt,Y);var Pn={},_n=null;function bt(){return _n=_n||new ft}Pn.La="serverreachability";function It(c){Y.call(this,Pn.La,c)}p(It,Y);function An(c){const m=bt();Qe(m,new It(m))}Pn.STAT_EVENT="statevent";function qs(c,m){Y.call(this,Pn.STAT_EVENT,c),this.stat=m}p(qs,Y);function nt(c){const m=bt();Qe(m,new qs(m,c))}Pn.Ma="timingevent";function ue(c,m){Y.call(this,Pn.Ma,c),this.size=m}p(ue,Y);function Xi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function ui(c,m,w,A,N,F){c.info(function(){if(c.g)if(F)for(var X="",Ve=F.split("&"),Rt=0;Rt<Ve.length;Rt++){var Ae=Ve[Rt].split("=");if(1<Ae.length){var zt=Ae[0];Ae=Ae[1];var Ut=zt.split("_");X=2<=Ut.length&&Ut[1]=="type"?X+(zt+"="+Ae+"&"):X+(zt+"=redacted&")}}else X=null;else X=F;return"XMLHTTP REQ ("+A+") [attempt "+N+"]: "+m+`
`+w+`
`+X})}function rd(c,m,w,A,N,F,X){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+N+"]: "+m+`
`+w+`
`+F+" "+X})}function Zi(c,m,w,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+$o(c,w)+(A?" "+A:"")})}function Ji(c,m){c.info(function(){return"TIMEOUT: "+m})}Ei.prototype.info=function(){};function $o(c,m){if(!c.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var A=w[c];if(!(2>A.length)){var N=A[1];if(Array.isArray(N)&&!(1>N.length)){var F=N[0];if(F!="noop"&&F!="stop"&&F!="close")for(var X=1;X<N.length;X++)N[X]=""}}}}return U(w)}catch{return m}}var ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},od={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ad;function Kl(){}p(Kl,Re),Kl.prototype.g=function(){return new XMLHttpRequest},Kl.prototype.i=function(){return{}},ad=new Kl;function es(c,m,w,A){this.j=c,this.i=m,this.l=w,this.R=A||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gm}function Gm(){this.i=null,this.g="",this.h=!1}var Km={},ld={};function ud(c,m,w){c.L=1,c.v=Zl(Si(m)),c.m=w,c.P=!0,Qm(c,null)}function Qm(c,m){c.F=Date.now(),Ql(c),c.A=Si(c.v);var w=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),uv(w.i,"t",A),c.C=0,w=c.j.J,c.h=new Gm,c.g=Lv(c.j,w?m:null,!c.m),0<c.O&&(c.M=new Un(f(c.Y,c,c.g),c.O)),m=c.U,w=c.g,A=c.ca;var N="readystatechange";Array.isArray(N)||(N&&(li[0]=N.toString()),N=li);for(var F=0;F<N.length;F++){var X=Gi(w,N[F],A||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),An(),ui(c.i,c.u,c.A,c.l,c.R,c.m)}es.prototype.ca=function(c){c=c.target;const m=this.M;m&&Ci(c)==3?m.j():this.Y(c)},es.prototype.Y=function(c){try{if(c==this.g)e:{const Ut=Ci(this.g);var m=this.g.Ba();const Br=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||mv(this.g)))){this.J||Ut!=4||m==7||(m==8||0>=Br?An(3):An(2)),cd(this);var w=this.g.Z();this.X=w;t:if(Ym(this)){var A=mv(this.g);c="";var N=A.length,F=Ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gs(this),Ho(this);var X="";break t}this.h.i=new a.TextDecoder}for(m=0;m<N;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(F&&m==N-1)});A.length=0,this.h.g+=c,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=w==200,rd(this.i,this.u,this.A,this.l,this.R,Ut,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Rt=this.g;if((Ve=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ve)){var Ae=Ve;break t}}Ae=null}if(w=Ae)Zi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hd(this,w);else{this.o=!1,this.s=3,nt(12),Gs(this),Ho(this);break e}}if(this.P){w=!0;let $n;for(;!this.J&&this.C<X.length;)if($n=nk(this,X),$n==ld){Ut==4&&(this.s=4,nt(14),w=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Km){this.s=4,nt(15),Zi(this.i,this.l,X,"[Invalid Chunk]"),w=!1;break}else Zi(this.i,this.l,$n,null),hd(this,$n);if(Ym(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||X.length!=0||this.h.h||(this.s=1,nt(16),w=!1),this.o=this.o&&w,!w)Zi(this.i,this.l,X,"[Invalid Chunked Response]"),Gs(this),Ho(this);else if(0<X.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),vd(zt),zt.M=!0,nt(11))}}else Zi(this.i,this.l,X,null),hd(this,X);Ut==4&&Gs(this),this.o&&!this.J&&(Ut==4?Ev(this.j,this):(this.o=!1,Ql(this)))}else _k(this.g),w==400&&0<X.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Gs(this),Ho(this)}}}catch{}finally{}};function Ym(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nk(c,m){var w=c.C,A=m.indexOf(`
`,w);return A==-1?ld:(w=Number(m.substring(w,A)),isNaN(w)?Km:(A+=1,A+w>m.length?ld:(m=m.slice(A,A+w),c.C=A+w,m)))}es.prototype.cancel=function(){this.J=!0,Gs(this)};function Ql(c){c.S=Date.now()+c.I,Xm(c,c.I)}function Xm(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Xi(f(c.ba,c),m)}function cd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}es.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ji(this.i,this.A),this.L!=2&&(An(),nt(17)),Gs(this),this.s=2,Ho(this)):Xm(this,this.S-c)};function Ho(c){c.j.G==0||c.J||Ev(c.j,c)}function Gs(c){cd(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Yi(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function hd(c,m){try{var w=c.j;if(w.G!=0&&(w.g==c||dd(w.h,c))){if(!c.K&&dd(w.h,c)&&w.G==3){try{var A=w.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var N=A;if(N[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)su(w),nu(w);else break e;md(w),nt(18)}}else w.za=N[1],0<w.za-w.T&&37500>N[2]&&w.F&&w.v==0&&!w.C&&(w.C=Xi(f(w.Za,w),6e3));if(1>=ev(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Qs(w,11)}else if((c.K||w.g==c)&&su(w),!_(m))for(N=w.Da.g.parse(m),m=0;m<N.length;m++){let Ae=N[m];if(w.T=Ae[0],Ae=Ae[1],w.G==2)if(Ae[0]=="c"){w.K=Ae[1],w.ia=Ae[2];const zt=Ae[3];zt!=null&&(w.la=zt,w.j.info("VER="+w.la));const Ut=Ae[4];Ut!=null&&(w.Aa=Ut,w.j.info("SVER="+w.Aa));const Br=Ae[5];Br!=null&&typeof Br=="number"&&0<Br&&(A=1.5*Br,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const $n=c.g;if($n){const ou=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ou){var F=A.h;F.g||ou.indexOf("spdy")==-1&&ou.indexOf("quic")==-1&&ou.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(fd(F,F.h),F.h=null))}if(A.D){const yd=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;yd&&(A.ya=yd,We(A.I,A.D,yd))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var X=c;if(A.qa=kv(A,A.J?A.ia:null,A.W),X.K){tv(A.h,X);var Ve=X,Rt=A.L;Rt&&(Ve.I=Rt),Ve.B&&(cd(Ve),Ql(Ve)),A.g=X}else bv(A);0<w.i.length&&iu(w)}else Ae[0]!="stop"&&Ae[0]!="close"||Qs(w,7);else w.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Qs(w,7):gd(w):Ae[0]!="noop"&&w.l&&w.l.ta(Ae),w.v=0)}}An(4)}catch{}}var ik=class{constructor(c,m){this.g=c,this.map=m}};function Zm(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jm(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ev(c){return c.h?1:c.g?c.g.size:0}function dd(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function fd(c,m){c.g?c.g.add(m):c.h=m}function tv(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Zm.prototype.cancel=function(){if(this.i=nv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const w of c.g.values())m=m.concat(w.D);return m}return y(c.i)}function sk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],w=c.length,A=0;A<w;A++)m.push(c[A]);return m}m=[],w=0;for(A in c)m[w++]=c[A];return m}function rk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var w=0;w<c;w++)m.push(w);return m}m=[],w=0;for(const A in c)m[w++]=A;return m}}}function iv(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var w=rk(c),A=sk(c),N=A.length,F=0;F<N;F++)m.call(void 0,A[F],w&&w[F],c)}var sv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ok(c,m){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var A=c[w].indexOf("="),N=null;if(0<=A){var F=c[w].substring(0,A);N=c[w].substring(A+1)}else F=c[w];m(F,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ks(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ks){this.h=c.h,Yl(this,c.j),this.o=c.o,this.g=c.g,Xl(this,c.s),this.l=c.l;var m=c.i,w=new Go;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),rv(this,w),this.m=c.m}else c&&(m=String(c).match(sv))?(this.h=!1,Yl(this,m[1]||"",!0),this.o=Wo(m[2]||""),this.g=Wo(m[3]||"",!0),Xl(this,m[4]),this.l=Wo(m[5]||"",!0),rv(this,m[6]||"",!0),this.m=Wo(m[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}Ks.prototype.toString=function(){var c=[],m=this.j;m&&c.push(qo(m,ov,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(qo(m,ov,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(qo(w,w.charAt(0)=="/"?uk:lk,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",qo(w,hk)),c.join("")};function Si(c){return new Ks(c)}function Yl(c,m,w){c.j=w?Wo(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Xl(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function rv(c,m,w){m instanceof Go?(c.i=m,dk(c.i,c.h)):(w||(m=qo(m,ck)),c.i=new Go(m,c.h))}function We(c,m,w){c.i.set(m,w)}function Zl(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wo(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qo(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,ak),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ak(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ov=/[#\/\?@]/g,lk=/[#\?:]/g,uk=/[#\?]/g,ck=/[#\?@]/g,hk=/#/g;function Go(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ts(c){c.g||(c.g=new Map,c.h=0,c.i&&ok(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=Go.prototype,t.add=function(c,m){ts(this),this.i=null,c=Fr(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function av(c,m){ts(c),m=Fr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function lv(c,m){return ts(c),m=Fr(c,m),c.g.has(m)}t.forEach=function(c,m){ts(this),this.g.forEach(function(w,A){w.forEach(function(N){c.call(m,N,A,this)},this)},this)},t.na=function(){ts(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let A=0;A<m.length;A++){const N=c[A];for(let F=0;F<N.length;F++)w.push(m[A])}return w},t.V=function(c){ts(this);let m=[];if(typeof c=="string")lv(this,c)&&(m=m.concat(this.g.get(Fr(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)m=m.concat(c[w])}return m},t.set=function(c,m){return ts(this),this.i=null,c=Fr(this,c),lv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function uv(c,m,w){av(c,m),0<w.length&&(c.i=null,c.g.set(Fr(c,m),y(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var A=m[w];const F=encodeURIComponent(String(A)),X=this.V(A);for(A=0;A<X.length;A++){var N=F;X[A]!==""&&(N+="="+encodeURIComponent(String(X[A]))),c.push(N)}}return this.i=c.join("&")};function Fr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function dk(c,m){m&&!c.j&&(ts(c),c.i=null,c.g.forEach(function(w,A){var N=A.toLowerCase();A!=N&&(av(this,A),uv(this,N,w))},c)),c.j=m}function fk(c,m){const w=new Ei;if(a.Image){const A=new Image;A.onload=g(ns,w,"TestLoadImage: loaded",!0,m,A),A.onerror=g(ns,w,"TestLoadImage: error",!1,m,A),A.onabort=g(ns,w,"TestLoadImage: abort",!1,m,A),A.ontimeout=g(ns,w,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function pk(c,m){const w=new Ei,A=new AbortController,N=setTimeout(()=>{A.abort(),ns(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(N),F.ok?ns(w,"TestPingServer: ok",!0,m):ns(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(N),ns(w,"TestPingServer: error",!1,m)})}function ns(c,m,w,A,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),A(w)}catch{}}function gk(){this.g=new _e}function mk(c,m,w){const A=w||"";try{iv(c,function(N,F){let X=N;u(N)&&(X=U(N)),m.push(A+F+"="+encodeURIComponent(X))})}catch(N){throw m.push(A+"type="+encodeURIComponent("_badmap")),N}}function Jl(c){this.l=c.Ub||null,this.j=c.eb||!1}p(Jl,Re),Jl.prototype.g=function(){return new eu(this.l,this.j)},Jl.prototype.i=function(c){return function(){return c}}({});function eu(c,m){ft.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(eu,ft),t=eu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Qo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ko(this):Qo(this),this.readyState==3&&cv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ko(this))},t.Qa=function(c){this.g&&(this.response=c,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qo(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function Qo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(eu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hv(c){let m="";return R(c,function(w,A){m+=A,m+=":",m+=w,m+=`\r
`}),m}function pd(c,m,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=hv(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):We(c,m,w))}function ut(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(ut,ft);var vk=/^https?$/i,yk=["POST","PUT"];t=ut.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ad.g(),this.v=this.o?je(this.o):je(ad),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){dv(this,F);return}if(c=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var N in A)w.set(N,A[N]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())w.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),N=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yk,m,void 0))||A||N||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of w)this.g.setRequestHeader(F,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gv(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){dv(this,F)}};function dv(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,fv(c),tu(c)}function fv(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),tu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tu(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pv(this):this.bb())},t.bb=function(){pv(this)};function pv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Ci(c)!=4||c.Z()!=2)){if(c.u&&Ci(c)==4)zn(c.Ea,0,c);else if(Qe(c,"readystatechange"),Ci(c)==4){c.h=!1;try{const X=c.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var A;if(A=X===0){var N=String(c.D).match(sv)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),A=!vk.test(N?N.toLowerCase():"")}w=A}if(w)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var F=2<Ci(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",fv(c)}}finally{tu(c)}}}}function tu(c,m){if(c.g){gv(c);const w=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Qe(c,"ready");try{w.onreadystatechange=A}catch{}}}function gv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ci(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),oe(m)}};function mv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _k(c){const m={};c=(c.g&&2<=Ci(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(_(c[A]))continue;var w=M(c[A]);const N=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=m[N]||[];m[N]=F,F.push(w)}S(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function vv(c){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,c),this.cb=Yo("retryDelaySeedMs",1e4,c),this.Wa=Yo("forwardChannelMaxRetries",2,c),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zm(c&&c.concurrentRequestLimit),this.Da=new gk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vv.prototype,t.la=8,t.G=1,t.connect=function(c,m,w,A){nt(0),this.W=c,this.H=m||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=kv(this,null,this.W),iu(this)};function gd(c){if(yv(c),c.G==3){var m=c.U++,w=Si(c.I);if(We(w,"SID",c.K),We(w,"RID",m),We(w,"TYPE","terminate"),Xo(c,w),m=new es(c,c.j,m),m.L=2,m.v=Zl(Si(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=Lv(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ql(m)}Cv(c)}function nu(c){c.g&&(vd(c),c.g.cancel(),c.g=null)}function yv(c){nu(c),c.u&&(a.clearTimeout(c.u),c.u=null),su(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function iu(c){if(!Jm(c.h)&&!c.s){c.s=!0;var m=c.Ga;ie||q(),j||(ie(),j=!0),W.add(m,c),c.B=0}}function wk(c,m){return ev(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Xi(f(c.Ga,c,m),Sv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const N=new es(this,this.j,c);let F=this.o;if(this.S&&(F?(F=E(F),P(F,this.S)):F=this.S),this.m!==null||this.O||(N.H=F,F=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=wv(this,N,m),w=Si(this.I),We(w,"RID",c),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),Xo(this,w),F&&(this.O?m="headers="+encodeURIComponent(String(hv(F)))+"&"+m:this.m&&pd(w,this.m,F)),fd(this.h,N),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",m),We(w,"SID","null"),N.T=!0,ud(N,w,null)):ud(N,w,m),this.G=2}}else this.G==3&&(c?_v(this,c):this.i.length==0||Jm(this.h)||_v(this))};function _v(c,m){var w;m?w=m.l:w=c.U++;const A=Si(c.I);We(A,"SID",c.K),We(A,"RID",w),We(A,"AID",c.T),Xo(c,A),c.m&&c.o&&pd(A,c.m,c.o),w=new es(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),m&&(c.i=m.D.concat(c.i)),m=wv(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fd(c.h,w),ud(w,A,m)}function Xo(c,m){c.H&&R(c.H,function(w,A){We(m,A,w)}),c.l&&iv({},function(w,A){We(m,A,w)})}function wv(c,m,w){w=Math.min(c.i.length,w);var A=c.l?f(c.l.Na,c.l,c):null;e:{var N=c.i;let F=-1;for(;;){const X=["count="+w];F==-1?0<w?(F=N[0].g,X.push("ofs="+F)):F=0:X.push("ofs="+F);let Ve=!0;for(let Rt=0;Rt<w;Rt++){let Ae=N[Rt].g;const zt=N[Rt].map;if(Ae-=F,0>Ae)F=Math.max(0,N[Rt].g-100),Ve=!1;else try{mk(zt,X,"req"+Ae+"_")}catch{A&&A(zt)}}if(Ve){A=X.join("&");break e}}}return c=c.i.splice(0,w),m.D=c,A}function bv(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;ie||q(),j||(ie(),j=!0),W.add(m,c),c.v=0}}function md(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Xi(f(c.Fa,c),Sv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,xv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Xi(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),nu(this),xv(this))};function vd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function xv(c){c.g=new es(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Si(c.qa);We(m,"RID","rpc"),We(m,"SID",c.K),We(m,"AID",c.T),We(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(m,"TO",c.ja),We(m,"TYPE","xmlhttp"),Xo(c,m),c.m&&c.o&&pd(m,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Zl(Si(m)),w.m=null,w.P=!0,Qm(w,c)}t.Za=function(){this.C!=null&&(this.C=null,nu(this),md(this),nt(19))};function su(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ev(c,m){var w=null;if(c.g==m){su(c),vd(c),c.g=null;var A=2}else if(dd(c.h,m))w=m.D,tv(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var N=c.B;A=bt(),Qe(A,new ue(A,w)),iu(c)}else bv(c);else if(N=m.s,N==3||N==0&&0<m.X||!(A==1&&wk(c,m)||A==2&&md(c)))switch(w&&0<w.length&&(m=c.h,m.i=m.i.concat(w)),N){case 1:Qs(c,5);break;case 4:Qs(c,10);break;case 3:Qs(c,6);break;default:Qs(c,2)}}}function Sv(c,m){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*m}function Qs(c,m){if(c.j.info("Error code "+m),m==2){var w=f(c.fb,c),A=c.Xa;const N=!A;A=new Ks(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yl(A,"https"),Zl(A),N?fk(A.toString(),w):pk(A.toString(),w)}else nt(2);c.G=0,c.l&&c.l.sa(m),Cv(c),yv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Cv(c){if(c.G=0,c.ka=[],c.l){const m=nv(c.h);(m.length!=0||c.i.length!=0)&&(b(c.ka,m),b(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function kv(c,m,w){var A=w instanceof Ks?Si(w):new Ks(w);if(A.g!="")m&&(A.g=m+"."+A.g),Xl(A,A.s);else{var N=a.location;A=N.protocol,m=m?m+"."+N.hostname:N.hostname,N=+N.port;var F=new Ks(null);A&&Yl(F,A),m&&(F.g=m),N&&Xl(F,N),w&&(F.l=w),A=F}return w=c.D,m=c.ya,w&&m&&We(A,w,m),We(A,"VER",c.la),Xo(c,A),A}function Lv(c,m,w){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ut(new Jl({eb:w})):new ut(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tv(){}t=Tv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ru(){}ru.prototype.g=function(c,m){return new wn(c,m)};function wn(c,m){ft.call(this),this.g=new vv(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new jr(this)}p(wn,ft),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){gd(this.g)},wn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=U(c),c=w);m.i.push(new ik(m.Ya++,c)),m.G==3&&iu(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,gd(this.g),delete this.g,wn.aa.N.call(this)};function Pv(c){tt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}p(Pv,tt);function Av(){mt.call(this),this.status=1}p(Av,mt);function jr(c){this.g=c}p(jr,Tv),jr.prototype.ua=function(){Qe(this.g,"a")},jr.prototype.ta=function(c){Qe(this.g,new Pv(c))},jr.prototype.sa=function(c){Qe(this.g,new Av)},jr.prototype.ra=function(){Qe(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Z1=function(){return new ru},X1=function(){return bt()},Y1=Pn,Up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,pc=ci,od.COMPLETE="complete",Q1=od,lt.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ka=lt,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,K1=ut}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Xw="@firebase/firestore",Zw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new U1("@firebase/firestore");function Hr(){return Lr.logLevel}function se(t,...e){if(Lr.logLevel<=Le.DEBUG){const n=e.map(Em);Lr.debug(`Firestore (${zo}): ${t}`,...n)}}function Tr(t,...e){if(Lr.logLevel<=Le.ERROR){const n=e.map(Em);Lr.error(`Firestore (${zo}): ${t}`,...n)}}function To(t,...e){if(Lr.logLevel<=Le.WARN){const n=e.map(Em);Lr.warn(`Firestore (${zo}): ${t}`,...n)}}function Em(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,J1(t,i,n)}function J1(t,e,n){let i=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Tr(i),new Error(i)}function dt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||J1(e,s,i)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class y4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _4{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new vr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new eC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class w4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new w4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,n4(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const i=r=>{r.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=E4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function Te(t,e){return t<e?-1:t>e?1:0}function $p(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return Te(i,s);{const r=S4(),o=C4(r.encode(eb(t,n)),r.encode(eb(e,n)));return o!==0?o:Te(i,s)}}n+=i>65535?2:1}return Te(t.length,e.length)}function eb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function C4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Te(t[n],e[n]);return Te(t.length,e.length)}function Po(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__name__";class mi{constructor(e,n,i){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ye(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=mi.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return Te(e.length,n.length)}static compareSegments(e,n){const i=mi.isNumericId(e),s=mi.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?mi.extractNumericId(e).compare(mi.extractNumericId(n)):$p(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xm.fromString(e.substring(4,e.length-2))}}class st extends mi{construct(e,n,i){return new st(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae(H.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new st(n)}static emptyPath(){return new st([])}}const k4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends mi{construct(e,n,i){return new Vt(e,n,i)}static isValidIdentifier(e){return k4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tb}static keyField(){return new Vt([tb])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ae(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new ae(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(st.fromString(e))}static fromName(e){return new pe(st.fromString(e).popFirst(5))}static empty(){return new pe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e,n){if(!n)throw new ae(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L4(t,e,n,i){if(e===!0&&i===!0)throw new ae(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nb(t){if(!pe.isDocumentKey(t))throw new ae(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ib(t){if(pe.isDocumentKey(t))throw new ae(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye(12329,{type:typeof t})}function iC(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new ae(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ul(t,e){if(!nC(t))throw new ae(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,r="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const o=t[i];if(s&&typeof o!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new ae(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=-62135596800,rb=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*rb);return new Ze(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sb)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rb}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ul(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:_t("string",Ze._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Ze(0,0))}static max(){return new Ye(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function T4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ye.fromTimestamp(i===1e9?new Ze(n+1,0):new Ze(n,i));return new Ns(s,pe.empty(),e)}function P4(t){return new Ns(t.readTime,t.key,kl)}class Ns{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ns(Ye.min(),pe.empty(),kl)}static max(){return new Ns(Ye.max(),pe.empty(),kl)}}function A4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==M4)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,i)=>{n(e)})}static reject(e){return new $((n,i)=>{i(e)})}static waitFor(e){return new $((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=$.resolve(!1);for(const i of e)n=n.next(s=>s?$.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new $((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===r&&i(o)},h=>s(h))}})}static doWhile(e,n){return new $((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function R4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Lm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=-1;function Pm(t){return t==null}function hh(t){return t===0&&1/t==-1/0}function O4(t){return typeof t=="number"&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="";function D4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ob(e)),e=N4(t.get(n),e);return ob(e)}function N4(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case sC:n+="";break;default:n+=r}}return n}function ob(t){return t+sC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Dt.RED,this.left=s??Dt.EMPTY,this.right=r??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Dt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Dt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lb(this.data.getIterator())}getIteratorFrom(e){return new lb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class lb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new jt(Vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new V4("Invalid base64 string: "+r):r}}(e);return new bi(n)}static fromUint8Array(e){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(e);return new bi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const F4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=F4.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ao(t){return typeof t=="string"?bi.fromBase64String(t):bi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="server_timestamp",aC="__type__",lC="__previous_value__",uC="__local_write_time__";function Am(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[aC])===null||n===void 0?void 0:n.stringValue)===oC}function Mm(t){const e=t.mapValue.fields[lC];return Am(e)?Mm(e):e}function dh(t){const e=Pr(t.mapValue.fields[uC].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,i,s,r,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const fh="(default)";class ph{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new ph("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof ph&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="__type__",B4="__max__",Uu={mapValue:{}},hC="__vector__",Hp="value";function Ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Am(t)?4:U4(t)?9007199254740991:z4(t)?10:11:ye(28295,{value:t})}function xi(t,e){if(t===e)return!0;const n=Ar(t);if(n!==Ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dh(t).isEqual(dh(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=Pr(s.timestampValue),a=Pr(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Ao(s.bytesValue).isEqual(Ao(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Nt(s.geoPointValue.latitude)===Nt(r.geoPointValue.latitude)&&Nt(s.geoPointValue.longitude)===Nt(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Nt(s.integerValue)===Nt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=Nt(s.doubleValue),a=Nt(r.doubleValue);return o===a?hh(o)===hh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(ab(o)!==ab(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!xi(o[l],a[l])))return!1;return!0}(t,e);default:return ye(52216,{left:t})}}function Ll(t,e){return(t.values||[]).find(n=>xi(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Ar(t),i=Ar(e);if(n!==i)return Te(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=Nt(r.integerValue||r.doubleValue),l=Nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ub(t.timestampValue,e.timestampValue);case 4:return ub(dh(t),dh(e));case 5:return $p(t.stringValue,e.stringValue);case 6:return function(r,o){const a=Ao(r),l=Ao(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Te(a[u],l[u]);if(h!==0)return h}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=Te(Nt(r.latitude),Nt(o.latitude));return a!==0?a:Te(Nt(r.longitude),Nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cb(t.arrayValue,e.arrayValue);case 10:return function(r,o){var a,l,u,h;const d=r.fields||{},f=o.fields||{},g=(a=d[Hp])===null||a===void 0?void 0:a.arrayValue,p=(l=f[Hp])===null||l===void 0?void 0:l.arrayValue,y=Te(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=p==null?void 0:p.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:cb(g,p)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===Uu.mapValue&&o===Uu.mapValue)return 0;if(r===Uu.mapValue)return 1;if(o===Uu.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=$p(l[d],h[d]);if(f!==0)return f;const g=Mo(a[l[d]],u[h[d]]);if(g!==0)return g}return Te(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ye(23264,{le:n})}}function ub(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Pr(t),i=Pr(e),s=Te(n.seconds,i.seconds);return s!==0?s:Te(n.nanos,i.nanos)}function cb(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Mo(n[s],i[s]);if(r)return r}return Te(n.length,i.length)}function Io(t){return Wp(t)}function Wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Pr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Wp(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${Wp(n.fields[o])}`;return s+"}"}(t.mapValue):ye(61005,{value:t})}function gc(t){switch(Ar(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mm(t);return e?16+gc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+gc(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Uo(i.fields,(r,o)=>{s+=r.length+gc(o)}),s}(t.mapValue);default:throw ye(13486,{value:t})}}function qp(t){return!!t&&"integerValue"in t}function Im(t){return!!t&&"arrayValue"in t}function mc(t){return!!t&&"mapValue"in t}function z4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cC])===null||n===void 0?void 0:n.stringValue)===hC}function Wa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Wa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===B4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(n)}setAll(e){let n=Vt.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=Wa(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];mc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Uo(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Qn(Wa(this.value))}}function dC(t){const e=[];return Uo(t.fields,(n,i)=>{const s=new Vt([n]);if(mc(i)){const r=dC(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,i,s,r,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Kn(e,0,Ye.min(),Ye.min(),Ye.min(),Qn.empty(),0)}static newFoundDocument(e,n,i,s){return new Kn(e,1,n,Ye.min(),i,s,0)}static newNoDocument(e,n){return new Kn(e,2,n,Ye.min(),Ye.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,Ye.min(),Ye.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function hb(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=pe.comparator(pe.fromName(o.referenceValue),n.key):i=Mo(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function db(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function $4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{}class Pt extends fC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new W4(e,n,i):n==="array-contains"?new K4(e,i):n==="in"?new Q4(e,i):n==="not-in"?new Y4(e,i):n==="array-contains-any"?new X4(e,i):new Pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new q4(e,i):new G4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mo(n,this.value)):n!==null&&Ar(this.value)===Ar(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends fC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Vs(e,n)}matches(e){return pC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function pC(t){return t.op==="and"}function gC(t){return H4(t)&&pC(t)}function H4(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function Gp(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Io(t.value);if(gC(t))return t.filters.map(e=>Gp(e)).join(",");{const e=t.filters.map(n=>Gp(n)).join(",");return`${t.op}(${e})`}}function mC(t,e){return t instanceof Pt?function(i,s){return s instanceof Pt&&i.op===s.op&&i.field.isEqual(s.field)&&xi(i.value,s.value)}(t,e):t instanceof Vs?function(i,s){return s instanceof Vs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&mC(o,s.filters[a]),!0):!1}(t,e):void ye(19439)}function vC(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`}(t):t instanceof Vs?function(n){return n.op.toString()+" {"+n.getFilters().map(vC).join(" ,")+"}"}(t):"Filter"}class W4 extends Pt{constructor(e,n,i){super(e,n,i),this.key=pe.fromName(i.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class q4 extends Pt{constructor(e,n){super(e,"in",n),this.keys=yC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G4 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=yC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>pe.fromName(i.referenceValue))}class K4 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Im(n)&&Ll(n.arrayValue,this.value)}}class Q4 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class Y4 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ll(this.value.arrayValue,n)}}class X4 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Im(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.Pe=null}}function fb(t,e=null,n=[],i=[],s=null,r=null,o=null){return new Z4(t,e,n,i,s,r,o)}function Rm(t){const e=Ue(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Gp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Pm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Io(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Io(i)).join(",")),e.Pe=n}return e.Pe}function Om(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!db(t.startAt,e.startAt)&&db(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function J4(t,e,n,i,s,r,o,a){return new Xh(t,e,n,i,s,r,o,a)}function eF(t){return new Xh(t)}function pb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tF(t){return t.collectionGroup!==null}function qa(t){const e=Ue(t);if(e.Te===null){e.Te=[];const n=new Set;for(const r of e.explicitOrderBy)e.Te.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new jt(Vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Te.push(new mh(r,i))}),n.has(Vt.keyField().canonicalString())||e.Te.push(new mh(Vt.keyField(),i))}return e.Te}function yr(t){const e=Ue(t);return e.Ie||(e.Ie=nF(e,qa(t))),e.Ie}function nF(t,e){if(t.limitType==="F")return fb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new mh(s.field,r)});const n=t.endAt?new gh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gh(t.startAt.position,t.startAt.inclusive):null;return fb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Kp(t,e,n){return new Xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _C(t,e){return Om(yr(t),yr(e))&&t.limitType===e.limitType}function wC(t){return`${Rm(yr(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>vC(s)).join(", ")}]`),Pm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Io(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Io(s)).join(",")),`Target(${i})`}(yr(t))}; limitType=${t.limitType})`}function Dm(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):pe.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of qa(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(o,a,l){const u=hb(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,qa(i),s)||i.endAt&&!function(o,a,l){const u=hb(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,qa(i),s))}(t,e)}function iF(t){return(e,n)=>{let i=!1;for(const s of qa(t)){const r=sF(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function sF(t,e,n){const i=t.field.isKeyField()?pe.comparator(e.key,n.key):function(r,o,a){const l=o.data.field(r),u=a.data.field(r);return l!==null&&u!==null?Mo(l,u):ye(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return rC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new vn(pe.comparator);function vh(){return rF}const bC=new vn(pe.comparator);function $u(...t){let e=bC;for(const n of t)e=e.insert(n.key,n);return e}function xC(t){let e=bC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function hr(){return Ga()}function EC(){return Ga()}function Ga(){return new Dr(t=>t.toString(),(t,e)=>t.isEqual(e))}const oF=new vn(pe.comparator),aF=new jt(pe.comparator);function Yt(...t){let e=aF;for(const n of t)e=e.add(n);return e}const lF=new jt(Te);function uF(){return lF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function SC(t){return{integerValue:""+t}}function cF(t,e){return O4(e)?SC(e):Nm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function hF(t,e,n){return t instanceof Tl?function(s,r){const o={fields:{[aC]:{stringValue:oC},[uC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Am(r)&&(r=Mm(r)),r&&(o.fields[lC]=r),{mapValue:o}}(n,e):t instanceof Pl?kC(t,e):t instanceof Al?LC(t,e):function(s,r){const o=CC(s,r),a=gb(o)+gb(s.Ee);return qp(o)&&qp(s.Ee)?SC(a):Nm(s.serializer,a)}(t,e)}function dF(t,e,n){return t instanceof Pl?kC(t,e):t instanceof Al?LC(t,e):n}function CC(t,e){return t instanceof yh?function(i){return qp(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Tl extends Zh{}class Pl extends Zh{constructor(e){super(),this.elements=e}}function kC(t,e){const n=TC(e);for(const i of t.elements)n.some(s=>xi(s,i))||n.push(i);return{arrayValue:{values:n}}}class Al extends Zh{constructor(e){super(),this.elements=e}}function LC(t,e){let n=TC(e);for(const i of t.elements)n=n.filter(s=>!xi(s,i));return{arrayValue:{values:n}}}class yh extends Zh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function gb(t){return Nt(t.integerValue||t.doubleValue)}function TC(t){return Im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n){this.field=e,this.transform=n}}function pF(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Pl&&s instanceof Pl||i instanceof Al&&s instanceof Al?Po(i.elements,s.elements,xi):i instanceof yh&&s instanceof yh?xi(i.Ee,s.Ee):i instanceof Tl&&s instanceof Tl}(t.transform,e.transform)}class gF{constructor(e,n){this.version=e,this.transformResults=n}}class Fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jh{}function PC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MC(t.key,Fi.none()):new Hl(t.key,t.data,Fi.none());{const n=t.data,i=Qn.empty();let s=new jt(Vt.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Nr(t.key,i,new Zn(s.toArray()),Fi.none())}}function mF(t,e,n){t instanceof Hl?function(s,r,o){const a=s.value.clone(),l=vb(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Nr?function(s,r,o){if(!vc(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=vb(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(AC(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,i){return t instanceof Hl?function(r,o,a,l){if(!vc(r.precondition,o))return a;const u=r.value.clone(),h=yb(r.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Nr?function(r,o,a,l){if(!vc(r.precondition,o))return a;const u=yb(r.fieldTransforms,l,o),h=o.data;return h.setAll(AC(r)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(r,o,a){return vc(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vF(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=CC(i.transform,s||null);r!=null&&(n===null&&(n=Qn.empty()),n.set(i.field,r))}return n||null}function mb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Po(i,s,(r,o)=>pF(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hl extends Jh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Nr extends Jh{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function AC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function vb(t,e,n){const i=new Map;dt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,dF(o,a,n[s]))}return i}function yb(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,hF(r,o,e))}return i}class MC extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yF extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&mF(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ka(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ka(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=EC();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=PC(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ye.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,i)=>mb(n,i))&&Po(this.baseMutations,e.baseMutations,(n,i)=>mb(n,i))}}class Vm{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){dt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return oF}();const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Vm(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ke;function bF(t){switch(t){case H.OK:return ye(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ye(15467,{code:t})}}function xF(t){if(t===void 0)return Tr("GRPC error has no .code"),H.UNKNOWN;switch(t){case vt.OK:return H.OK;case vt.CANCELLED:return H.CANCELLED;case vt.UNKNOWN:return H.UNKNOWN;case vt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case vt.INTERNAL:return H.INTERNAL;case vt.UNAVAILABLE:return H.UNAVAILABLE;case vt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case vt.NOT_FOUND:return H.NOT_FOUND;case vt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case vt.ABORTED:return H.ABORTED;case vt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case vt.DATA_LOSS:return H.DATA_LOSS;default:return ye(39323,{code:t})}}(ke=vt||(vt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new xm([4294967295,4294967295],0);class EF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CF(t,e){return Qp(t,e.toTimestamp())}function go(t){return dt(!!t,49232),Ye.fromTimestamp(function(n){const i=Pr(n);return new Ze(i.seconds,i.nanos)}(t))}function IC(t,e){return Yp(t,e).canonicalString()}function Yp(t,e){const n=function(s){return new st(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kF(t){const e=st.fromString(t);return dt(OF(e),10190,{key:e.toString()}),e}function Xp(t,e){return IC(t.databaseId,e.path)}function LF(t){const e=kF(t);return e.length===4?st.emptyPath():PF(e)}function TF(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PF(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _b(t,e,n){return{name:Xp(t,e),fields:n.value.mapValue.fields}}function AF(t,e){let n;if(e instanceof Hl)n={update:_b(t,e.key,e.value)};else if(e instanceof MC)n={delete:Xp(t,e.key)};else if(e instanceof Nr)n={update:_b(t,e.key,e.data),updateMask:RF(e.fieldMask)};else{if(!(e instanceof yF))return ye(16599,{Rt:e.type});n={verify:Xp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof Tl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ye(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:CF(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ye(27497)}(t,e.precondition)),n}function MF(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(s,r){let o=s.updateTime?go(s.updateTime):go(r);return o.isEqual(Ye.min())&&(o=go(r)),new gF(o,s.transformResults||[])}(n,e))):[]}function IF(t){let e=LF(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){dt(i===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(d){const f=RC(d);return f instanceof Vs&&gC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(p){return new mh(Wr(p.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Pm(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new gh(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,g=d.values||[];return new gh(g,f)}(n.endAt)),J4(e,s,o,r,a,"F",l,u)}function RC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Wr(n.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Wr(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wr(n.unaryFilter.field);return Pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wr(n.unaryFilter.field);return Pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Wr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vs.create(n.compositeFilter.filters.map(i=>RC(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(n.compositeFilter.op))}(t):ye(30097,{filter:t})}function Wr(t){return Vt.fromServerFormat(t.fieldPath)}function RF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.gt=e}}function NF(t){const e=IF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.Dn=new FF}addToCollectionParentIndex(e,n){return this.Dn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ns.min())}updateCollectionGroup(e,n,i){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class FF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new jt(st.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new jt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OC=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(OC,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ro(0)}static ur(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="LruGarbageCollector",jF=1048576;function xb([t,e],[n,i]){const s=Te(t,n);return s===0?Te(e,i):s}class BF{constructor(e){this.Tr=e,this.buffer=new jt(xb),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();xb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zF{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){se(bb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?se(bb,"Ignoring IndexedDB error during garbage collection: ",n):await km(n)}await this.Rr(3e5)})}}class UF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Lm.ue);const i=new BF(n);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(wb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wb):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,s,r,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(r=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(u=Date.now(),Hr()<=Le.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${r} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:d})))}}function $F(t,e){return new UF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.changes=new Dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?$.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Ka(i.mutation,s,Zn.empty(),Ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Yt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Yt()){const s=hr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=$u();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Yt()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=vh();const o=Ga(),a=function(){return Ga()}();return n.forEach((l,u)=>{const h=i.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Nr)?r=r.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ka(h.mutation,u,h.mutation.getFieldMask(),Ze.now())):o.set(u.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new WF(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Ga();let s=new vn((o,a)=>o-a),r=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=i.get(l)||Zn.empty();h=a.applyToLocalView(u,h),i.set(l,h);const d=(s.get(a.batchId)||Yt()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=EC();h.forEach(f=>{if(!r.has(f)){const g=PC(n.get(f),i.get(f));g!==null&&d.set(f,g),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):$.resolve(hr());let a=kl,l=r;return o.next(u=>$.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,l,u,Yt())).next(h=>({batchId:a,changes:xC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(i=>{let s=$u();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let o=$u();return this.indexManager.getCollectionParents(e,r).next(a=>$.forEach(a,l=>{const u=function(d,f){return new Xh(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,i,s).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(o=>{r.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Kn.newInvalidDocument(h)))});let a=$u();return o.forEach((l,u)=>{const h=r.get(l);h!==void 0&&Ka(h.mutation,u,Zn.empty(),Ze.now()),Dm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return $.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:go(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:NF(s.bundledQuery),readTime:go(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.overlays=new vn(pe.comparator),this.kr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const i=hr();return $.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.wt(e,n,r)}),$.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.kr.delete(i)),$.resolve()}getOverlaysForCollection(e,n,i){const s=hr(),r=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new vn((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let h=r.get(u.largestBatchId);h===null&&(h=hr(),r=r.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=hr(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return $.resolve(a)}wt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new wF(n,i));let r=this.kr.get(n);r===void 0&&(r=Yt(),this.kr.set(n,r)),this.kr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.sessionToken=bi.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.qr=new jt(Lt.Qr),this.$r=new jt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new Lt(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new Lt(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new pe(new st([])),i=new Lt(n,e),s=new Lt(n,e+1),r=[];return this.$r.forEachInRange([i,s],o=>{this.Wr(o),r.push(o.key)}),r}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new pe(new st([])),i=new Lt(n,e),s=new Lt(n,e+1);let r=Yt();return this.$r.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Lt(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Lt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return pe.comparator(e.key,n.key)||Te(e.Hr,n.Hr)}static Ur(e,n){return Te(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new jt(Lt.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _F(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Lt(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return $.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Tm:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),r=[];return this.Yr.forEachInRange([i,s],o=>{const a=this.Zr(o.Hr);r.push(a)}),$.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new jt(Te);return n.forEach(s=>{const r=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([r,o],a=>{i=i.add(a.Hr)})}),$.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;pe.isDocumentKey(r)||(r=r.child(""));const o=new Lt(new pe(r),0);let a=new jt(Te);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Hr)),!0)},o),$.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){dt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return $.forEach(n.mutations,s=>{const r=new Lt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new Lt(n,0),s=this.Yr.firstAfterOrEqual(i);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.ni=e,this.docs=function(){return new vn(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return $.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let i=vh();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Kn.newInvalidDocument(s))}),$.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=vh();const o=n.path,a=new pe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||A4(P4(h),i)<=0||(s.has(h.key)||Dm(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return $.resolve(r)}getAllFromCollectionGroup(e,n,i,s){ye(9500)}ri(e,n){return $.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ZF(this)}getSize(e){return $.resolve(this.size)}}class ZF extends HF{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),$.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.persistence=e,this.ii=new Dr(n=>Rm(n),Om),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.si=0,this.oi=new Fm,this.targetCount=0,this._i=Ro.ar()}forEachTarget(e,n){return this.ii.forEach((i,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),$.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.hr(n),$.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.ii.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(r).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return $.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),$.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return $.resolve(i)}containsKey(e,n){return $.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.ai={},this.overlays={},this.ui=new Lm(0),this.ci=!1,this.ci=!0,this.li=new QF,this.referenceDelegate=e(this),this.hi=new JF(this),this.indexManager=new VF,this.remoteDocumentCache=function(s){return new XF(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new DF(n),this.Ti=new GF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new YF(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){se("MemoryPersistence","Starting transaction:",e);const s=new ej(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(e,n){return $.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class ej extends I4{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Ai=new Fm,this.Ri=null}static Vi(e){return new jm(e)}get mi(){if(this.Ri)return this.Ri;throw ye(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),$.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.mi.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,i=>{const s=pe.fromPath(i);return this.fi(e,s).next(r=>{r||n.removeEntry(s,Ye.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return $.or([()=>$.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.gi=new Dr(i=>D4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=$F(this,n)}static Vi(e,n){return new _h(e,n)}Ii(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return $.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(r=>r?$.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(i++,r.removeEntry(o,Ye.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),$.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),$.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gc(e.data.value)),n}Sr(e,n,i){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return $.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=s}static Es(e,n){let i=Yt(),s=Yt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Bm(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return JN()?8:R4(XN())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ps(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ys(e,n,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new tj;return this.ws(e,n,o).next(a=>{if(r.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>r.result)}Ss(e,n,i,s){return i.documentReadCount<this.Vs?(Hr()<=Le.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Hr()<=Le.DEBUG&&se("QueryEngine","Query:",ga(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(Hr()<=Le.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):$.resolve())}ps(e,n){if(pb(n))return $.resolve(null);let i=yr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Kp(n,null,"F"),i=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=Yt(...r);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,Kp(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,i,s){return pb(n)||s.isEqual(Ye.min())?$.resolve(null):this.gs.getDocuments(e,i).next(r=>{const o=this.bs(n,r);return this.Ds(n,o,i,s)?$.resolve(null):(Hr()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ga(n)),this.vs(e,o,n,T4(s,kl)).next(a=>a))})}bs(e,n){let i=new jt(iF(e));return n.forEach((s,r)=>{Dm(e,r)&&(i=i.add(r))}),i}Ds(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ws(e,n,i){return Hr()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",ga(n)),this.gs.getDocumentsMatchingQuery(e,n,Ns.min(),i)}vs(e,n,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="LocalStore";class sj{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new vn(Te),this.Ms=new Dr(r=>Rm(r),Om),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function rj(t,e,n,i){return new sj(t,e,n,i)}async function NC(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=Yt();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of r){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function oj(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let g=$.resolve();return f.forEach(p=>{g=g.next(()=>h.getEntry(l,p)).next(y=>{const b=u.docVersions.get(p);dt(b!==null,48541),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Yt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function aj(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function lj(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Tm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}class Eb{constructor(){this.activeTargetIds=uF()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uj{constructor(){this.Fo=new Eb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Eb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="ConnectivityMonitor";class Cb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){se(Sb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){se(Sb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function Zp(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",hj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dj{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===fh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,r){const o=Zp(),a=this.Go(e,n.toUriEncodedString());se(yf,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,r);const{host:u}=new URL(a),h=wm(u);return this.jo(e,a,l,i,h).then(d=>(se(yf,`Received RPC '${e}' ${o}: `,d),d),d=>{throw To(yf,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",i),d})}Jo(e,n,i,s,r,o){return this.Wo(e,n,i,s,r)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}Go(e,n){const i=hj[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class pj extends dj{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,s,r){const o=Zp();return new Promise((a,l)=>{const u=new K1;u.setWithCredentials(!0),u.listenOnce(Q1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pc.NO_ERROR:const d=u.getResponseJson();se(Wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case pc.TIMEOUT:se(Wt,`RPC '${e}' ${o} timed out`),l(new ae(H.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const f=u.getStatus();if(se(Wt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const y=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(_)>=0?_:H.UNKNOWN}(p.status);l(new ae(y,p.message))}else l(new ae(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ae(H.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{se(Wt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);se(Wt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,i,15)})}P_(e,n,i){const s=Zp(),r=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Z1(),a=X1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=r.join("");se(Wt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.T_(d);let f=!1,g=!1;const p=new fj({Ho:b=>{g?se(Wt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(se(Wt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),se(Wt,`RPC '${e}' stream ${s} sending:`,b),d.send(b))},Yo:()=>d.close()}),y=(b,x,_)=>{b.listen(x,k=>{try{_(k)}catch(L){setTimeout(()=>{throw L},0)}})};return y(d,ka.EventType.OPEN,()=>{g||(se(Wt,`RPC '${e}' stream ${s} transport opened.`),p.s_())}),y(d,ka.EventType.CLOSE,()=>{g||(g=!0,se(Wt,`RPC '${e}' stream ${s} transport closed`),p.__(),this.I_(d))}),y(d,ka.EventType.ERROR,b=>{g||(g=!0,To(Wt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),p.__(new ae(H.UNAVAILABLE,"The operation could not be completed")))}),y(d,ka.EventType.MESSAGE,b=>{var x;if(!g){const _=b.data[0];dt(!!_,16349);const k=_,L=(k==null?void 0:k.error)||((x=k[0])===null||x===void 0?void 0:x.error);if(L){se(Wt,`RPC '${e}' stream ${s} received error:`,L);const T=L.status;let R=function(C){const P=vt[C];if(P!==void 0)return xF(P)}(T),S=L.message;R===void 0&&(R=H.INTERNAL,S="Unknown error status: "+T+" with message "+L.message),g=!0,p.__(new ae(R,S)),d.close()}else se(Wt,`RPC '${e}' stream ${s} received:`,_),p.a_(_)}}),y(a,Y1.STAT_EVENT,b=>{b.stat===Up.PROXY?se(Wt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Up.NOPROXY&&se(Wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){return new EF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=s,this.A_=r,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="PersistentStream";class gj{constructor(e,n,i,s,r,o,a,l){this.Fi=e,this.w_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new VC(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===n&&this.W_(i,s)},i=>{e(()=>{const s=new ae(H.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return se(kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(se(kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mj extends gj{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=MF(e.writeResults,e.commitTime),i=go(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=TF(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>AF(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{}class yj extends vj{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Wo(e,Yp(n,i),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ae(H.UNKNOWN,r.toString())})}Jo(e,n,i,s,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Yp(n,i),s,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(H.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class _j{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Tr(n),this._a=!1):se("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl="RemoteStore";class wj{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=r,this.Ea.xo(o=>{i.enqueueAndForget(async()=>{Gl(this)&&(se(Wl,"Restarting streams for network reachability change."),await async function(l){const u=Ue(l);u.Ia.add(4),await ql(u),u.Aa.set("Unknown"),u.Ia.delete(4),await td(u)}(this))})}),this.Aa=new _j(i,s)}}async function td(t){if(Gl(t))for(const e of t.da)await e(!0)}async function ql(t){for(const e of t.da)await e(!1)}function Gl(t){return Ue(t).Ia.size===0}async function FC(t,e,n){if(!$l(e))throw e;t.Ia.add(1),await ql(t),t.Aa.set("Offline"),n||(n=()=>aj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Wl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await td(t)})}function jC(t,e){return e().catch(n=>FC(t,n,e))}async function nd(t){const e=Ue(t),n=Fs(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Tm;for(;bj(e);)try{const s=await lj(e.localStore,i);if(s===null){e.Pa.length===0&&n.B_();break}i=s.batchId,xj(e,s)}catch(s){await FC(e,s)}BC(e)&&zC(e)}function bj(t){return Gl(t)&&t.Pa.length<10}function xj(t,e){t.Pa.push(e);const n=Fs(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function BC(t){return Gl(t)&&!Fs(t).M_()&&t.Pa.length>0}function zC(t){Fs(t).start()}async function Ej(t){Fs(t).na()}async function Sj(t){const e=Fs(t);for(const n of t.Pa)e.X_(n.mutations)}async function Cj(t,e,n){const i=t.Pa.shift(),s=Vm.from(i,e,n);await jC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await nd(t)}async function kj(t,e){e&&Fs(t).Z_&&await async function(i,s){if(function(o){return bF(o)&&o!==H.ABORTED}(s.code)){const r=i.Pa.shift();Fs(i).N_(),await jC(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await nd(i)}}(t,e),BC(t)&&zC(t)}async function Lb(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),se(Wl,"RemoteStore received new credentials");const i=Gl(n);n.Ia.add(3),await ql(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await td(n)}async function Lj(t,e){const n=Ue(t);e?(n.Ia.delete(2),await td(n)):e||(n.Ia.add(2),await ql(n),n.Aa.set("Unknown"))}function Fs(t){return t.ma||(t.ma=function(n,i,s){const r=Ue(n);return r.ia(),new mj(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Ej.bind(null,t),n_:kj.bind(null,t),ea:Sj.bind(null,t),ta:Cj.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await nd(t)):(await t.ma.stop(),t.Pa.length>0&&(se(Wl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new zm(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UC(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),$l(t))return new ae(H.UNAVAILABLE,`${e}: ${t}`);throw t}class Tj{constructor(){this.queries=Tb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const s=Ue(n),r=s.queries;s.queries=Tb(),r.forEach((o,a)=>{for(const l of a.wa)l.onError(i)})})(this,new ae(H.ABORTED,"Firestore shutting down"))}}function Tb(){return new Dr(t=>wC(t),_C)}function Pj(t){t.Da.forEach(e=>{e.next()})}var Pb,Ab;(Ab=Pb||(Pb={})).Fa="default",Ab.Cache="cache";const Aj="SyncEngine";class Mj{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Dr(a=>wC(a),_C),this.Tu=new Map,this.Iu=new Set,this.du=new vn(pe.comparator),this.Eu=new Map,this.Au=new Fm,this.Ru={},this.Vu=new Map,this.mu=Ro.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Ij(t,e,n){const i=Nj(t);try{const s=await function(o,a){const l=Ue(o),u=Ze.now(),h=a.reduce((g,p)=>g.add(p.key),Yt());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let p=vh(),y=Yt();return l.Os.getEntries(g,h).next(b=>{p=b,p.forEach((x,_)=>{_.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,p)).next(b=>{d=b;const x=[];for(const _ of a){const k=vF(_,d.get(_.key).overlayedDocument);k!=null&&x.push(new Nr(_.key,k,dC(k.value.mapValue),Fi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,x,a)}).next(b=>{f=b;const x=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(g,b.batchId,x)})}).then(()=>({batchId:f.batchId,changes:xC(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new vn(Te)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(i,s.batchId,n),await id(i,s.changes),await nd(i.remoteStore)}catch(s){const r=UC(s,"Failed to persist write");n.reject(r)}}function Mb(t,e,n){const i=Ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Pu.forEach((r,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ue(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.wa)f.va(a)&&(u=!0)}),u&&Pj(l)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Rj(t,e){const n=Ue(t),i=e.batch.batchId;try{const s=await oj(n.localStore,e);HC(n,i,null),$C(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await id(n,s)}catch(s){await km(s)}}async function Oj(t,e,n){const i=Ue(t);try{const s=await function(o,a){const l=Ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(dt(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(i.localStore,e);HC(i,e,n),$C(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await id(i,s)}catch(s){await km(s)}}function $C(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function HC(t,e,n){const i=Ue(t);let s=i.Ru[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}async function id(t,e,n){const i=Ue(t),s=[],r=[],o=[];i.Pu.isEmpty()||(i.Pu.forEach((a,l)=>{o.push(i.gu(l,e,n).then(u=>{var h;if((u||n)&&i.isPrimaryClient){const d=u?!u.fromCache:(h=void 0)===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){s.push(u);const d=Bm.Es(l.targetId,u);r.push(d)}}))}),await Promise.all(o),i.hu.J_(s),await async function(l,u){const h=Ue(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(u,f=>$.forEach(f.Is,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>$.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!$l(d))throw d;se(ij,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const g=h.Fs.get(f),p=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(p);h.Fs=h.Fs.insert(f,y)}}}(i.localStore,r))}async function Dj(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){se(Aj,"User change. New user:",e.toKey());const i=await NC(n.localStore,e);n.currentUser=e,function(r,o){r.Vu.forEach(a=>{a.forEach(l=>{l.reject(new ae(H.CANCELLED,o))})}),r.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await id(n,i.Bs)}}function Nj(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oj.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return rj(this.persistence,new nj,e.initialUser,this.serializer)}Du(e){return new DC(jm.Vi,this.serializer)}bu(e){return new uj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class Vj extends wh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){dt(this.persistence.referenceDelegate instanceof _h,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new zF(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new DC(i=>_h.Vi(i,n),this.serializer)}}class Jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Mb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dj.bind(null,this.syncEngine),await Lj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tj}()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),i=function(r){return new pj(r)}(e.databaseInfo);return function(r,o,a,l){return new yj(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,o,a){return new wj(i,s,r,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Mb(this.syncEngine,n,0),function(){return Cb.C()?new Cb:new cj}())}createSyncEngine(e,n){return function(s,r,o,a,l,u,h){const d=new Mj(s,r,o,a,l,u);return h&&(d.fu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=Ue(s);se(Wl,"RemoteStore shutting down."),r.Ia.add(5),await ql(r),r.Ea.shutdown(),r.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jp.provider={build:()=>new Jp};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="FirestoreClient";class Fj{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async o=>{se(js,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(se(js,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=UC(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function wf(t,e){t.asyncQueue.verifyOperationInProgress(),se(js,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await NC(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{To("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{se("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{To("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function Ib(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jj(t);se(js,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Lb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Lb(e.remoteStore,s)),t._onlineComponents=e}async function jj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(js,"Using user provided OfflineComponentProvider");try{await wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await wf(t,new wh)}}else se(js,"Using default OfflineComponentProvider"),await wf(t,new Vj(void 0));return t._offlineComponents}async function Bj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(js,"Using user provided OnlineComponentProvider"),await Ib(t,t._uninitializedComponentsProvider._online)):(se(js,"Using default OnlineComponentProvider"),await Ib(t,new Jp))),t._onlineComponents}function zj(t){return Bj(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="firestore.googleapis.com",Ob=!0;class Db{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qC,this.ssl=Ob}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ob;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jF)throw new ae(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new v4;switch(i.type){case"firstParty":return new b4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Rb.get(n);i&&(se("ComponentProvider","Removing Datastore"),Rb.delete(n),i.terminate())}(this),Promise.resolve()}}function Uj(t,e,n,i={}){var s;t=iC(t,sd);const r=wm(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;r&&(qN(`https://${l}`),YN("Firestore",!0)),o.host!==qC&&o.host!==l&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:r,emulatorOptions:i});if(!lh(u,a)&&(t._setSettings(u),i.mockUserToken)){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=Gt.MOCK_USER;else{h=GN(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ae(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Gt(f)}t._authCredentials=new y4(new eC(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Um(this.firestore,e,this._query)}}class Jt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ul(n,Jt._jsonSchema))return new Jt(e,i||null,new pe(st.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:_t("string",Jt._jsonSchemaVersion),referencePath:_t("string")};class Ms extends Um{constructor(e,n,i){super(e,n,eF(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new pe(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function $j(t,e,...n){if(t=El(t),tC("collection","path",e),t instanceof sd){const i=st.fromString(e,...n);return ib(i),new Ms(t,null,i)}{if(!(t instanceof Jt||t instanceof Ms))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(st.fromString(e,...n));return ib(i),new Ms(t.firestore,null,i)}}function Hj(t,e,...n){if(t=El(t),arguments.length===1&&(e=Sm.newId()),tC("doc","path",e),t instanceof sd){const i=st.fromString(e,...n);return nb(i),new Jt(t,null,new pe(i))}{if(!(t instanceof Jt||t instanceof Ms))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(st.fromString(e,...n));return nb(i),new Jt(t.firestore,t instanceof Ms?t.converter:null,new pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="AsyncQueue";class Vb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new VC(this,"async_queue_retry"),this.oc=()=>{const i=_f();i&&se(Nb,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=_f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new vr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$l(e))throw e;se(Nb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Tr("INTERNAL UNHANDLED ERROR: ",Fb(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=zm.createAndSchedule(this,e,n,i,r=>this.lc(r));return this.ec.push(s),s}ac(){this.tc&&ye(47125,{hc:Fb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Fb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class GC extends sd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Vb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vb(e),this._firestoreClient=void 0,await e}}}function Wj(t,e){const n=typeof t=="object"?t:o4(),i=typeof t=="string"?t:fh,s=t4(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=HN("firestore");r&&Uj(s,...r)}return s}function qj(t){if(t._terminated)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Gj(t),t._firestoreClient}function Gj(t){var e,n,i;const s=t._freezeSettings(),r=function(a,l,u,h){return new j4(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,WC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Fj(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(bi.fromBase64String(e))}catch(n){throw new ae(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ul(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:_t("string",Yn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(Ul(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:_t("string",ji._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ul(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Bi(e.vectorValues);throw new ae(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:_t("string",Bi._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=/^__.*__$/;class Qj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(e,this.data,n,this.fieldTransforms)}}function KC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ec:t})}}class Wm{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ac(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return bh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(KC(this.Ec)&&Kj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Yj{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ed(e)}Dc(e,n,i,s=!1){return new Wm({Ec:e,methodName:n,bc:i,path:Vt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xj(t){const e=t._freezeSettings(),n=ed(t._databaseId);return new Yj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zj(t,e,n,i,s,r={}){const o=t.Dc(r.merge||r.mergeFields?2:0,e,n,s);ZC("Data must be an object, but it was:",o,i);const a=YC(i,o);let l,u;if(r.merge)l=new Zn(o.fieldMask),u=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const d of r.mergeFields){const f=Jj(e,d,n);if(!o.contains(f))throw new ae(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);t5(h,f)||h.push(f)}l=new Zn(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Qj(new Qn(a),l,u)}class qm extends Hm{_toFieldTransform(e){return new fF(e.path,new Tl)}isEqual(e){return e instanceof qm}}function QC(t,e){if(XC(t=El(t)))return ZC("Unsupported field value:",e,t),YC(t,e);if(t instanceof Hm)return function(i,s){if(!KC(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=QC(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=El(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cF(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Ze.fromDate(i);return{timestampValue:Qp(s.serializer,r)}}if(i instanceof Ze){const r=new Ze(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qp(s.serializer,r)}}if(i instanceof ji)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yn)return{bytesValue:SF(s.serializer,i._byteString)};if(i instanceof Jt){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:IC(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Bi)return function(o,a){return{mapValue:{fields:{[cC]:{stringValue:hC},[Hp]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Nm(a.serializer,u)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${Cm(i)}`)}(t,e)}function YC(t,e){const n={};return rC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(i,s)=>{const r=QC(s,e.Vc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function XC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof ji||t instanceof Yn||t instanceof Jt||t instanceof Hm||t instanceof Bi)}function ZC(t,e,n){if(!XC(n)||!nC(n)){const i=Cm(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function Jj(t,e,n){if((e=El(e))instanceof $m)return e._internalPath;if(typeof e=="string")return JC(t,e);throw bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const e5=new RegExp("[~\\*/\\[\\]]");function JC(t,e,n){if(e.search(e5)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bh(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new ae(H.INVALID_ARGUMENT,a+t+l)}function t5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n5 extends ek{data(){return super.data()}}function tk(t,e){return typeof e=="string"?JC(t,e):e instanceof $m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mo extends ek{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(tk("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:_t("string",mo._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class yc extends mo{data(e={}){return super.data(e)}}class Qa{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new yc(this._firestore,this._userDataWriter,i.key,i,new Wu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new yc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new yc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:s5(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function s5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:t})}}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:_t("string",Qa._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};function r5(t,e){const n=iC(t.firestore,GC),i=Hj(t),s=i5(t.converter,e);return o5(n,[Zj(Xj(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Fi.exists(!1))]).then(()=>i)}function o5(t,e){return function(i,s){const r=new vr;return i.asyncQueue.enqueueAndForget(async()=>Ij(await zj(i),s,r)),r.promise}(qj(t),e)}function a5(){return new qm("serverTimestamp")}(function(e,n=!0){(function(s){zo=s})(r4),ch(new Sl("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new GC(new _4(i.getProvider("auth-internal")),new x4(o,i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ph(u.options.projectId,h)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),po(Xw,Zw,e),po(Xw,Zw,"esm2017")})();Kh.register(...ID);var l5="firebase",u5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po(l5,u5,"app");const c5={apiKey:"AIzaSyDcV4MPAGtzgDJxmf7qMN2MCTCh2NIuxpc",authDomain:"air-quality-and-health-alert.firebaseapp.com",projectId:"air-quality-and-health-alert",storageBucket:"air-quality-and-health-alert.appspot.com",messagingSenderId:"783350047960",appId:"1:783350047960:web:d39ef4daa4d6b8c06f23ad"},h5=W1(c5),d5=Wj(h5),f5=["pm25","pm10","o3","no2","so2","co"],jb=["Delhi","Mumbai","Bengaluru","Chennai","Kolkata","Hyderabad"],p5=[{label:"Respiratory distress",base:.25,slope:.0035},{label:"Cardiovascular strain",base:.2,slope:.0028},{label:"Eye & skin irritation",base:.15,slope:.002},{label:"Neurological fatigue",base:.1,slope:.0016}],bf="5e229522a40e5a7c1980cd67c4d29ad75822bd92",g5=5*60*1e3,m5=t=>{if(!t)return null;const e=n=>{const i=Number(n);return Number.isFinite(i)?i:null};if(Array.isArray(t)&&t.length>=2){const n=e(t[0]),i=e(t[1]);if(n!==null&&i!==null)return{lat:n,lng:i}}if(typeof t=="string"){const n=t.split(/[, ]+/).filter(Boolean);if(n.length>=2){const i=e(n[0]),s=e(n[1]);if(i!==null&&s!==null)return{lat:i,lng:s}}}if(typeof t=="object"&&t!==null){const n=e(t.lat),i=e(t.lng??t.lon);if(n!==null&&i!==null)return{lat:n,lng:i}}return null},Bb=t=>{var i,s;const e=t==null?void 0:t.aqi,n=Number(e);if(Number.isFinite(n)&&n>0)return n;for(const r of f5){const o=(s=(i=t==null?void 0:t.iaqi)==null?void 0:i[r])==null?void 0:s.v;if(typeof o=="number"&&Number.isFinite(o))return Math.round(o)}return null},v5=()=>Array.from({length:6},()=>Math.floor(Math.random()*200)+30),y5=t=>t<=50?["Air quality is good. No precautions needed.","Stay active outdoors.","#2ecc71"]:t<=100?["Moderate air quality. Sensitive groups should take caution.","Limit prolonged outdoor activity if you have respiratory issues.","#f1c40f"]:t<=150?["Unhealthy for sensitive groups.","Reduce outdoor activity. Use mask if needed.","#e67e22"]:t<=200?["Unhealthy.","Avoid outdoor activity. People with health issues should stay indoors.","#e74c3c"]:t<=300?["Very Unhealthy.","Stay indoors. Wear N95 masks if you go outside.","#8e44ad"]:["Hazardous!","Avoid all outdoor activity. Keep windows closed.","#34495e"],zb=["#38bdf8","#fb7185","#f97316","#a855f7","#22d3ee","#facc15"],_5=t=>{if(!t)return null;const n=["pm25","pm10","no2","o3","so2","co"].map((i,s)=>{var o;const r=Number(((o=t==null?void 0:t[i])==null?void 0:o.v)??NaN);return Number.isFinite(r)?{label:i.toUpperCase(),value:r,color:zb[s%zb.length]}:null}).filter(Boolean);return n.length?{labels:n.map(i=>i.label),datasets:[{data:n.map(i=>i.value),backgroundColor:n.map(i=>i.color),borderWidth:0}]}:null};function w5(){var li,Yi;const[t,e]=v.useState(""),[n,i]=v.useState(null),[s,r]=v.useState(""),[o,a]=v.useState(""),[l,u]=v.useState(null),[h,d]=v.useState("#2ecc71"),f=v.useMemo(()=>({lat:28.6139,lng:77.209}),[]),[g,p]=v.useState(null),[y,b]=v.useState("Idle"),[x,_]=v.useState("Awaiting live location"),[k,L]=v.useState("off"),[T,R]=v.useState([]),[S,E]=v.useState("Awaiting data"),[C,P]=v.useState({loading:!1,data:[],error:null}),M=v.useRef(null),O=v.useRef(null),I=v.useRef({timestamp:0,signature:null}),[J,K]=v.useState(null),[Q,ie]=v.useState(150),[j,W]=v.useState([]),[q,te]=v.useState(!1),[ee,Y]=v.useState(10),[le,B]=v.useState(null),ce=v.useRef(!1),ge=v.useRef(null),de=v.useMemo(()=>[{name:"Asthma & COPD flare-ups",prevention:"Use N95 outside; keep inhalers ready; limit exertion"},{name:"Cardio stress (hypertension)",prevention:"Stay indoors; hydrate; avoid heavy workouts"},{name:"Allergic rhinitis / sore throat",prevention:"Mask outdoors; saline gargle; keep windows closed"},{name:"Eye irritation",prevention:"Protective glasses; avoid rubbing eyes; use artificial tears"},{name:"Headache & fatigue",prevention:"Reduce outdoor time; rest; stay hydrated"}],[]);l2({googleMapsApiKey:"",id:"google-map-script"}),v.useEffect(()=>{O.current=g},[g]);const Fe=v.useCallback(async()=>{if(jb.length){P(U=>({...U,loading:!0,error:null}));try{const oe=(await Promise.all(jb.map(async _e=>{var Re,je;try{const lt=`https://api.waqi.info/feed/${encodeURIComponent(_e)}/?token=${bf}`,He=await ot.get(lt);if(He.data.status!=="ok")throw new Error("City unavailable");const tt=Bb(He.data.data);return{label:((je=(Re=He.data.data)==null?void 0:Re.city)==null?void 0:je.name)||_e,city:_e,aqi:tt}}catch(lt){return console.warn(`Ranking fetch failed for ${_e}`,lt),{label:_e,city:_e,aqi:null}}}))).filter(_e=>_e.aqi!==null).sort((_e,Re)=>_e.aqi-Re.aqi);P({loading:!1,data:oe,error:oe.length?null:"No AQI data available for tracked cities."})}catch(U){console.error("City ranking error",U),P({loading:!1,data:[],error:"Failed to load city rankings."})}}},[]);v.useEffect(()=>{Fe()},[Fe]);const re=async()=>{if(!("Notification"in window))return L("unsupported");if(Notification.permission==="granted"){L("granted");return}const U=await Notification.requestPermission();L(U)};v.useEffect(()=>{re()},[]);const ve=(U,oe,_e=`${U}-${oe}`)=>{if(k!=="granted")return!1;const Re=Date.now(),{timestamp:je,signature:lt}=I.current;if(!(Re-je>g5)&&lt===_e)return!1;try{return new Notification(U,{body:oe}),I.current={timestamp:Re,signature:_e},!0}catch(tt){return console.warn("Notification error",tt),!1}},Ne=v.useCallback(async({source:U="manual",forceLocation:oe=!1,geoOverride:_e=null}={})=>{var Re,je,lt,He;try{const tt=oe||!t,mt=_e||O.current;if(tt&&!mt){U==="manual"&&alert("Allow location access or enter a city to fetch AQI.");return}if(!tt&&!t){alert("Enter a city name to fetch AQI data.");return}const Pn=tt?`https://api.waqi.info/feed/geo:${mt.lat};${mt.lng}/?token=${bf}`:`https://api.waqi.info/feed/${encodeURIComponent(t)}/?token=${bf}`,_n=await ot.get(Pn);if(_n.data.status!=="ok"){alert("City not found or API error");return}const bt=Bb(_n.data.data);if(bt===null){alert("AQI readings are unavailable for this location right now.");return}i(bt);const It=(Re=_n.data.data)==null?void 0:Re.city,An=((lt=(je=_n.data.data)==null?void 0:je.time)==null?void 0:lt.s)||new Date().toLocaleString();E(An);const qs=m5((It==null?void 0:It.geo)||(It==null?void 0:It.location)),nt=!tt&&(t!=null&&t.trim())?t.trim():(It==null?void 0:It.name)||(mt?`Lat ${mt.lat.toFixed(2)}, Lng ${mt.lng.toFixed(2)}`:"Your location"),[ue,Xi,Ei]=y5(bt);r(ue),a(Xi),d(Ei);const ui=nt;if(_(ui),tt||(qs&&p(qs),b("City lookup")),U==="manual"&&alert(`Current AQI in ${ui} is ${bt}`),bt>=Q){const Ji=`${ui}-${Math.round(bt/5)}`;ve("AQI Alert",`${ui} AQI is ${bt}. ${ue}`,Ji)&&W(ci=>[{id:`${Date.now()}-${ui}`,label:ui,aqi:bt,observedAt:An,threshold:Q},...ci].slice(0,5))}try{await r5($j(d5,"aqi_readings"),{label:ui,city:t||null,coords:mt,aqi:bt,advice:ue,prevention:Xi,source:U,createdAt:a5()})}catch(Ji){console.warn("Failed to log to Firestore",Ji)}R(Ji=>[{id:`${Date.now()}-${Math.random().toString(36).slice(2,7)}`,label:ui,aqi:bt,observedAt:An},...Ji].slice(0,6));const rd=[...v5(),bt],Zi=Array.from({length:7},(Ji,$o)=>{const ci=new Date;return ci.setDate(ci.getDate()-6+$o),ci.toLocaleDateString("en-US",{month:"short",day:"numeric"})});u({labels:Zi,datasets:[{label:"AQI",data:rd,fill:!1,borderColor:Ei,tension:.3,pointBackgroundColor:Ei}]}),K(_5((He=_n.data.data)==null?void 0:He.iaqi))}catch(tt){alert("Error fetching AQI"),console.error(tt)}},[Q,t,O,k]),$e=v.useCallback(async({force:U=!1}={})=>{if(!(ce.current&&!U)){ce.current=!0;try{b("Resolving network location");const oe=await fetch("https://ipapi.co/json/");if(!oe.ok)throw new Error("IP geolocation failed");const _e=await oe.json(),Re=Number(_e.latitude),je=Number(_e.longitude);if(!Number.isFinite(Re)||!Number.isFinite(je))throw new Error("Missing coordinates");const lt={lat:Re,lng:je},He=[_e.city,_e.region,_e.country_name].filter(Boolean);p(lt),b("Approximate via network"),_(He.join(", ")||`${Re.toFixed(2)}, ${je.toFixed(2)}`),Ne({source:"auto",forceLocation:!0,geoOverride:lt})}catch(oe){console.warn("Approximate location fallback failed",oe),b("Enter a city to start"),_(`Fallback  ${f.lat.toFixed(2)}, ${f.lng.toFixed(2)}`),ce.current=!1}}},[f.lat,f.lng,Ne]),wt=v.useMemo(()=>n===null?{label:"Pending",detail:"Fetch AQI to see status",color:"#475569"}:n<=50?{label:"Healthy",detail:"Air is clean  stay active",color:"#16a34a"}:n<=100?{label:"Moderate",detail:"Sensitive groups take light caution",color:"#f59e0b"}:n<=150?{label:"Caution",detail:"Sensitive groups reduce outdoor time",color:"#ea580c"}:n<=200?{label:"Unhealthy",detail:"Avoid outdoor exertion; use N95",color:"#dc2626"}:n<=300?{label:"Very Unhealthy",detail:"Stay indoors; mechanical ventilation",color:"#7c3aed"}:{label:"Hazardous",detail:"Shelter indoors; seal windows; use N95",color:"#334155"},[n]),Se=v.useMemo(()=>{if(n===null||n<=150)return null;const U=_e=>Math.max(0,Math.min(100,_e)),oe=n||0;return{labels:["Respiratory","Cardio","Eyes","Fatigue"],datasets:[{label:"Risk level",data:[U(oe),U(oe-20),U(oe-30),U(oe-40)].map(_e=>Math.round(_e/300*100)),backgroundColor:["#ef4444","#f59e0b","#3b82f6","#8b5cf6"],borderRadius:8}]}},[n]),Gi=v.useMemo(()=>n===null?[]:p5.map(U=>{const oe=Math.max(.05,Math.min(.98,U.base+U.slope*n));return{label:U.label,probability:Math.round(oe*100)}}),[n]),Ki=U=>U>=75?"#dc2626":U>=55?"#f97316":U>=35?"#facc15":"#22c55e",Vr=v.useMemo(()=>{const U=n??0,oe={respirator:U>=150?"urgent":U>=90?"recommended":"optional",purifier:U>=120?"recommended":"optional",hydration:U>=80?"recommended":"optional",alerts:k==="granted"?"done":"urgent",commute:U>=110?"urgent":"optional"};return[{label:"Wear N95/FFP2 outdoors",hint:oe.respirator==="urgent"?"Required for AQI spikes":"Keep mask handy",status:oe.respirator},{label:"Run air purifier or ventilation",hint:oe.purifier==="recommended"?"Cycle HEPA every 2h":"Ventilate when AQI < 100",status:oe.purifier},{label:"Stay hydrated + limit exertion",hint:oe.hydration==="recommended"?"Sip water every hour":"Monitor energy levels",status:oe.hydration},{label:"Enable spike notifications",hint:k==="granted"?"Live alerts active":"Grant permission for browser alerts",status:oe.alerts},{label:"Plan commute flexibly",hint:oe.commute==="urgent"?"Avoid peak traffic outdoors":"Track AQI before leaving",status:oe.commute}]},[n,k]),jn=x||(g?`${g.lat.toFixed(4)}, ${g.lng.toFixed(4)}`:`${f.lat.toFixed(2)}, ${f.lng.toFixed(2)}`),kt=T[0],yn=y==="Live",Hs=y==="City lookup",ri=v.useMemo(()=>n===null?6:Math.min(400,Math.max(0,n))/4,[n]),Qi=S||(kt==null?void 0:kt.observedAt)||"Awaiting data",Ws=yn?"GPS tracking":Hs||t?"City lookup":"Setup required",ft=yn||Hs?jn:t||"Add a city name to start",Qe=(li=C.data)==null?void 0:li[0],Bn=(Yi=C.data)==null?void 0:Yi[C.data.length-1],zn=v.useMemo(()=>n===null||!kt?null:n-kt.aqi,[n,kt]),oi=v.useCallback(U=>{const oe={lat:U.coords.latitude,lng:U.coords.longitude};p(oe),b("Live")},[]),Un=v.useCallback(U=>{let oe=(U==null?void 0:U.message)||"Unable to get location";window.isSecureContext?(U==null?void 0:U.code)===1?oe="Permission denied  allow location access":(U==null?void 0:U.code)===2?oe="Position unavailable":(U==null?void 0:U.code)===3&&(oe="Location timed out"):oe="Use HTTPS or localhost for live location",b(oe),_(`Fallback  ${f.lat.toFixed(2)}, ${f.lng.toFixed(2)}`),$e({force:!0})},[f.lat,f.lng,$e]),ai=()=>{if(t.trim()){Ne({source:"manual"});return}if(g){Ne({source:"manual",forceLocation:!0});return}$e({force:!0}),alert("Fetching your approximate location. Please allow permissions or enter a city manually.")};return v.useEffect(()=>{if(!("geolocation"in navigator)){b("Geolocation not supported"),_(`Fallback  ${f.lat.toFixed(2)}, ${f.lng.toFixed(2)}`),$e({force:!0});return}b("Locating");const U=navigator.geolocation.watchPosition(oi,Un,{enableHighAccuracy:!0,maximumAge:1e4,timeout:1e4});return()=>navigator.geolocation.clearWatch(U)},[f.lat,f.lng,Un,oi,$e]),v.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(oi,Un,{enableHighAccuracy:!0,timeout:8e3})},[Un,oi]),v.useEffect(()=>{if(g)return;const U=setTimeout(()=>{$e()},6e3);return()=>clearTimeout(U)},[g,$e]),v.useEffect(()=>{if(y!=="Live"||!g)return;const U=M.current;if(U){const oe=Math.abs(U.lat-g.lat),_e=Math.abs(U.lng-g.lng);if(oe<5e-4&&_e<5e-4)return}M.current=g,Ne({source:"auto",forceLocation:!0})},[Ne,g==null?void 0:g.lat,g==null?void 0:g.lng,y]),v.useEffect(()=>{let U=!1;if(!g)return ge.current=null,_("Awaiting live location"),()=>{U=!0};const oe=ge.current;if(oe){const Re=Math.abs(oe.lat-g.lat),je=Math.abs(oe.lng-g.lng);if(Re<.001&&je<.001)return _(oe.label),()=>{U=!0}}return(async()=>{var Re,je,lt;try{const He=await ot.get("https://nominatim.openstreetmap.org/reverse",{params:{format:"jsonv2",lat:g.lat,lon:g.lng},headers:{"Accept-Language":"en"}}),tt=He.data.display_name||((Re=He.data.address)==null?void 0:Re.city)||((je=He.data.address)==null?void 0:je.town)||((lt=He.data.address)==null?void 0:lt.village)||`${g.lat.toFixed(4)}, ${g.lng.toFixed(4)}`;if(!U){const mt=tt;ge.current={lat:g.lat,lng:g.lng,label:mt},_(mt)}}catch(He){if(console.warn("Reverse geocode failed",He),!U){const tt=`${g.lat.toFixed(4)}, ${g.lng.toFixed(4)}`;ge.current={lat:g.lat,lng:g.lng,label:tt},_(tt)}}})(),()=>{U=!0}},[g==null?void 0:g.lat,g==null?void 0:g.lng]),v.useEffect(()=>{if(!q){B(null);return}const oe=Math.max(1,ee)*6e4,_e=()=>{const lt=new Date(Date.now()+oe).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});B(lt)},Re=()=>{if(O.current){Ne({source:"auto",forceLocation:!0});return}if(t.trim()){Ne({source:"auto"});return}$e()};Re(),_e();const je=setInterval(()=>{Re(),_e()},oe);return()=>clearInterval(je)},[q,ee,t,Ne,$e]),v.useEffect(()=>{if(q){if(O.current){Ne({source:"auto",forceLocation:!0});return}if(t.trim()){Ne({source:"auto"});return}$e()}},[q,t,Ne,$e]),D.jsxs("div",{className:"page",children:[D.jsxs("nav",{className:"nav",children:[D.jsxs("div",{className:"brand",children:[D.jsx("span",{className:"brand-dot"}),"Atmosense"]}),D.jsxs("div",{className:"nav-badge",children:[D.jsx("span",{className:`status-dot ${yn?"live":""}`}),yn?"Live feed active":"Awaiting location lock"]})]}),D.jsxs("header",{className:"hero",children:[D.jsxs("div",{className:"hero-copy",children:[D.jsx("p",{className:"eyebrow",children:"Air wellness intelligence"}),D.jsxs("h1",{className:"title",children:[D.jsx("span",{className:"title-icon","aria-hidden":"true",children:""}),D.jsx("span",{className:"title-text",children:"Live AQI Dashboard"})]}),D.jsx("p",{className:"lead",children:n!==null&&s?`${s} Keep tabs on ${x||"your area"} in real time.`:`Stay ahead of pollution spikes for ${x||"your location"} with live guidance.`}),D.jsxs("div",{className:"controls hero-controls",children:[D.jsx("input",{type:"text",value:t,onChange:U=>e(U.target.value),placeholder:"Enter a city or locality",className:"input"}),D.jsx("button",{onClick:ai,className:"button",children:"Check AQI"})]}),D.jsxs("div",{className:"hero-meta",children:[D.jsxs("div",{className:"hero-badge",children:[D.jsx("span",{children:"Current location"}),D.jsx("strong",{children:jn})]}),D.jsxs("div",{className:"hero-badge",children:[D.jsx("span",{children:"Location status"}),D.jsx("strong",{children:y})]}),D.jsxs("div",{className:"hero-badge",children:[D.jsx("span",{children:"Notifications"}),D.jsx("strong",{children:k})]})]})]}),D.jsxs("div",{className:"hero-spotlight",children:[D.jsx("div",{className:"hero-spotlight-label",children:"Realtime AQI"}),D.jsx("div",{className:"hero-spotlight-value",style:{color:n!==null?wt.color:"#94a3b8"},children:n!==null?n:"--"}),D.jsx("div",{className:"hero-spotlight-foot",children:s||"Run a check to personalize guidance."}),D.jsx("div",{className:"hero-spotlight-subtle",children:o||"Enable live readings to receive proactive prevention tips."})]})]}),D.jsxs("section",{className:"signal-row",children:[D.jsxs("div",{className:"signal-card primary",children:[D.jsx("div",{className:"signal-chip",children:"Guardian status"}),D.jsx("div",{className:"signal-value",style:{color:wt.color},children:wt.label}),D.jsx("p",{className:"signal-meta",children:wt.detail}),D.jsx("div",{className:"signal-meter","aria-hidden":"true",children:D.jsx("div",{className:"signal-meter-fill",style:{width:`${ri}%`,background:wt.color}})})]}),D.jsxs("div",{className:"signal-card",children:[D.jsx("div",{className:"signal-chip",children:"Last sync"}),D.jsx("div",{className:"signal-value subtle-value",children:Qi}),D.jsxs("p",{className:"signal-meta",children:["Alerts: ",k==="granted"?"Enabled":"Pending permission"]}),D.jsx("div",{className:"signal-foot",children:zn!==null?` vs last manual: ${zn>0?"+":""}${zn} AQI`:"Run a manual check to compare"}),D.jsxs("div",{className:"signal-foot subtle-foot",children:["Mode: ",yn?"Auto-refresh":"Manual"]})]}),D.jsxs("div",{className:"signal-card",children:[D.jsx("div",{className:"signal-chip",children:"Airwatch scope"}),D.jsx("div",{className:"signal-value subtle-value",children:Ws}),D.jsx("p",{className:"signal-meta",children:ft}),D.jsx("div",{className:"signal-foot",children:Qe&&Bn?D.jsxs(D.Fragment,{children:[Qe.label,": ",Qe.aqi," AQI ",D.jsxs("span",{className:"signal-foot-strong",children:[" ",Bn.label,": ",Bn.aqi," AQI"]})]}):"Ranking data syncing"})]})]}),D.jsxs("section",{className:"section",children:[D.jsxs("div",{className:"section-heading",children:[D.jsxs("div",{children:[D.jsx("p",{className:"section-label",children:"Live snapshot"}),D.jsx("h2",{className:"section-title",children:"Environment overview"})]}),D.jsx("p",{className:"section-subtitle",children:"Coordinates refresh automatically every time you move ~50m."})]}),D.jsxs("div",{className:"insight-grid",children:[D.jsxs("div",{className:"card small",children:[D.jsx("div",{className:"label",children:"Location"}),D.jsx("div",{className:"value",children:jn}),D.jsxs("div",{className:"subtle",children:["Status: ",y]})]}),D.jsxs("div",{className:"card small",children:[D.jsx("div",{className:"label",children:"Health Tracker"}),D.jsxs("div",{className:"value row",children:[D.jsx("span",{className:"pill",style:{background:wt.color+"1a",color:wt.color},children:wt.label}),D.jsx("span",{children:wt.detail})]}),D.jsxs("div",{className:"subtle",children:["Notifications: ",k]})]}),D.jsxs("div",{className:"card small accent",children:[D.jsx("div",{className:"label",children:"Latest reading"}),D.jsx("div",{className:"value",children:n!==null?n:(kt==null?void 0:kt.aqi)||"--"}),D.jsx("div",{className:"subtle",children:kt?`Manual check  ${kt.label}`:n!==null?"Live auto refresh":"Use Check AQI to capture a measurement"})]})]})]}),D.jsxs("section",{className:"section",children:[D.jsxs("div",{className:"section-heading",children:[D.jsxs("div",{children:[D.jsx("p",{className:"section-label",children:"Situation room"}),D.jsx("h2",{className:"section-title",children:"Air quality intelligence"})]}),D.jsx("p",{className:"section-subtitle",children:"Manual spot checks, ML heuristics, rankings, and maps stay visually aligned."})]}),D.jsxs("div",{className:"dashboard-grid",children:[D.jsxs("div",{className:"stack",children:[D.jsxs("div",{className:"card history-card",children:[D.jsx("div",{className:"label",children:"Recent AQI readings"}),D.jsx("div",{className:"history-list",children:T.length===0?D.jsx("div",{className:"empty-state",children:"No manual checks yet. Use Check AQI to capture one."}):T.map(U=>D.jsxs("div",{className:"history-item",children:[D.jsxs("div",{className:"history-meta",children:[D.jsx("div",{className:"history-city",children:U.label}),D.jsxs("div",{className:"history-time",children:["Observed at ",U.observedAt]})]}),D.jsx("div",{className:"history-aqi","aria-label":"Recorded AQI",children:U.aqi})]},U.id))})]}),Gi.length>0&&D.jsxs("div",{className:"card risk-card",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("div",{className:"label",children:"ML-based health risk prediction"}),D.jsx("div",{className:"subtle",children:"Heuristic model scaled to current AQI"})]}),D.jsx("div",{className:"risk-list",children:Gi.map(U=>D.jsxs("div",{className:"risk-item",children:[D.jsxs("div",{className:"risk-info",children:[D.jsx("div",{className:"risk-name",children:U.label}),D.jsx("div",{className:"risk-bar","aria-hidden":"true",children:D.jsx("div",{className:"risk-bar-fill",style:{width:`${U.probability}%`,background:Ki(U.probability)}})})]}),D.jsxs("div",{className:"risk-score",children:[U.probability,"%"]})]},U.label))})]})]}),D.jsxs("div",{className:"stack",children:[D.jsxs("div",{className:"card ranking-card",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("div",{className:"label",children:"City-wise AQI ranking"}),D.jsx("button",{className:"button tiny",onClick:Fe,disabled:C.loading,children:C.loading?"Refreshing...":"Refresh"})]}),D.jsx("div",{className:"ranking-hint",children:"Lower AQI indicates cleaner air  Powered by WAQI live feed"}),C.error&&D.jsx("div",{className:"error-text",children:C.error}),!C.error&&C.data.length===0&&!C.loading&&D.jsx("div",{className:"subtle",children:"No ranking data yet. Try refreshing."}),D.jsxs("div",{className:"ranking-list",children:[C.loading&&D.jsx("div",{className:"subtle",children:"Loading tracked cities"}),!C.loading&&C.data.map((U,oe)=>D.jsxs("div",{className:"ranking-item",children:[D.jsxs("div",{className:"ranking-rank",children:["#",oe+1]}),D.jsx("div",{className:"ranking-meta",children:D.jsx("div",{className:"ranking-city",children:U.label})}),D.jsx("div",{className:"ranking-aqi",children:U.aqi})]},U.label))]})]}),D.jsx("div",{className:"map-card",children:D.jsx("div",{className:"map-placeholder",children:"Add VITE_GOOGLE_MAPS_API_KEY in a .env file to see Google Maps."})})]})]})]}),D.jsxs("section",{className:"section",children:[D.jsxs("div",{className:"section-heading",children:[D.jsxs("div",{children:[D.jsx("p",{className:"section-label",children:"Automation & alerts"}),D.jsx("h2",{className:"section-title",children:"Proactive monitoring"})]}),D.jsx("p",{className:"section-subtitle",children:"Tune refresh cadence, custom alerts, and review recent spikes without touching the map."})]}),D.jsxs("div",{className:"automation-grid",children:[D.jsxs("div",{className:"card automation-card",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("div",{className:"label",children:"Auto refresh"}),D.jsx("span",{className:`status-chip ${q?"active":""}`,children:q?"Running":"Manual"})]}),D.jsx("p",{className:"subtle",children:"Automatically capture AQI snapshots from your live location even when you forget."}),D.jsx("button",{className:`toggle ${q?"active":""}`,onClick:()=>te(U=>!U),children:q?"Disable auto-refresh":"Enable auto-refresh"}),D.jsx("label",{className:"automation-label",htmlFor:"cadence-select",children:"Refresh cadence"}),D.jsx("select",{id:"cadence-select",className:"automation-select",value:ee,onChange:U=>Y(Number(U.target.value)),children:[5,10,15,30,60].map(U=>D.jsxs("option",{value:U,children:["Every ",U," min"]},U))}),D.jsxs("div",{className:"subtle",children:["Next auto refresh: ",le||"Manual only"]})]}),D.jsxs("div",{className:"card automation-card",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("div",{className:"label",children:"Alert threshold"}),D.jsxs("span",{className:"alert-pill",children:[Q," AQI"]})]}),D.jsx("p",{className:"subtle",children:"We notify you the moment AQI exceeds your personal limit. Lower it for sensitive groups."}),D.jsx("input",{type:"range",min:"50",max:"400",step:"10",value:Q,className:"threshold-slider",onChange:U=>ie(Number(U.target.value))}),D.jsxs("div",{className:"threshold-scale",children:[D.jsx("span",{children:"50"}),D.jsx("span",{children:"200"}),D.jsx("span",{children:"400"})]}),D.jsxs("p",{className:"subtle",children:["Alert fires at  ",Q," AQI."]})]}),D.jsxs("div",{className:"card automation-card alert-log-card",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("div",{className:"label",children:"Recent alerts"}),D.jsx("div",{className:"subtle",children:j.length?`Last spike  ${j[0].observedAt}`:"No alerts yet"})]}),D.jsx("div",{className:"alert-log",children:j.length===0?D.jsx("div",{className:"empty-state",children:"Threshold alerts will appear here."}):j.map(U=>D.jsxs("div",{className:"alert-log-entry",children:[D.jsxs("div",{children:[D.jsx("div",{className:"alert-log-title",children:U.label}),D.jsxs("div",{className:"alert-log-meta",children:["Observed at ",U.observedAt]})]}),D.jsx("div",{className:"alert-log-value",children:U.aqi})]},U.id))})]})]})]}),n!==null&&D.jsxs("section",{className:"section",children:[D.jsxs("div",{className:"section-heading",children:[D.jsxs("div",{children:[D.jsx("p",{className:"section-label",children:"Health forecasting"}),D.jsx("h2",{className:"section-title",children:"Deep analytics"})]}),D.jsx("p",{className:"section-subtitle",children:"Trend lines, risk bars, and disease guidance mirror the latest AQI."})]}),D.jsxs("div",{className:"analytics-grid",children:[D.jsxs("div",{className:"card featured",style:{borderTop:`8px solid ${h}`},children:[D.jsx("div",{className:"aqi",style:{color:h},children:n}),D.jsx("div",{className:"advice",children:s}),D.jsx("div",{className:"prevention",children:o})]}),D.jsx("div",{className:"chart-card wide",children:l&&D.jsx(VD,{data:l,options:{responsive:!0,plugins:{legend:{display:!1}}}})}),J&&D.jsxs("div",{className:"chart-card donut-card",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("div",{className:"label",children:"Pollutant composition"}),D.jsx("div",{className:"subtle",children:"Derived from latest IAQI feed"})]}),D.jsx(jD,{data:J,options:{plugins:{legend:{position:"bottom",labels:{color:"#e2e8f0"}}},cutout:"60%"}})]}),Se&&D.jsxs("div",{className:"paired-column",children:[D.jsxs("div",{className:"chart-card risk-visual",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("div",{className:"label",children:"Health risk when AQI is high"}),D.jsx("div",{className:"subtle",children:"Auto-adjusts based on current AQI"})]}),D.jsx(FD,{data:Se,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:U=>`${U}%`}}}}})]}),D.jsxs("div",{className:"card list-card prevention-card",children:[D.jsx("div",{className:"label",children:"Diseases & prevention"}),D.jsx("div",{className:"disease-list",children:de.map(U=>D.jsxs("div",{className:"disease-item",children:[D.jsx("div",{className:"disease-name",children:U.name}),D.jsx("div",{className:"disease-prevention",children:U.prevention})]},U.name))})]})]}),D.jsxs("div",{className:"card action-card",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("div",{className:"label",children:"Readiness checklist"}),D.jsx("div",{className:"subtle",children:"Adaptive guidance for your current AQI"})]}),D.jsx("div",{className:"checklist",children:Vr.map(U=>D.jsxs("div",{className:`checklist-item ${U.status}`,children:[D.jsx("span",{className:"check-icon","aria-hidden":"true"}),D.jsxs("div",{children:[D.jsx("div",{className:"checklist-label",children:U.label}),D.jsx("div",{className:"checklist-hint",children:U.hint})]})]},U.label))})]})]})]})]})}xf.createRoot(document.getElementById("root")).render(D.jsx(jk.StrictMode,{children:D.jsx(w5,{})}));
