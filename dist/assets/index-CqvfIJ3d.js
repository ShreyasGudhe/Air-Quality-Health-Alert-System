var Fk=Object.defineProperty;var jk=(t,e,n)=>e in t?Fk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>jk(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Bk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ab={exports:{}},Fh={},Ib={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),zk=Symbol.for("react.portal"),Uk=Symbol.for("react.fragment"),$k=Symbol.for("react.strict_mode"),Hk=Symbol.for("react.profiler"),Wk=Symbol.for("react.provider"),qk=Symbol.for("react.context"),Gk=Symbol.for("react.forward_ref"),Kk=Symbol.for("react.suspense"),Qk=Symbol.for("react.memo"),Yk=Symbol.for("react.lazy"),uy=Symbol.iterator;function Xk(t){return t===null||typeof t!="object"?null:(t=uy&&t[uy]||t["@@iterator"],typeof t=="function"?t:null)}var Mb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rb=Object.assign,Ob={};function Ro(t,e,n){this.props=t,this.context=e,this.refs=Ob,this.updater=n||Mb}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Db(){}Db.prototype=Ro.prototype;function xg(t,e,n){this.props=t,this.context=e,this.refs=Ob,this.updater=n||Mb}var Sg=xg.prototype=new Db;Sg.constructor=xg;Rb(Sg,Ro.prototype);Sg.isPureReactComponent=!0;var cy=Array.isArray,Nb=Object.prototype.hasOwnProperty,Cg={current:null},Vb={key:!0,ref:!0,__self:!0,__source:!0};function Fb(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Nb.call(e,i)&&!Vb.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:jl,type:t,key:r,ref:o,props:s,_owner:Cg.current}}function Zk(t,e){return{$$typeof:jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tg(t){return typeof t=="object"&&t!==null&&t.$$typeof===jl}function Jk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hy=/\/+/g;function Fd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jk(""+t.key):e.toString(36)}function rc(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jl:case zk:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+Fd(o,0):i,cy(s)?(n="",t!=null&&(n=t.replace(hy,"$&/")+"/"),rc(s,e,n,"",function(u){return u})):s!=null&&(Tg(s)&&(s=Zk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",cy(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+Fd(r,a);o+=rc(r,e,n,l,s)}else if(l=Xk(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+Fd(r,a++),o+=rc(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wu(t,e,n){if(t==null)return t;var i=[],s=0;return rc(t,i,"","",function(r){return e.call(n,r,s++)}),i}function eP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},oc={transition:null},tP={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:oc,ReactCurrentOwner:Cg};function jb(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:wu,forEach:function(t,e,n){wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wu(t,function(){e++}),e},toArray:function(t){return wu(t,function(e){return e})||[]},only:function(t){if(!Tg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Ro;we.Fragment=Uk;we.Profiler=Hk;we.PureComponent=xg;we.StrictMode=$k;we.Suspense=Kk;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tP;we.act=jb;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Rb({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Cg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Nb.call(e,l)&&!Vb.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:jl,type:t.type,key:s,ref:r,props:i,_owner:o}};we.createContext=function(t){return t={$$typeof:qk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wk,_context:t},t.Consumer=t};we.createElement=Fb;we.createFactory=function(t){var e=Fb.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:Gk,render:t}};we.isValidElement=Tg;we.lazy=function(t){return{$$typeof:Yk,_payload:{_status:-1,_result:t},_init:eP}};we.memo=function(t,e){return{$$typeof:Qk,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=oc.transition;oc.transition={};try{t()}finally{oc.transition=e}};we.unstable_act=jb;we.useCallback=function(t,e){return Gt.current.useCallback(t,e)};we.useContext=function(t){return Gt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Gt.current.useEffect(t,e)};we.useId=function(){return Gt.current.useId()};we.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Gt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};we.useRef=function(t){return Gt.current.useRef(t)};we.useState=function(t){return Gt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Gt.current.useTransition()};we.version="18.3.1";Ib.exports=we;var y=Ib.exports;const nP=Bk(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP=y,sP=Symbol.for("react.element"),rP=Symbol.for("react.fragment"),oP=Object.prototype.hasOwnProperty,aP=iP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lP={key:!0,ref:!0,__self:!0,__source:!0};function Bb(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)oP.call(e,i)&&!lP.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:sP,type:t,key:r,ref:o,props:s,_owner:aP.current}}Fh.Fragment=rP;Fh.jsx=Bb;Fh.jsxs=Bb;Ab.exports=Fh;var se=Ab.exports,zf={},zb={exports:{}},pn={},Ub={exports:{}},$b={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var G=F.length;F.push(H);e:for(;0<G;){var ee=G-1>>>1,Z=F[ee];if(0<s(Z,H))F[ee]=H,F[G]=Z,G=ee;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var H=F[0],G=F.pop();if(G!==H){F[0]=G;e:for(var ee=0,Z=F.length,K=Z>>>1;ee<K;){var oe=2*(ee+1)-1,j=F[oe],ue=oe+1,Se=F[ue];if(0>s(j,G))ue<Z&&0>s(Se,j)?(F[ee]=Se,F[ue]=G,ee=ue):(F[ee]=j,F[oe]=G,ee=oe);else if(ue<Z&&0>s(Se,G))F[ee]=Se,F[ue]=G,ee=ue;else break e}}return H}function s(F,H){var G=F.sortIndex-H.sortIndex;return G!==0?G:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,p=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var H=n(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=F)i(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function k(F){if(v=!1,T(F),!p)if(n(l)!==null)p=!0,X(P);else{var H=n(u);H!==null&&J(k,H.startTime-F)}}function P(F,H){p=!1,v&&(v=!1,b(x),x=-1),g=!0;var G=f;try{for(T(H),d=n(l);d!==null&&(!(d.expirationTime>H)||F&&!M());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var Z=ee(d.expirationTime<=H);H=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&i(l),T(H)}else i(l);d=n(l)}if(d!==null)var K=!0;else{var oe=n(u);oe!==null&&J(k,oe.startTime-H),K=!1}return K}finally{d=null,f=G,g=!1}}var R=!1,S=null,x=-1,C=5,L=-1;function M(){return!(t.unstable_now()-L<C)}function O(){if(S!==null){var F=t.unstable_now();L=F;var H=!0;try{H=S(!0,F)}finally{H?I():(R=!1,S=null)}}else R=!1}var I;if(typeof _=="function")I=function(){_(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=O,I=function(){q.postMessage(null)}}else I=function(){E(O,0)};function X(F){S=F,R||(R=!0,I())}function J(F,H){x=E(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,X(P))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var G=f;f=H;try{return F()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=f;f=F;try{return H()}finally{f=G}},t.unstable_scheduleCallback=function(F,H,G){var ee=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,F={id:c++,callback:H,priorityLevel:F,startTime:G,expirationTime:Z,sortIndex:-1},G>ee?(F.sortIndex=G,e(u,F),n(l)===null&&F===n(u)&&(v?(b(x),x=-1):v=!0,J(k,G-ee))):(F.sortIndex=Z,e(l,F),p||g||(p=!0,X(P))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var H=f;return function(){var G=f;f=H;try{return F.apply(this,arguments)}finally{f=G}}}})($b);Ub.exports=$b;var uP=Ub.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=y,fn=uP;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hb=new Set,il={};function vr(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for(il[t]=e,t=0;t<e.length;t++)Hb.add(e[t])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uf=Object.prototype.hasOwnProperty,hP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dy={},fy={};function dP(t){return Uf.call(fy,t)?!0:Uf.call(dy,t)?!1:hP.test(t)?fy[t]=!0:(dy[t]=!0,!1)}function fP(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pP(t,e,n,i){if(e===null||typeof e>"u"||fP(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var kg=/[\-:]([a-z])/g;function Pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kg,Pg);Pt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kg,Pg);Pt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kg,Pg);Pt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lg(t,e,n,i){var s=Pt.hasOwnProperty(e)?Pt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pP(e,n,s,i)&&(n=null),i||s===null?dP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ci=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),Wb=Symbol.for("react.provider"),qb=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Mg=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),Gb=Symbol.for("react.offscreen"),py=Symbol.iterator;function ra(t){return t===null||typeof t!="object"?null:(t=py&&t[py]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,jd;function ba(t){if(jd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jd=e&&e[1]||""}return`
`+jd+t}var Bd=!1;function zd(t,e){if(!t||Bd)return"";Bd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ba(t):""}function gP(t){switch(t.tag){case 5:return ba(t.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return t=zd(t.type,!1),t;case 11:return t=zd(t.type.render,!1),t;case 1:return t=zd(t.type,!0),t;default:return""}}function qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wr:return"Fragment";case Hr:return"Portal";case $f:return"Profiler";case Ag:return"StrictMode";case Hf:return"Suspense";case Wf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qb:return(t.displayName||"Context")+".Consumer";case Wb:return(t._context.displayName||"Context")+".Provider";case Ig:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mg:return e=t.displayName||null,e!==null?e:qf(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return qf(t(e))}catch{}}return null}function mP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(e);case 8:return e===Ag?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vP(t){var e=Kb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bu(t){t._valueTracker||(t._valueTracker=vP(t))}function Qb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Kb(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gf(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gy(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yb(t,e){e=e.checked,e!=null&&Lg(t,"checked",e,!1)}function Kf(t,e){Yb(t,e);var n=ds(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qf(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function my(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qf(t,e,n){(e!=="number"||Rc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function io(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(xa(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function Xb(t,e){var n=ds(e.value),i=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function yy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,Jb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yP=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(t){yP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Da[e]=Da[t]})});function ex(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Da.hasOwnProperty(t)&&Da[t]?(""+e).trim():e+"px"}function tx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=ex(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var _P=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(t,e){if(e){if(_P[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function Rg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tp=null,so=null,ro=null;function _y(t){if(t=Ul(t)){if(typeof tp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=$h(e),tp(t.stateNode,t.type,e))}}function nx(t){so?ro?ro.push(t):ro=[t]:so=t}function ix(){if(so){var t=so,e=ro;if(ro=so=null,_y(t),e)for(t=0;t<e.length;t++)_y(e[t])}}function sx(t,e){return t(e)}function rx(){}var Ud=!1;function ox(t,e,n){if(Ud)return t(e,n);Ud=!0;try{return sx(t,e,n)}finally{Ud=!1,(so!==null||ro!==null)&&(rx(),ix())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var i=$h(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var np=!1;if(yi)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){np=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{np=!1}function wP(t,e,n,i,s,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Na=!1,Oc=null,Dc=!1,ip=null,EP={onError:function(t){Na=!0,Oc=t}};function bP(t,e,n,i,s,r,o,a,l){Na=!1,Oc=null,wP.apply(EP,arguments)}function xP(t,e,n,i,s,r,o,a,l){if(bP.apply(this,arguments),Na){if(Na){var u=Oc;Na=!1,Oc=null}else throw Error(W(198));Dc||(Dc=!0,ip=u)}}function yr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ax(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wy(t){if(yr(t)!==t)throw Error(W(188))}function SP(t){var e=t.alternate;if(!e){if(e=yr(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return wy(s),t;if(r===i)return wy(s),e;r=r.sibling}throw Error(W(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==i)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function lx(t){return t=SP(t),t!==null?ux(t):null}function ux(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ux(t);if(e!==null)return e;t=t.sibling}return null}var cx=fn.unstable_scheduleCallback,Ey=fn.unstable_cancelCallback,CP=fn.unstable_shouldYield,TP=fn.unstable_requestPaint,st=fn.unstable_now,kP=fn.unstable_getCurrentPriorityLevel,Og=fn.unstable_ImmediatePriority,hx=fn.unstable_UserBlockingPriority,Nc=fn.unstable_NormalPriority,PP=fn.unstable_LowPriority,dx=fn.unstable_IdlePriority,jh=null,Kn=null;function LP(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:MP,AP=Math.log,IP=Math.LN2;function MP(t){return t>>>=0,t===0?32:31-(AP(t)/IP|0)|0}var Su=64,Cu=4194304;function Sa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=Sa(a):(r&=o,r!==0&&(i=Sa(r)))}else o=n&~s,o!==0?i=Sa(o):r!==0&&(i=Sa(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Rn(e),s=1<<n,i|=t[n],e&=~s;return i}function RP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OP(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Rn(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=RP(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function sp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fx(){var t=Su;return Su<<=1,!(Su&4194240)&&(Su=64),t}function $d(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function DP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rn(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Dg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Rn(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var De=0;function px(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gx,Ng,mx,vx,yx,rp=!1,Tu=[],Zi=null,Ji=null,es=null,ol=new Map,al=new Map,zi=[],NP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function by(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function aa(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Ul(e),e!==null&&Ng(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function VP(t,e,n,i,s){switch(e){case"focusin":return Zi=aa(Zi,t,e,n,i,s),!0;case"dragenter":return Ji=aa(Ji,t,e,n,i,s),!0;case"mouseover":return es=aa(es,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return ol.set(r,aa(ol.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,al.set(r,aa(al.get(r)||null,t,e,n,i,s)),!0}return!1}function _x(t){var e=Ys(t.target);if(e!==null){var n=yr(e);if(n!==null){if(e=n.tag,e===13){if(e=ax(n),e!==null){t.blockedOn=e,yx(t.priority,function(){mx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ep=i,n.target.dispatchEvent(i),ep=null}else return e=Ul(n),e!==null&&Ng(e),t.blockedOn=n,!1;e.shift()}return!0}function xy(t,e,n){ac(t)&&n.delete(e)}function FP(){rp=!1,Zi!==null&&ac(Zi)&&(Zi=null),Ji!==null&&ac(Ji)&&(Ji=null),es!==null&&ac(es)&&(es=null),ol.forEach(xy),al.forEach(xy)}function la(t,e){t.blockedOn===e&&(t.blockedOn=null,rp||(rp=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,FP)))}function ll(t){function e(s){return la(s,t)}if(0<Tu.length){la(Tu[0],t);for(var n=1;n<Tu.length;n++){var i=Tu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Zi!==null&&la(Zi,t),Ji!==null&&la(Ji,t),es!==null&&la(es,t),ol.forEach(e),al.forEach(e),n=0;n<zi.length;n++)i=zi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)_x(n),n.blockedOn===null&&zi.shift()}var oo=Ci.ReactCurrentBatchConfig,Fc=!0;function jP(t,e,n,i){var s=De,r=oo.transition;oo.transition=null;try{De=1,Vg(t,e,n,i)}finally{De=s,oo.transition=r}}function BP(t,e,n,i){var s=De,r=oo.transition;oo.transition=null;try{De=4,Vg(t,e,n,i)}finally{De=s,oo.transition=r}}function Vg(t,e,n,i){if(Fc){var s=op(t,e,n,i);if(s===null)Jd(t,e,i,jc,n),by(t,i);else if(VP(s,t,e,n,i))i.stopPropagation();else if(by(t,i),e&4&&-1<NP.indexOf(t)){for(;s!==null;){var r=Ul(s);if(r!==null&&gx(r),r=op(t,e,n,i),r===null&&Jd(t,e,i,jc,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Jd(t,e,i,null,n)}}var jc=null;function op(t,e,n,i){if(jc=null,t=Rg(i),t=Ys(t),t!==null)if(e=yr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ax(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jc=t,null}function wx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kP()){case Og:return 1;case hx:return 4;case Nc:case PP:return 16;case dx:return 536870912;default:return 16}default:return 16}}var $i=null,Fg=null,lc=null;function Ex(){if(lc)return lc;var t,e=Fg,n=e.length,i,s="value"in $i?$i.value:$i.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return lc=s.slice(t,1<i?1-i:void 0)}function uc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ku(){return!0}function Sy(){return!1}function gn(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ku:Sy,this.isPropagationStopped=Sy,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=gn(Oo),zl=Ye({},Oo,{view:0,detail:0}),zP=gn(zl),Hd,Wd,ua,Bh=Ye({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(Hd=t.screenX-ua.screenX,Wd=t.screenY-ua.screenY):Wd=Hd=0,ua=t),Hd)},movementY:function(t){return"movementY"in t?t.movementY:Wd}}),Cy=gn(Bh),UP=Ye({},Bh,{dataTransfer:0}),$P=gn(UP),HP=Ye({},zl,{relatedTarget:0}),qd=gn(HP),WP=Ye({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),qP=gn(WP),GP=Ye({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KP=gn(GP),QP=Ye({},Oo,{data:0}),Ty=gn(QP),YP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZP[t])?!!e[t]:!1}function Bg(){return JP}var eL=Ye({},zl,{key:function(t){if(t.key){var e=YP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(t){return t.type==="keypress"?uc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tL=gn(eL),nL=Ye({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=gn(nL),iL=Ye({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),sL=gn(iL),rL=Ye({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oL=gn(rL),aL=Ye({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lL=gn(aL),uL=[9,13,27,32],zg=yi&&"CompositionEvent"in window,Va=null;yi&&"documentMode"in document&&(Va=document.documentMode);var cL=yi&&"TextEvent"in window&&!Va,bx=yi&&(!zg||Va&&8<Va&&11>=Va),Py=" ",Ly=!1;function xx(t,e){switch(t){case"keyup":return uL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function hL(t,e){switch(t){case"compositionend":return Sx(e);case"keypress":return e.which!==32?null:(Ly=!0,Py);case"textInput":return t=e.data,t===Py&&Ly?null:t;default:return null}}function dL(t,e){if(qr)return t==="compositionend"||!zg&&xx(t,e)?(t=Ex(),lc=Fg=$i=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bx&&e.locale!=="ko"?null:e.data;default:return null}}var fL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fL[t.type]:e==="textarea"}function Cx(t,e,n,i){nx(i),e=Bc(e,"onChange"),0<e.length&&(n=new jg("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Fa=null,ul=null;function pL(t){Nx(t,0)}function zh(t){var e=Qr(t);if(Qb(e))return t}function gL(t,e){if(t==="change")return e}var Tx=!1;if(yi){var Gd;if(yi){var Kd="oninput"in document;if(!Kd){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),Kd=typeof Iy.oninput=="function"}Gd=Kd}else Gd=!1;Tx=Gd&&(!document.documentMode||9<document.documentMode)}function My(){Fa&&(Fa.detachEvent("onpropertychange",kx),ul=Fa=null)}function kx(t){if(t.propertyName==="value"&&zh(ul)){var e=[];Cx(e,ul,t,Rg(t)),ox(pL,e)}}function mL(t,e,n){t==="focusin"?(My(),Fa=e,ul=n,Fa.attachEvent("onpropertychange",kx)):t==="focusout"&&My()}function vL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zh(ul)}function yL(t,e){if(t==="click")return zh(e)}function _L(t,e){if(t==="input"||t==="change")return zh(e)}function wL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:wL;function cl(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Uf.call(e,s)||!Nn(t[s],e[s]))return!1}return!0}function Ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oy(t,e){var n=Ry(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ry(n)}}function Px(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Px(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lx(){for(var t=window,e=Rc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rc(t.document)}return e}function Ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EL(t){var e=Lx(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Px(n.ownerDocument.documentElement,n)){if(i!==null&&Ug(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=Oy(n,r);var o=Oy(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bL=yi&&"documentMode"in document&&11>=document.documentMode,Gr=null,ap=null,ja=null,lp=!1;function Dy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||Gr==null||Gr!==Rc(i)||(i=Gr,"selectionStart"in i&&Ug(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ja&&cl(ja,i)||(ja=i,i=Bc(ap,"onSelect"),0<i.length&&(e=new jg("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Gr)))}function Pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kr={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},Qd={},Ax={};yi&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Uh(t){if(Qd[t])return Qd[t];if(!Kr[t])return t;var e=Kr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ax)return Qd[t]=e[n];return t}var Ix=Uh("animationend"),Mx=Uh("animationiteration"),Rx=Uh("animationstart"),Ox=Uh("transitionend"),Dx=new Map,Ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){Dx.set(t,e),vr(e,[t])}for(var Yd=0;Yd<Ny.length;Yd++){var Xd=Ny[Yd],xL=Xd.toLowerCase(),SL=Xd[0].toUpperCase()+Xd.slice(1);xs(xL,"on"+SL)}xs(Ix,"onAnimationEnd");xs(Mx,"onAnimationIteration");xs(Rx,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(Ox,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function Vy(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,xP(i,e,void 0,t),t.currentTarget=null}function Nx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Vy(s,a,u),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Vy(s,a,u),r=l}}}if(Dc)throw t=ip,Dc=!1,ip=null,t}function ze(t,e){var n=e[fp];n===void 0&&(n=e[fp]=new Set);var i=t+"__bubble";n.has(i)||(Vx(e,t,2,!1),n.add(i))}function Zd(t,e,n){var i=0;e&&(i|=4),Vx(n,t,i,e)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[Lu]){t[Lu]=!0,Hb.forEach(function(n){n!=="selectionchange"&&(CL.has(n)||Zd(n,!1,t),Zd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lu]||(e[Lu]=!0,Zd("selectionchange",!1,e))}}function Vx(t,e,n,i){switch(wx(e)){case 1:var s=jP;break;case 4:s=BP;break;default:s=Vg}n=s.bind(null,e,n,t),s=void 0,!np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jd(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ys(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}ox(function(){var u=r,c=Rg(n),d=[];e:{var f=Dx.get(t);if(f!==void 0){var g=jg,p=t;switch(t){case"keypress":if(uc(n)===0)break e;case"keydown":case"keyup":g=tL;break;case"focusin":p="focus",g=qd;break;case"focusout":p="blur",g=qd;break;case"beforeblur":case"afterblur":g=qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=sL;break;case Ix:case Mx:case Rx:g=qP;break;case Ox:g=oL;break;case"scroll":g=zP;break;case"wheel":g=lL;break;case"copy":case"cut":case"paste":g=KP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ky}var v=(e&4)!==0,E=!v&&t==="scroll",b=v?f!==null?f+"Capture":null:f;v=[];for(var _=u,T;_!==null;){T=_;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,b!==null&&(k=rl(_,b),k!=null&&v.push(dl(_,k,T)))),E)break;_=_.return}0<v.length&&(f=new g(f,p,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==ep&&(p=n.relatedTarget||n.fromElement)&&(Ys(p)||p[_i]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?Ys(p):null,p!==null&&(E=yr(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(v=Cy,k="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=ky,k="onPointerLeave",b="onPointerEnter",_="pointer"),E=g==null?f:Qr(g),T=p==null?f:Qr(p),f=new v(k,_+"leave",g,n,c),f.target=E,f.relatedTarget=T,k=null,Ys(c)===u&&(v=new v(b,_+"enter",p,n,c),v.target=T,v.relatedTarget=E,k=v),E=k,g&&p)t:{for(v=g,b=p,_=0,T=v;T;T=Vr(T))_++;for(T=0,k=b;k;k=Vr(k))T++;for(;0<_-T;)v=Vr(v),_--;for(;0<T-_;)b=Vr(b),T--;for(;_--;){if(v===b||b!==null&&v===b.alternate)break t;v=Vr(v),b=Vr(b)}v=null}else v=null;g!==null&&Fy(d,f,g,v,!1),p!==null&&E!==null&&Fy(d,E,p,v,!0)}}e:{if(f=u?Qr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var P=gL;else if(Ay(f))if(Tx)P=_L;else{P=vL;var R=mL}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=yL);if(P&&(P=P(t,u))){Cx(d,P,n,c);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Qf(f,"number",f.value)}switch(R=u?Qr(u):window,t){case"focusin":(Ay(R)||R.contentEditable==="true")&&(Gr=R,ap=u,ja=null);break;case"focusout":ja=ap=Gr=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,Dy(d,n,c);break;case"selectionchange":if(bL)break;case"keydown":case"keyup":Dy(d,n,c)}var S;if(zg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else qr?xx(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(bx&&n.locale!=="ko"&&(qr||x!=="onCompositionStart"?x==="onCompositionEnd"&&qr&&(S=Ex()):($i=c,Fg="value"in $i?$i.value:$i.textContent,qr=!0)),R=Bc(u,x),0<R.length&&(x=new Ty(x,t,null,n,c),d.push({event:x,listeners:R}),S?x.data=S:(S=Sx(n),S!==null&&(x.data=S)))),(S=cL?hL(t,n):dL(t,n))&&(u=Bc(u,"onBeforeInput"),0<u.length&&(c=new Ty("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}Nx(d,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=rl(t,n),r!=null&&i.unshift(dl(t,r,s)),r=rl(t,e),r!=null&&i.push(dl(t,r,s))),t=t.return}return i}function Vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fy(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,s?(l=rl(n,r),l!=null&&o.unshift(dl(n,l,a))):s||(l=rl(n,r),l!=null&&o.push(dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TL=/\r\n?/g,kL=/\u0000|\uFFFD/g;function jy(t){return(typeof t=="string"?t:""+t).replace(TL,`
`).replace(kL,"")}function Au(t,e,n){if(e=jy(e),jy(t)!==e&&n)throw Error(W(425))}function zc(){}var up=null,cp=null;function hp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dp=typeof setTimeout=="function"?setTimeout:void 0,PL=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,LL=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(AL)}:dp;function AL(t){setTimeout(function(){throw t})}function ef(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),ll(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);ll(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Do,fl="__reactProps$"+Do,_i="__reactContainer$"+Do,fp="__reactEvents$"+Do,IL="__reactListeners$"+Do,ML="__reactHandles$"+Do;function Ys(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zy(t);t!==null;){if(n=t[Gn])return n;t=zy(t)}return e}t=n,n=t.parentNode}return null}function Ul(t){return t=t[Gn]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function $h(t){return t[fl]||null}var pp=[],Yr=-1;function Ss(t){return{current:t}}function $e(t){0>Yr||(t.current=pp[Yr],pp[Yr]=null,Yr--)}function je(t,e){Yr++,pp[Yr]=t.current,t.current=e}var fs={},Ut=Ss(fs),en=Ss(!1),ar=fs;function vo(t,e){var n=t.type.contextTypes;if(!n)return fs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tn(t){return t=t.childContextTypes,t!=null}function Uc(){$e(en),$e(Ut)}function Uy(t,e,n){if(Ut.current!==fs)throw Error(W(168));je(Ut,e),je(en,n)}function Fx(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(W(108,mP(t)||"Unknown",s));return Ye({},n,i)}function $c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,ar=Ut.current,je(Ut,t),je(en,en.current),!0}function $y(t,e,n){var i=t.stateNode;if(!i)throw Error(W(169));n?(t=Fx(t,e,ar),i.__reactInternalMemoizedMergedChildContext=t,$e(en),$e(Ut),je(Ut,t)):$e(en),je(en,n)}var ui=null,Hh=!1,tf=!1;function jx(t){ui===null?ui=[t]:ui.push(t)}function RL(t){Hh=!0,jx(t)}function Cs(){if(!tf&&ui!==null){tf=!0;var t=0,e=De;try{var n=ui;for(De=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ui=null,Hh=!1}catch(s){throw ui!==null&&(ui=ui.slice(t+1)),cx(Og,Cs),s}finally{De=e,tf=!1}}return null}var Xr=[],Zr=0,Hc=null,Wc=0,yn=[],_n=0,lr=null,hi=1,di="";function Hs(t,e){Xr[Zr++]=Wc,Xr[Zr++]=Hc,Hc=t,Wc=e}function Bx(t,e,n){yn[_n++]=hi,yn[_n++]=di,yn[_n++]=lr,lr=t;var i=hi;t=di;var s=32-Rn(i)-1;i&=~(1<<s),n+=1;var r=32-Rn(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,hi=1<<32-Rn(e)+s|n<<s|i,di=r+t}else hi=1<<r|n<<s|i,di=t}function $g(t){t.return!==null&&(Hs(t,1),Bx(t,1,0))}function Hg(t){for(;t===Hc;)Hc=Xr[--Zr],Xr[Zr]=null,Wc=Xr[--Zr],Xr[Zr]=null;for(;t===lr;)lr=yn[--_n],yn[_n]=null,di=yn[--_n],yn[_n]=null,hi=yn[--_n],yn[_n]=null}var dn=null,hn=null,We=!1,An=null;function zx(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,hn=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lr!==null?{id:hi,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,hn=null,!0):!1;default:return!1}}function gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mp(t){if(We){var e=hn;if(e){var n=e;if(!Hy(t,e)){if(gp(t))throw Error(W(418));e=ts(n.nextSibling);var i=dn;e&&Hy(t,e)?zx(i,n):(t.flags=t.flags&-4097|2,We=!1,dn=t)}}else{if(gp(t))throw Error(W(418));t.flags=t.flags&-4097|2,We=!1,dn=t}}}function Wy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Iu(t){if(t!==dn)return!1;if(!We)return Wy(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hp(t.type,t.memoizedProps)),e&&(e=hn)){if(gp(t))throw Ux(),Error(W(418));for(;e;)zx(t,e),e=ts(e.nextSibling)}if(Wy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=dn?ts(t.stateNode.nextSibling):null;return!0}function Ux(){for(var t=hn;t;)t=ts(t.nextSibling)}function yo(){hn=dn=null,We=!1}function Wg(t){An===null?An=[t]:An.push(t)}var OL=Ci.ReactCurrentBatchConfig;function ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var i=n.stateNode}if(!i)throw Error(W(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Mu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qy(t){var e=t._init;return e(t._payload)}function $x(t){function e(b,_){if(t){var T=b.deletions;T===null?(b.deletions=[_],b.flags|=16):T.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function i(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function s(b,_){return b=rs(b,_),b.index=0,b.sibling=null,b}function r(b,_,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<_?(b.flags|=2,_):T):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,_,T,k){return _===null||_.tag!==6?(_=uf(T,b.mode,k),_.return=b,_):(_=s(_,T),_.return=b,_)}function l(b,_,T,k){var P=T.type;return P===Wr?c(b,_,T.props.children,k,T.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Fi&&qy(P)===_.type)?(k=s(_,T.props),k.ref=ca(b,_,T),k.return=b,k):(k=mc(T.type,T.key,T.props,null,b.mode,k),k.ref=ca(b,_,T),k.return=b,k)}function u(b,_,T,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=cf(T,b.mode,k),_.return=b,_):(_=s(_,T.children||[]),_.return=b,_)}function c(b,_,T,k,P){return _===null||_.tag!==7?(_=ir(T,b.mode,k,P),_.return=b,_):(_=s(_,T),_.return=b,_)}function d(b,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=uf(""+_,b.mode,T),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eu:return T=mc(_.type,_.key,_.props,null,b.mode,T),T.ref=ca(b,null,_),T.return=b,T;case Hr:return _=cf(_,b.mode,T),_.return=b,_;case Fi:var k=_._init;return d(b,k(_._payload),T)}if(xa(_)||ra(_))return _=ir(_,b.mode,T,null),_.return=b,_;Mu(b,_)}return null}function f(b,_,T,k){var P=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:a(b,_,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Eu:return T.key===P?l(b,_,T,k):null;case Hr:return T.key===P?u(b,_,T,k):null;case Fi:return P=T._init,f(b,_,P(T._payload),k)}if(xa(T)||ra(T))return P!==null?null:c(b,_,T,k,null);Mu(b,T)}return null}function g(b,_,T,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(T)||null,a(_,b,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Eu:return b=b.get(k.key===null?T:k.key)||null,l(_,b,k,P);case Hr:return b=b.get(k.key===null?T:k.key)||null,u(_,b,k,P);case Fi:var R=k._init;return g(b,_,T,R(k._payload),P)}if(xa(k)||ra(k))return b=b.get(T)||null,c(_,b,k,P,null);Mu(_,k)}return null}function p(b,_,T,k){for(var P=null,R=null,S=_,x=_=0,C=null;S!==null&&x<T.length;x++){S.index>x?(C=S,S=null):C=S.sibling;var L=f(b,S,T[x],k);if(L===null){S===null&&(S=C);break}t&&S&&L.alternate===null&&e(b,S),_=r(L,_,x),R===null?P=L:R.sibling=L,R=L,S=C}if(x===T.length)return n(b,S),We&&Hs(b,x),P;if(S===null){for(;x<T.length;x++)S=d(b,T[x],k),S!==null&&(_=r(S,_,x),R===null?P=S:R.sibling=S,R=S);return We&&Hs(b,x),P}for(S=i(b,S);x<T.length;x++)C=g(S,b,x,T[x],k),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?x:C.key),_=r(C,_,x),R===null?P=C:R.sibling=C,R=C);return t&&S.forEach(function(M){return e(b,M)}),We&&Hs(b,x),P}function v(b,_,T,k){var P=ra(T);if(typeof P!="function")throw Error(W(150));if(T=P.call(T),T==null)throw Error(W(151));for(var R=P=null,S=_,x=_=0,C=null,L=T.next();S!==null&&!L.done;x++,L=T.next()){S.index>x?(C=S,S=null):C=S.sibling;var M=f(b,S,L.value,k);if(M===null){S===null&&(S=C);break}t&&S&&M.alternate===null&&e(b,S),_=r(M,_,x),R===null?P=M:R.sibling=M,R=M,S=C}if(L.done)return n(b,S),We&&Hs(b,x),P;if(S===null){for(;!L.done;x++,L=T.next())L=d(b,L.value,k),L!==null&&(_=r(L,_,x),R===null?P=L:R.sibling=L,R=L);return We&&Hs(b,x),P}for(S=i(b,S);!L.done;x++,L=T.next())L=g(S,b,x,L.value,k),L!==null&&(t&&L.alternate!==null&&S.delete(L.key===null?x:L.key),_=r(L,_,x),R===null?P=L:R.sibling=L,R=L);return t&&S.forEach(function(O){return e(b,O)}),We&&Hs(b,x),P}function E(b,_,T,k){if(typeof T=="object"&&T!==null&&T.type===Wr&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Eu:e:{for(var P=T.key,R=_;R!==null;){if(R.key===P){if(P=T.type,P===Wr){if(R.tag===7){n(b,R.sibling),_=s(R,T.props.children),_.return=b,b=_;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Fi&&qy(P)===R.type){n(b,R.sibling),_=s(R,T.props),_.ref=ca(b,R,T),_.return=b,b=_;break e}n(b,R);break}else e(b,R);R=R.sibling}T.type===Wr?(_=ir(T.props.children,b.mode,k,T.key),_.return=b,b=_):(k=mc(T.type,T.key,T.props,null,b.mode,k),k.ref=ca(b,_,T),k.return=b,b=k)}return o(b);case Hr:e:{for(R=T.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(b,_.sibling),_=s(_,T.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=cf(T,b.mode,k),_.return=b,b=_}return o(b);case Fi:return R=T._init,E(b,_,R(T._payload),k)}if(xa(T))return p(b,_,T,k);if(ra(T))return v(b,_,T,k);Mu(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(b,_.sibling),_=s(_,T),_.return=b,b=_):(n(b,_),_=uf(T,b.mode,k),_.return=b,b=_),o(b)):n(b,_)}return E}var _o=$x(!0),Hx=$x(!1),qc=Ss(null),Gc=null,Jr=null,qg=null;function Gg(){qg=Jr=Gc=null}function Kg(t){var e=qc.current;$e(qc),t._currentValue=e}function vp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){Gc=t,qg=Jr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function Sn(t){var e=t._currentValue;if(qg!==t)if(t={context:t,memoizedValue:e,next:null},Jr===null){if(Gc===null)throw Error(W(308));Jr=t,Gc.dependencies={lanes:0,firstContext:t}}else Jr=Jr.next=t;return e}var Xs=null;function Qg(t){Xs===null?Xs=[t]:Xs.push(t)}function Wx(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Qg(e)):(n.next=s.next,s.next=n),e.interleaved=n,wi(t,i)}function wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function Yg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Pe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,wi(t,n)}return s=i.interleaved,s===null?(e.next=e,Qg(i)):(e.next=s.next,s.next=e),i.interleaved=e,wi(t,n)}function cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dg(t,n)}}function Gy(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kc(t,e,n,i){var s=t.updateQueue;ji=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?r=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(r!==null){var d=s.baseState;o=0,c=u=l=null,a=r;do{var f=a.lane,g=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(f=e,g=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(g,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(g,d,f):p,f==null)break e;d=Ye({},d,f);break e;case 2:ji=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);cr|=o,t.lanes=o,t.memoizedState=d}}function Ky(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(W(191,s));s.call(i)}}}var $l={},Qn=Ss($l),pl=Ss($l),gl=Ss($l);function Zs(t){if(t===$l)throw Error(W(174));return t}function Xg(t,e){switch(je(gl,e),je(pl,t),je(Qn,$l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xf(e,t)}$e(Qn),je(Qn,e)}function wo(){$e(Qn),$e(pl),$e(gl)}function Gx(t){Zs(gl.current);var e=Zs(Qn.current),n=Xf(e,t.type);e!==n&&(je(pl,t),je(Qn,n))}function Zg(t){pl.current===t&&($e(Qn),$e(pl))}var Ke=Ss(0);function Qc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nf=[];function Jg(){for(var t=0;t<nf.length;t++)nf[t]._workInProgressVersionPrimary=null;nf.length=0}var hc=Ci.ReactCurrentDispatcher,sf=Ci.ReactCurrentBatchConfig,ur=0,Qe=null,ft=null,_t=null,Yc=!1,Ba=!1,ml=0,DL=0;function Mt(){throw Error(W(321))}function em(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function tm(t,e,n,i,s,r){if(ur=r,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hc.current=t===null||t.memoizedState===null?jL:BL,t=n(i,s),Ba){r=0;do{if(Ba=!1,ml=0,25<=r)throw Error(W(301));r+=1,_t=ft=null,e.updateQueue=null,hc.current=zL,t=n(i,s)}while(Ba)}if(hc.current=Xc,e=ft!==null&&ft.next!==null,ur=0,_t=ft=Qe=null,Yc=!1,e)throw Error(W(300));return t}function nm(){var t=ml!==0;return ml=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Qe.memoizedState=_t=t:_t=_t.next=t,_t}function Cn(){if(ft===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=_t===null?Qe.memoizedState:_t.next;if(e!==null)_t=e,ft=t;else{if(t===null)throw Error(W(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},_t===null?Qe.memoizedState=_t=t:_t=_t.next=t}return _t}function vl(t,e){return typeof e=="function"?e(t):e}function rf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var i=ft,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,u=r;do{var c=u.lane;if((ur&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Qe.lanes|=c,cr|=c}u=u.next}while(u!==null&&u!==r);l===null?o=i:l.next=a,Nn(i,e.memoizedState)||(Jt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,Qe.lanes|=r,cr|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function of(t){var e=Cn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Nn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Kx(){}function Qx(t,e){var n=Qe,i=Cn(),s=e(),r=!Nn(i.memoizedState,s);if(r&&(i.memoizedState=s,Jt=!0),i=i.queue,im(Zx.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,yl(9,Xx.bind(null,n,i,s,e),void 0,null),bt===null)throw Error(W(349));ur&30||Yx(n,e,s)}return s}function Yx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xx(t,e,n,i){e.value=n,e.getSnapshot=i,Jx(e)&&eS(t)}function Zx(t,e,n){return n(function(){Jx(e)&&eS(t)})}function Jx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function eS(t){var e=wi(t,1);e!==null&&On(e,t,1,-1)}function Qy(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:t},e.queue=t,t=t.dispatch=FL.bind(null,Qe,t),[e.memoizedState,t]}function yl(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function tS(){return Cn().memoizedState}function dc(t,e,n,i){var s=Hn();Qe.flags|=t,s.memoizedState=yl(1|e,n,void 0,i===void 0?null:i)}function Wh(t,e,n,i){var s=Cn();i=i===void 0?null:i;var r=void 0;if(ft!==null){var o=ft.memoizedState;if(r=o.destroy,i!==null&&em(i,o.deps)){s.memoizedState=yl(e,n,r,i);return}}Qe.flags|=t,s.memoizedState=yl(1|e,n,r,i)}function Yy(t,e){return dc(8390656,8,t,e)}function im(t,e){return Wh(2048,8,t,e)}function nS(t,e){return Wh(4,2,t,e)}function iS(t,e){return Wh(4,4,t,e)}function sS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rS(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4,4,sS.bind(null,e,t),n)}function sm(){}function oS(t,e){var n=Cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&em(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function aS(t,e){var n=Cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&em(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function lS(t,e,n){return ur&21?(Nn(n,e)||(n=fx(),Qe.lanes|=n,cr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function NL(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var i=sf.transition;sf.transition={};try{t(!1),e()}finally{De=n,sf.transition=i}}function uS(){return Cn().memoizedState}function VL(t,e,n){var i=ss(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},cS(t))hS(e,n);else if(n=Wx(t,e,n,i),n!==null){var s=qt();On(n,t,i,s),dS(n,e,i)}}function FL(t,e,n){var i=ss(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(cS(t))hS(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nn(a,o)){var l=e.interleaved;l===null?(s.next=s,Qg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Wx(t,e,s,i),n!==null&&(s=qt(),On(n,t,i,s),dS(n,e,i))}}function cS(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function hS(t,e){Ba=Yc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dS(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dg(t,n)}}var Xc={readContext:Sn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},jL={readContext:Sn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:Sn,useEffect:Yy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dc(4194308,4,sS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return dc(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Hn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=VL.bind(null,Qe,t),[i.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:Qy,useDebugValue:sm,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=Qy(!1),e=t[0];return t=NL.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Qe,s=Hn();if(We){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),bt===null)throw Error(W(349));ur&30||Yx(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Yy(Zx.bind(null,i,r,t),[t]),i.flags|=2048,yl(9,Xx.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Hn(),e=bt.identifierPrefix;if(We){var n=di,i=hi;n=(i&~(1<<32-Rn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BL={readContext:Sn,useCallback:oS,useContext:Sn,useEffect:im,useImperativeHandle:rS,useInsertionEffect:nS,useLayoutEffect:iS,useMemo:aS,useReducer:rf,useRef:tS,useState:function(){return rf(vl)},useDebugValue:sm,useDeferredValue:function(t){var e=Cn();return lS(e,ft.memoizedState,t)},useTransition:function(){var t=rf(vl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Kx,useSyncExternalStore:Qx,useId:uS,unstable_isNewReconciler:!1},zL={readContext:Sn,useCallback:oS,useContext:Sn,useEffect:im,useImperativeHandle:rS,useInsertionEffect:nS,useLayoutEffect:iS,useMemo:aS,useReducer:of,useRef:tS,useState:function(){return of(vl)},useDebugValue:sm,useDeferredValue:function(t){var e=Cn();return ft===null?e.memoizedState=t:lS(e,ft.memoizedState,t)},useTransition:function(){var t=of(vl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Kx,useSyncExternalStore:Qx,useId:uS,unstable_isNewReconciler:!1};function Pn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qh={isMounted:function(t){return(t=t._reactInternals)?yr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=qt(),s=ss(t),r=mi(i,s);r.payload=e,n!=null&&(r.callback=n),e=ns(t,r,s),e!==null&&(On(e,t,s,i),cc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=qt(),s=ss(t),r=mi(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ns(t,r,s),e!==null&&(On(e,t,s,i),cc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),i=ss(t),s=mi(n,i);s.tag=2,e!=null&&(s.callback=e),e=ns(t,s,i),e!==null&&(On(e,t,i,n),cc(e,t,i))}};function Xy(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!cl(n,i)||!cl(s,r):!0}function fS(t,e,n){var i=!1,s=fs,r=e.contextType;return typeof r=="object"&&r!==null?r=Sn(r):(s=tn(e)?ar:Ut.current,i=e.contextTypes,r=(i=i!=null)?vo(t,s):fs),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Zy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&qh.enqueueReplaceState(e,e.state,null)}function _p(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Yg(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Sn(r):(r=tn(e)?ar:Ut.current,s.context=vo(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(yp(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qh.enqueueReplaceState(s,s.state,null),Kc(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var n="",i=e;do n+=gP(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UL=typeof WeakMap=="function"?WeakMap:Map;function pS(t,e,n){n=mi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Jc||(Jc=!0,Ap=i),wp(t,e)},n}function gS(t,e,n){n=mi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){wp(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){wp(t,e),typeof i!="function"&&(is===null?is=new Set([this]):is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jy(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new UL;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=nA.bind(null,t,e,n),e.then(t,t))}function e_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t_(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mi(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var $L=Ci.ReactCurrentOwner,Jt=!1;function Wt(t,e,n,i){e.child=t===null?Hx(e,null,n,i):_o(e,t.child,n,i)}function n_(t,e,n,i,s){n=n.render;var r=e.ref;return ao(e,s),i=tm(t,e,n,i,r,s),n=nm(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ei(t,e,s)):(We&&n&&$g(e),e.flags|=1,Wt(t,e,i,s),e.child)}function i_(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!dm(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,mS(t,e,r,i,s)):(t=mc(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(o,i)&&t.ref===e.ref)return Ei(t,e,s)}return e.flags|=1,t=rs(r,i),t.ref=e.ref,t.return=e,e.child=t}function mS(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(cl(r,i)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Ei(t,e,s)}return Ep(t,e,n,i,s)}function vS(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(to,un),un|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(to,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,je(to,un),un|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,je(to,un),un|=i;return Wt(t,e,s,n),e.child}function yS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ep(t,e,n,i,s){var r=tn(n)?ar:Ut.current;return r=vo(e,r),ao(e,s),n=tm(t,e,n,i,r,s),i=nm(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ei(t,e,s)):(We&&i&&$g(e),e.flags|=1,Wt(t,e,n,s),e.child)}function s_(t,e,n,i,s){if(tn(n)){var r=!0;$c(e)}else r=!1;if(ao(e,s),e.stateNode===null)fc(t,e),fS(e,n,i),_p(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Sn(u):(u=tn(n)?ar:Ut.current,u=vo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&Zy(e,o,i,u),ji=!1;var f=e.memoizedState;o.state=f,Kc(e,i,o,s),l=e.memoizedState,a!==i||f!==l||en.current||ji?(typeof c=="function"&&(yp(e,n,c,i),l=e.memoizedState),(a=ji||Xy(e,n,a,i,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,qx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Pn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Sn(l):(l=tn(n)?ar:Ut.current,l=vo(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Zy(e,o,i,l),ji=!1,f=e.memoizedState,o.state=f,Kc(e,i,o,s);var p=e.memoizedState;a!==d||f!==p||en.current||ji?(typeof g=="function"&&(yp(e,n,g,i),p=e.memoizedState),(u=ji||Xy(e,n,u,i,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return bp(t,e,n,i,r,s)}function bp(t,e,n,i,s,r){yS(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&$y(e,n,!1),Ei(t,e,r);i=e.stateNode,$L.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=_o(e,t.child,null,r),e.child=_o(e,null,a,r)):Wt(t,e,a,r),e.memoizedState=i.state,s&&$y(e,n,!0),e.child}function _S(t){var e=t.stateNode;e.pendingContext?Uy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uy(t,e.context,!1),Xg(t,e.containerInfo)}function r_(t,e,n,i,s){return yo(),Wg(s),e.flags|=256,Wt(t,e,n,i),e.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function Sp(t){return{baseLanes:t,cachePool:null,transitions:null}}function wS(t,e,n){var i=e.pendingProps,s=Ke.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Ke,s&1),t===null)return mp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Qh(o,i,0,null),t=ir(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Sp(n),e.memoizedState=xp,t):rm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return HL(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=rs(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=rs(a,r):(r=ir(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Sp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=xp,i}return r=t.child,t=r.sibling,i=rs(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function rm(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ru(t,e,n,i){return i!==null&&Wg(i),_o(e,t.child,null,n),t=rm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HL(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=af(Error(W(422))),Ru(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Qh({mode:"visible",children:i.children},s,0,null),r=ir(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&_o(e,t.child,null,o),e.child.memoizedState=Sp(o),e.memoizedState=xp,r);if(!(e.mode&1))return Ru(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(W(419)),i=af(r,i,void 0),Ru(t,e,o,i)}if(a=(o&t.childLanes)!==0,Jt||a){if(i=bt,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,wi(t,s),On(i,t,s,-1))}return hm(),i=af(Error(W(421))),Ru(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iA.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,hn=ts(s.nextSibling),dn=e,We=!0,An=null,t!==null&&(yn[_n++]=hi,yn[_n++]=di,yn[_n++]=lr,hi=t.id,di=t.overflow,lr=e),e=rm(e,i.children),e.flags|=4096,e)}function o_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),vp(t.return,e,n)}function lf(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function ES(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Wt(t,e,i.children,n),i=Ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o_(t,n,e);else if(t.tag===19)o_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(je(Ke,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lf(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lf(e,!0,n,null,r);break;case"together":lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WL(t,e,n){switch(e.tag){case 3:_S(e),yo();break;case 5:Gx(e);break;case 1:tn(e.type)&&$c(e);break;case 4:Xg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;je(qc,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(je(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?wS(t,e,n):(je(Ke,Ke.current&1),t=Ei(t,e,n),t!==null?t.sibling:null);je(Ke,Ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return ES(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ke,Ke.current),i)break;return null;case 22:case 23:return e.lanes=0,vS(t,e,n)}return Ei(t,e,n)}var bS,Cp,xS,SS;bS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cp=function(){};xS=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Zs(Qn.current);var r=null;switch(n){case"input":s=Gf(t,s),i=Gf(t,i),r=[];break;case"select":s=Ye({},s,{value:void 0}),i=Ye({},i,{value:void 0}),r=[];break;case"textarea":s=Yf(t,s),i=Yf(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=zc)}Zf(n,i);var o;n=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(il.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var l=i[u];if(a=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(il.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),r||a===l||(r=[])):(r=r||[]).push(u,l))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};SS=function(t,e,n,i){n!==i&&(e.flags|=4)};function ha(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function qL(t,e,n){var i=e.pendingProps;switch(Hg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return tn(e.type)&&Uc(),Rt(e),null;case 3:return i=e.stateNode,wo(),$e(en),$e(Ut),Jg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Rp(An),An=null))),Cp(t,e),Rt(e),null;case 5:Zg(e);var s=Zs(gl.current);if(n=e.type,t!==null&&e.stateNode!=null)xS(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(W(166));return Rt(e),null}if(t=Zs(Qn.current),Iu(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Gn]=e,i[fl]=r,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(s=0;s<Ca.length;s++)ze(Ca[s],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":gy(i,r),ze("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ze("invalid",i);break;case"textarea":vy(i,r),ze("invalid",i)}Zf(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&Au(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Au(i.textContent,a,t),s=["children",""+a]):il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",i)}switch(n){case"input":bu(i),my(i,r,!0);break;case"textarea":bu(i),yy(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=zc)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Gn]=e,t[fl]=i,bS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jf(n,i),n){case"dialog":ze("cancel",t),ze("close",t),s=i;break;case"iframe":case"object":case"embed":ze("load",t),s=i;break;case"video":case"audio":for(s=0;s<Ca.length;s++)ze(Ca[s],t);s=i;break;case"source":ze("error",t),s=i;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=i;break;case"details":ze("toggle",t),s=i;break;case"input":gy(t,i),s=Gf(t,i),ze("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Ye({},i,{value:void 0}),ze("invalid",t);break;case"textarea":vy(t,i),s=Yf(t,i),ze("invalid",t);break;default:s=i}Zf(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?tx(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jb(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sl(t,l):typeof l=="number"&&sl(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(il.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ze("scroll",t):l!=null&&Lg(t,r,l,o))}switch(n){case"input":bu(t),my(t,i,!1);break;case"textarea":bu(t),yy(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ds(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?io(t,!!i.multiple,r,!1):i.defaultValue!=null&&io(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)SS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(W(166));if(n=Zs(gl.current),Zs(Qn.current),Iu(e)){if(i=e.stateNode,n=e.memoizedProps,i[Gn]=e,(r=i.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:Au(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Gn]=e,e.stateNode=i}return Rt(e),null;case 13:if($e(Ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&hn!==null&&e.mode&1&&!(e.flags&128))Ux(),yo(),e.flags|=98560,r=!1;else if(r=Iu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(W(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(W(317));r[Gn]=e}else yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),r=!1}else An!==null&&(Rp(An),An=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?pt===0&&(pt=3):hm())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return wo(),Cp(t,e),t===null&&hl(e.stateNode.containerInfo),Rt(e),null;case 10:return Kg(e.type._context),Rt(e),null;case 17:return tn(e.type)&&Uc(),Rt(e),null;case 19:if($e(Ke),r=e.memoizedState,r===null)return Rt(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)ha(r,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qc(t),o!==null){for(e.flags|=128,ha(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ke,Ke.current&1|2),e.child}t=t.sibling}r.tail!==null&&st()>bo&&(e.flags|=128,i=!0,ha(r,!1),e.lanes=4194304)}else{if(!i)if(t=Qc(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ha(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!We)return Rt(e),null}else 2*st()-r.renderingStartTime>bo&&n!==1073741824&&(e.flags|=128,i=!0,ha(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=st(),e.sibling=null,n=Ke.current,je(Ke,i?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return cm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?un&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function GL(t,e){switch(Hg(e),e.tag){case 1:return tn(e.type)&&Uc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wo(),$e(en),$e(Ut),Jg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zg(e),null;case 13:if($e(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ke),null;case 4:return wo(),null;case 10:return Kg(e.type._context),null;case 22:case 23:return cm(),null;case 24:return null;default:return null}}var Ou=!1,Ft=!1,KL=typeof WeakSet=="function"?WeakSet:Set,ie=null;function eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){et(t,e,i)}else n.current=null}function Tp(t,e,n){try{n()}catch(i){et(t,e,i)}}var a_=!1;function QL(t,e){if(up=Fc,t=Lx(),Ug(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==r||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===s&&(a=o),f===r&&++c===i&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cp={focusedElem:t,selectionRange:n},Fc=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,E=p.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Pn(e.type,v),E);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){et(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return p=a_,a_=!1,p}function za(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&Tp(e,n,r)}s=s.next}while(s!==i)}}function Gh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CS(t){var e=t.alternate;e!==null&&(t.alternate=null,CS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[fl],delete e[fp],delete e[IL],delete e[ML])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TS(t){return t.tag===5||t.tag===3||t.tag===4}function l_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zc));else if(i!==4&&(t=t.child,t!==null))for(Pp(t,e,n),t=t.sibling;t!==null;)Pp(t,e,n),t=t.sibling}function Lp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Lp(t,e,n),t=t.sibling;t!==null;)Lp(t,e,n),t=t.sibling}var St=null,Ln=!1;function Di(t,e,n){for(n=n.child;n!==null;)kS(t,e,n),n=n.sibling}function kS(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:Ft||eo(n,e);case 6:var i=St,s=Ln;St=null,Di(t,e,n),St=i,Ln=s,St!==null&&(Ln?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Ln?(t=St,n=n.stateNode,t.nodeType===8?ef(t.parentNode,n):t.nodeType===1&&ef(t,n),ll(t)):ef(St,n.stateNode));break;case 4:i=St,s=Ln,St=n.stateNode.containerInfo,Ln=!0,Di(t,e,n),St=i,Ln=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Tp(n,e,o),s=s.next}while(s!==i)}Di(t,e,n);break;case 1:if(!Ft&&(eo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){et(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(Ft=(i=Ft)||n.memoizedState!==null,Di(t,e,n),Ft=i):Di(t,e,n);break;default:Di(t,e,n)}}function u_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KL),e.forEach(function(i){var s=sA.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Ln=!1;break e;case 3:St=a.stateNode.containerInfo,Ln=!0;break e;case 4:St=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(St===null)throw Error(W(160));kS(r,o,s),St=null,Ln=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){et(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PS(e,t),e=e.sibling}function PS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),zn(t),i&4){try{za(3,t,t.return),Gh(3,t)}catch(v){et(t,t.return,v)}try{za(5,t,t.return)}catch(v){et(t,t.return,v)}}break;case 1:kn(e,t),zn(t),i&512&&n!==null&&eo(n,n.return);break;case 5:if(kn(e,t),zn(t),i&512&&n!==null&&eo(n,n.return),t.flags&32){var s=t.stateNode;try{sl(s,"")}catch(v){et(t,t.return,v)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Yb(s,r),Jf(a,o);var u=Jf(a,r);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?tx(s,d):c==="dangerouslySetInnerHTML"?Jb(s,d):c==="children"?sl(s,d):Lg(s,c,d,u)}switch(a){case"input":Kf(s,r);break;case"textarea":Xb(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?io(s,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?io(s,!!r.multiple,r.defaultValue,!0):io(s,!!r.multiple,r.multiple?[]:"",!1))}s[fl]=r}catch(v){et(t,t.return,v)}}break;case 6:if(kn(e,t),zn(t),i&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(v){et(t,t.return,v)}}break;case 3:if(kn(e,t),zn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(e.containerInfo)}catch(v){et(t,t.return,v)}break;case 4:kn(e,t),zn(t);break;case 13:kn(e,t),zn(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(lm=st())),i&4&&u_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||c,kn(e,t),Ft=u):kn(e,t),zn(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ie=t,c=t.child;c!==null;){for(d=ie=c;ie!==null;){switch(f=ie,g=f.child,f.tag){case 0:case 11:case 14:case 15:za(4,f,f.return);break;case 1:eo(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){et(i,n,v)}}break;case 5:eo(f,f.return);break;case 22:if(f.memoizedState!==null){h_(d);continue}}g!==null?(g.return=f,ie=g):h_(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ex("display",o))}catch(v){et(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){et(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kn(e,t),zn(t),i&4&&u_(t);break;case 21:break;default:kn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TS(n)){var i=n;break e}n=n.return}throw Error(W(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(sl(s,""),i.flags&=-33);var r=l_(t);Lp(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=l_(t);Pp(t,a,o);break;default:throw Error(W(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YL(t,e,n){ie=t,LS(t)}function LS(t,e,n){for(var i=(t.mode&1)!==0;ie!==null;){var s=ie,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Ou;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=Ou;var u=Ft;if(Ou=o,(Ft=l)&&!u)for(ie=s;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?d_(s):l!==null?(l.return=o,ie=l):d_(s);for(;r!==null;)ie=r,LS(r),r=r.sibling;ie=s,Ou=a,Ft=u}c_(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,ie=r):c_(t)}}function c_(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Gh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ft)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Ky(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ky(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ll(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ft||e.flags&512&&kp(e)}catch(f){et(e,e.return,f)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function h_(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function d_(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gh(4,e)}catch(l){et(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){et(e,s,l)}}var r=e.return;try{kp(e)}catch(l){et(e,r,l)}break;case 5:var o=e.return;try{kp(e)}catch(l){et(e,o,l)}}}catch(l){et(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var XL=Math.ceil,Zc=Ci.ReactCurrentDispatcher,om=Ci.ReactCurrentOwner,xn=Ci.ReactCurrentBatchConfig,Pe=0,bt=null,ut=null,kt=0,un=0,to=Ss(0),pt=0,_l=null,cr=0,Kh=0,am=0,Ua=null,Xt=null,lm=0,bo=1/0,li=null,Jc=!1,Ap=null,is=null,Du=!1,Hi=null,eh=0,$a=0,Ip=null,pc=-1,gc=0;function qt(){return Pe&6?st():pc!==-1?pc:pc=st()}function ss(t){return t.mode&1?Pe&2&&kt!==0?kt&-kt:OL.transition!==null?(gc===0&&(gc=fx()),gc):(t=De,t!==0||(t=window.event,t=t===void 0?16:wx(t.type)),t):1}function On(t,e,n,i){if(50<$a)throw $a=0,Ip=null,Error(W(185));Bl(t,n,i),(!(Pe&2)||t!==bt)&&(t===bt&&(!(Pe&2)&&(Kh|=n),pt===4&&Ui(t,kt)),nn(t,i),n===1&&Pe===0&&!(e.mode&1)&&(bo=st()+500,Hh&&Cs()))}function nn(t,e){var n=t.callbackNode;OP(t,e);var i=Vc(t,t===bt?kt:0);if(i===0)n!==null&&Ey(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Ey(n),e===1)t.tag===0?RL(f_.bind(null,t)):jx(f_.bind(null,t)),LL(function(){!(Pe&6)&&Cs()}),n=null;else{switch(px(i)){case 1:n=Og;break;case 4:n=hx;break;case 16:n=Nc;break;case 536870912:n=dx;break;default:n=Nc}n=VS(n,AS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AS(t,e){if(pc=-1,gc=0,Pe&6)throw Error(W(327));var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var i=Vc(t,t===bt?kt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=th(t,i);else{e=i;var s=Pe;Pe|=2;var r=MS();(bt!==t||kt!==e)&&(li=null,bo=st()+500,nr(t,e));do try{eA();break}catch(a){IS(t,a)}while(!0);Gg(),Zc.current=r,Pe=s,ut!==null?e=0:(bt=null,kt=0,e=pt)}if(e!==0){if(e===2&&(s=sp(t),s!==0&&(i=s,e=Mp(t,s))),e===1)throw n=_l,nr(t,0),Ui(t,i),nn(t,st()),n;if(e===6)Ui(t,i);else{if(s=t.current.alternate,!(i&30)&&!ZL(s)&&(e=th(t,i),e===2&&(r=sp(t),r!==0&&(i=r,e=Mp(t,r))),e===1))throw n=_l,nr(t,0),Ui(t,i),nn(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(W(345));case 2:Ws(t,Xt,li);break;case 3:if(Ui(t,i),(i&130023424)===i&&(e=lm+500-st(),10<e)){if(Vc(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=dp(Ws.bind(null,t,Xt,li),e);break}Ws(t,Xt,li);break;case 4:if(Ui(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Rn(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=st()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*XL(i/1960))-i,10<i){t.timeoutHandle=dp(Ws.bind(null,t,Xt,li),i);break}Ws(t,Xt,li);break;case 5:Ws(t,Xt,li);break;default:throw Error(W(329))}}}return nn(t,st()),t.callbackNode===n?AS.bind(null,t):null}function Mp(t,e){var n=Ua;return t.current.memoizedState.isDehydrated&&(nr(t,e).flags|=256),t=th(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Rp(e)),t}function Rp(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function ZL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Nn(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~am,e&=~Kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),i=1<<n;t[n]=-1,e&=~i}}function f_(t){if(Pe&6)throw Error(W(327));lo();var e=Vc(t,0);if(!(e&1))return nn(t,st()),null;var n=th(t,e);if(t.tag!==0&&n===2){var i=sp(t);i!==0&&(e=i,n=Mp(t,i))}if(n===1)throw n=_l,nr(t,0),Ui(t,e),nn(t,st()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ws(t,Xt,li),nn(t,st()),null}function um(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(bo=st()+500,Hh&&Cs())}}function hr(t){Hi!==null&&Hi.tag===0&&!(Pe&6)&&lo();var e=Pe;Pe|=1;var n=xn.transition,i=De;try{if(xn.transition=null,De=1,t)return t()}finally{De=i,xn.transition=n,Pe=e,!(Pe&6)&&Cs()}}function cm(){un=to.current,$e(to)}function nr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PL(n)),ut!==null)for(n=ut.return;n!==null;){var i=n;switch(Hg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Uc();break;case 3:wo(),$e(en),$e(Ut),Jg();break;case 5:Zg(i);break;case 4:wo();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:Kg(i.type._context);break;case 22:case 23:cm()}n=n.return}if(bt=t,ut=t=rs(t.current,null),kt=un=e,pt=0,_l=null,am=Kh=cr=0,Xt=Ua=null,Xs!==null){for(e=0;e<Xs.length;e++)if(n=Xs[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Xs=null}return t}function IS(t,e){do{var n=ut;try{if(Gg(),hc.current=Xc,Yc){for(var i=Qe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Yc=!1}if(ur=0,_t=ft=Qe=null,Ba=!1,ml=0,om.current=null,n===null||n.return===null){pt=1,_l=e,ut=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=e_(o);if(g!==null){g.flags&=-257,t_(g,o,a,r,e),g.mode&1&&Jy(r,u,e),e=g,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Jy(r,u,e),hm();break e}l=Error(W(426))}}else if(We&&a.mode&1){var E=e_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),t_(E,o,a,r,e),Wg(Eo(l,a));break e}}r=l=Eo(l,a),pt!==4&&(pt=2),Ua===null?Ua=[r]:Ua.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var b=pS(r,l,e);Gy(r,b);break e;case 1:a=l;var _=r.type,T=r.stateNode;if(!(r.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(is===null||!is.has(T)))){r.flags|=65536,e&=-e,r.lanes|=e;var k=gS(r,a,e);Gy(r,k);break e}}r=r.return}while(r!==null)}OS(n)}catch(P){e=P,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function MS(){var t=Zc.current;return Zc.current=Xc,t===null?Xc:t}function hm(){(pt===0||pt===3||pt===2)&&(pt=4),bt===null||!(cr&268435455)&&!(Kh&268435455)||Ui(bt,kt)}function th(t,e){var n=Pe;Pe|=2;var i=MS();(bt!==t||kt!==e)&&(li=null,nr(t,e));do try{JL();break}catch(s){IS(t,s)}while(!0);if(Gg(),Pe=n,Zc.current=i,ut!==null)throw Error(W(261));return bt=null,kt=0,pt}function JL(){for(;ut!==null;)RS(ut)}function eA(){for(;ut!==null&&!CP();)RS(ut)}function RS(t){var e=NS(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?OS(t):ut=e,om.current=null}function OS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GL(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ut=null;return}}else if(n=qL(n,e,un),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);pt===0&&(pt=5)}function Ws(t,e,n){var i=De,s=xn.transition;try{xn.transition=null,De=1,tA(t,e,n,i)}finally{xn.transition=s,De=i}return null}function tA(t,e,n,i){do lo();while(Hi!==null);if(Pe&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(DP(t,r),t===bt&&(ut=bt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,VS(Nc,function(){return lo(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=xn.transition,xn.transition=null;var o=De;De=1;var a=Pe;Pe|=4,om.current=null,QL(t,n),PS(n,t),EL(cp),Fc=!!up,cp=up=null,t.current=n,YL(n),TP(),Pe=a,De=o,xn.transition=r}else t.current=n;if(Du&&(Du=!1,Hi=t,eh=s),r=t.pendingLanes,r===0&&(is=null),LP(n.stateNode),nn(t,st()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Jc)throw Jc=!1,t=Ap,Ap=null,t;return eh&1&&t.tag!==0&&lo(),r=t.pendingLanes,r&1?t===Ip?$a++:($a=0,Ip=t):$a=0,Cs(),null}function lo(){if(Hi!==null){var t=px(eh),e=xn.transition,n=De;try{if(xn.transition=null,De=16>t?16:t,Hi===null)var i=!1;else{if(t=Hi,Hi=null,eh=0,Pe&6)throw Error(W(331));var s=Pe;for(Pe|=4,ie=t.current;ie!==null;){var r=ie,o=r.child;if(ie.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ie=u;ie!==null;){var c=ie;switch(c.tag){case 0:case 11:case 15:za(8,c,r)}var d=c.child;if(d!==null)d.return=c,ie=d;else for(;ie!==null;){c=ie;var f=c.sibling,g=c.return;if(CS(c),c===u){ie=null;break}if(f!==null){f.return=g,ie=f;break}ie=g}}}var p=r.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}ie=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,ie=o;else e:for(;ie!==null;){if(r=ie,r.flags&2048)switch(r.tag){case 0:case 11:case 15:za(9,r,r.return)}var b=r.sibling;if(b!==null){b.return=r.return,ie=b;break e}ie=r.return}}var _=t.current;for(ie=_;ie!==null;){o=ie;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ie=T;else e:for(o=_;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gh(9,a)}}catch(P){et(a,a.return,P)}if(a===o){ie=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ie=k;break e}ie=a.return}}if(Pe=s,Cs(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(jh,t)}catch{}i=!0}return i}finally{De=n,xn.transition=e}}return!1}function p_(t,e,n){e=Eo(n,e),e=pS(t,e,1),t=ns(t,e,1),e=qt(),t!==null&&(Bl(t,1,e),nn(t,e))}function et(t,e,n){if(t.tag===3)p_(t,t,n);else for(;e!==null;){if(e.tag===3){p_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(is===null||!is.has(i))){t=Eo(n,t),t=gS(e,t,1),e=ns(e,t,1),t=qt(),e!==null&&(Bl(e,1,t),nn(e,t));break}}e=e.return}}function nA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(kt&n)===n&&(pt===4||pt===3&&(kt&130023424)===kt&&500>st()-lm?nr(t,0):am|=n),nn(t,e)}function DS(t,e){e===0&&(t.mode&1?(e=Cu,Cu<<=1,!(Cu&130023424)&&(Cu=4194304)):e=1);var n=qt();t=wi(t,e),t!==null&&(Bl(t,e,n),nn(t,n))}function iA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DS(t,n)}function sA(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(W(314))}i!==null&&i.delete(e),DS(t,n)}var NS;NS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,WL(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,We&&e.flags&1048576&&Bx(e,Wc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;fc(t,e),t=e.pendingProps;var s=vo(e,Ut.current);ao(e,n),s=tm(null,e,i,t,s,n);var r=nm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(i)?(r=!0,$c(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yg(e),s.updater=qh,e.stateNode=s,s._reactInternals=e,_p(e,i,t,n),e=bp(null,e,i,!0,r,n)):(e.tag=0,We&&r&&$g(e),Wt(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(fc(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=oA(i),t=Pn(i,t),s){case 0:e=Ep(null,e,i,t,n);break e;case 1:e=s_(null,e,i,t,n);break e;case 11:e=n_(null,e,i,t,n);break e;case 14:e=i_(null,e,i,Pn(i.type,t),n);break e}throw Error(W(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Pn(i,s),Ep(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Pn(i,s),s_(t,e,i,s,n);case 3:e:{if(_S(e),t===null)throw Error(W(387));i=e.pendingProps,r=e.memoizedState,s=r.element,qx(t,e),Kc(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Eo(Error(W(423)),e),e=r_(t,e,i,n,s);break e}else if(i!==s){s=Eo(Error(W(424)),e),e=r_(t,e,i,n,s);break e}else for(hn=ts(e.stateNode.containerInfo.firstChild),dn=e,We=!0,An=null,n=Hx(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yo(),i===s){e=Ei(t,e,n);break e}Wt(t,e,i,n)}e=e.child}return e;case 5:return Gx(e),t===null&&mp(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,hp(i,s)?o=null:r!==null&&hp(i,r)&&(e.flags|=32),yS(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&mp(e),null;case 13:return wS(t,e,n);case 4:return Xg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=_o(e,null,i,n):Wt(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Pn(i,s),n_(t,e,i,s,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,je(qc,i._currentValue),i._currentValue=o,r!==null)if(Nn(r.value,o)){if(r.children===s.children&&!en.current){e=Ei(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=mi(-1,n&-n),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),vp(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vp(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,ao(e,n),s=Sn(s),i=i(s),e.flags|=1,Wt(t,e,i,n),e.child;case 14:return i=e.type,s=Pn(i,e.pendingProps),s=Pn(i.type,s),i_(t,e,i,s,n);case 15:return mS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Pn(i,s),fc(t,e),e.tag=1,tn(i)?(t=!0,$c(e)):t=!1,ao(e,n),fS(e,i,s),_p(e,i,s,n),bp(null,e,i,!0,t,n);case 19:return ES(t,e,n);case 22:return vS(t,e,n)}throw Error(W(156,e.tag))};function VS(t,e){return cx(t,e)}function rA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,i){return new rA(t,e,n,i)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oA(t){if(typeof t=="function")return dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ig)return 11;if(t===Mg)return 14}return 2}function rs(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mc(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")dm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wr:return ir(n.children,s,r,e);case Ag:o=8,s|=8;break;case $f:return t=bn(12,n,e,s|2),t.elementType=$f,t.lanes=r,t;case Hf:return t=bn(13,n,e,s),t.elementType=Hf,t.lanes=r,t;case Wf:return t=bn(19,n,e,s),t.elementType=Wf,t.lanes=r,t;case Gb:return Qh(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wb:o=10;break e;case qb:o=9;break e;case Ig:o=11;break e;case Mg:o=14;break e;case Fi:o=16,i=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=bn(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function ir(t,e,n,i){return t=bn(7,t,i,e),t.lanes=n,t}function Qh(t,e,n,i){return t=bn(22,t,i,e),t.elementType=Gb,t.lanes=n,t.stateNode={isHidden:!1},t}function uf(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function cf(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aA(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$d(0),this.expirationTimes=$d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$d(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fm(t,e,n,i,s,r,o,a,l){return t=new aA(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=bn(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(r),t}function lA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function FS(t){if(!t)return fs;t=t._reactInternals;e:{if(yr(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(tn(n))return Fx(t,n,e)}return e}function jS(t,e,n,i,s,r,o,a,l){return t=fm(n,i,!0,t,s,r,o,a,l),t.context=FS(null),n=t.current,i=qt(),s=ss(n),r=mi(i,s),r.callback=e??null,ns(n,r,s),t.current.lanes=s,Bl(t,s,i),nn(t,i),t}function Yh(t,e,n,i){var s=e.current,r=qt(),o=ss(s);return n=FS(n),e.context===null?e.context=n:e.pendingContext=n,e=mi(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ns(s,e,o),t!==null&&(On(t,s,o,r),cc(t,s,o)),o}function nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pm(t,e){g_(t,e),(t=t.alternate)&&g_(t,e)}function uA(){return null}var BS=typeof reportError=="function"?reportError:function(t){console.error(t)};function gm(t){this._internalRoot=t}Xh.prototype.render=gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Yh(t,e,null,null)};Xh.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hr(function(){Yh(null,t,null,null)}),e[_i]=null}};function Xh(t){this._internalRoot=t}Xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=vx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zi.length&&e!==0&&e<zi[n].priority;n++);zi.splice(n,0,t),n===0&&_x(t)}};function mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function m_(){}function cA(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=nh(o);r.call(u)}}var o=jS(e,i,t,0,null,!1,!1,"",m_);return t._reactRootContainer=o,t[_i]=o.current,hl(t.nodeType===8?t.parentNode:t),hr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var u=nh(l);a.call(u)}}var l=fm(t,0,!1,null,null,!1,!1,"",m_);return t._reactRootContainer=l,t[_i]=l.current,hl(t.nodeType===8?t.parentNode:t),hr(function(){Yh(e,l,n,i)}),l}function Jh(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=nh(o);a.call(l)}}Yh(e,o,t,s)}else o=cA(n,e,t,s,i);return nh(o)}gx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sa(e.pendingLanes);n!==0&&(Dg(e,n|1),nn(e,st()),!(Pe&6)&&(bo=st()+500,Cs()))}break;case 13:hr(function(){var i=wi(t,1);if(i!==null){var s=qt();On(i,t,1,s)}}),pm(t,1)}};Ng=function(t){if(t.tag===13){var e=wi(t,134217728);if(e!==null){var n=qt();On(e,t,134217728,n)}pm(t,134217728)}};mx=function(t){if(t.tag===13){var e=ss(t),n=wi(t,e);if(n!==null){var i=qt();On(n,t,e,i)}pm(t,e)}};vx=function(){return De};yx=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};tp=function(t,e,n){switch(e){case"input":if(Kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=$h(i);if(!s)throw Error(W(90));Qb(i),Kf(i,s)}}}break;case"textarea":Xb(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};sx=um;rx=hr;var hA={usingClientEntryPoint:!1,Events:[Ul,Qr,$h,nx,ix,um]},da={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dA={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lx(t),t===null?null:t.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||uA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{jh=Nu.inject(dA),Kn=Nu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(e))throw Error(W(200));return lA(t,e,null,n)};pn.createRoot=function(t,e){if(!mm(t))throw Error(W(299));var n=!1,i="",s=BS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fm(t,1,!1,null,null,n,!1,i,s),t[_i]=e.current,hl(t.nodeType===8?t.parentNode:t),new gm(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=lx(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return hr(t)};pn.hydrate=function(t,e,n){if(!Zh(e))throw Error(W(200));return Jh(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!mm(t))throw Error(W(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=BS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jS(e,null,t,1,n??null,s,!1,r,o),t[_i]=e.current,hl(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xh(e)};pn.render=function(t,e,n){if(!Zh(e))throw Error(W(200));return Jh(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Zh(t))throw Error(W(40));return t._reactRootContainer?(hr(function(){Jh(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};pn.unstable_batchedUpdates=um;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Zh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Jh(t,e,n,!1,i)};pn.version="18.3.1-next-f1338f8080-20240426";function zS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zS)}catch(t){console.error(t)}}zS(),zb.exports=pn;var _r=zb.exports,v_=_r;zf.createRoot=v_.createRoot,zf.hydrateRoot=v_.hydrateRoot;function US(t,e){return function(){return t.apply(e,arguments)}}const{toString:fA}=Object.prototype,{getPrototypeOf:vm}=Object,{iterator:ed,toStringTag:$S}=Symbol,td=(t=>e=>{const n=fA.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jn=t=>(t=t.toLowerCase(),e=>td(e)===t),nd=t=>e=>typeof e===t,{isArray:No}=Array,xo=nd("undefined");function Hl(t){return t!==null&&!xo(t)&&t.constructor!==null&&!xo(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HS=jn("ArrayBuffer");function pA(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HS(t.buffer),e}const gA=nd("string"),sn=nd("function"),WS=nd("number"),Wl=t=>t!==null&&typeof t=="object",mA=t=>t===!0||t===!1,vc=t=>{if(td(t)!=="object")return!1;const e=vm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($S in t)&&!(ed in t)},vA=t=>{if(!Wl(t)||Hl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},yA=jn("Date"),_A=jn("File"),wA=jn("Blob"),EA=jn("FileList"),bA=t=>Wl(t)&&sn(t.pipe),xA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=td(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},SA=jn("URLSearchParams"),[CA,TA,kA,PA]=["ReadableStream","Request","Response","Headers"].map(jn),LA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ql(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),No(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(Hl(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,t[a],a,t)}}function qS(t,e){if(Hl(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GS=t=>!xo(t)&&t!==Js;function Op(){const{caseless:t,skipUndefined:e}=GS(this)&&this||{},n={},i=(s,r)=>{const o=t&&qS(n,r)||r;vc(n[o])&&vc(s)?n[o]=Op(n[o],s):vc(s)?n[o]=Op({},s):No(s)?n[o]=s.slice():(!e||!xo(s))&&(n[o]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ql(arguments[s],i);return n}const AA=(t,e,n,{allOwnKeys:i}={})=>(ql(e,(s,r)=>{n&&sn(s)?t[r]=US(s,n):t[r]=s},{allOwnKeys:i}),t),IA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MA=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},RA=(t,e,n,i)=>{let s,r,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)o=s[r],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&vm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},OA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},DA=t=>{if(!t)return null;if(No(t))return t;let e=t.length;if(!WS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},NA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vm(Uint8Array)),VA=(t,e)=>{const i=(t&&t[ed]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},FA=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},jA=jn("HTMLFormElement"),BA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),y_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),zA=jn("RegExp"),KS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};ql(n,(s,r)=>{let o;(o=e(s,r,t))!==!1&&(i[r]=o||s)}),Object.defineProperties(t,i)},UA=t=>{KS(t,(e,n)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(sn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$A=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return No(t)?i(t):i(String(t).split(e)),n},HA=()=>{},WA=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qA(t){return!!(t&&sn(t.append)&&t[$S]==="FormData"&&t[ed])}const GA=t=>{const e=new Array(10),n=(i,s)=>{if(Wl(i)){if(e.indexOf(i)>=0)return;if(Hl(i))return i;if(!("toJSON"in i)){e[s]=i;const r=No(i)?[]:{};return ql(i,(o,a)=>{const l=n(o,s+1);!xo(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return n(t,0)},KA=jn("AsyncFunction"),QA=t=>t&&(Wl(t)||sn(t))&&sn(t.then)&&sn(t.catch),QS=((t,e)=>t?setImmediate:e?((n,i)=>(Js.addEventListener("message",({source:s,data:r})=>{s===Js&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Js.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sn(Js.postMessage)),YA=typeof queueMicrotask<"u"?queueMicrotask.bind(Js):typeof process<"u"&&process.nextTick||QS,XA=t=>t!=null&&sn(t[ed]),N={isArray:No,isArrayBuffer:HS,isBuffer:Hl,isFormData:xA,isArrayBufferView:pA,isString:gA,isNumber:WS,isBoolean:mA,isObject:Wl,isPlainObject:vc,isEmptyObject:vA,isReadableStream:CA,isRequest:TA,isResponse:kA,isHeaders:PA,isUndefined:xo,isDate:yA,isFile:_A,isBlob:wA,isRegExp:zA,isFunction:sn,isStream:bA,isURLSearchParams:SA,isTypedArray:NA,isFileList:EA,forEach:ql,merge:Op,extend:AA,trim:LA,stripBOM:IA,inherits:MA,toFlatObject:RA,kindOf:td,kindOfTest:jn,endsWith:OA,toArray:DA,forEachEntry:VA,matchAll:FA,isHTMLForm:jA,hasOwnProperty:y_,hasOwnProp:y_,reduceDescriptors:KS,freezeMethods:UA,toObjectSet:$A,toCamelCase:BA,noop:HA,toFiniteNumber:WA,findKey:qS,global:Js,isContextDefined:GS,isSpecCompliantForm:qA,toJSONObject:GA,isAsyncFn:KA,isThenable:QA,setImmediate:QS,asap:YA,isIterable:XA};function pe(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}N.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const YS=pe.prototype,XS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{XS[t]={value:t}});Object.defineProperties(pe,XS);Object.defineProperty(YS,"isAxiosError",{value:!0});pe.from=(t,e,n,i,s,r)=>{const o=Object.create(YS);N.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return pe.call(o,a,l,n,i,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const ZA=null;function Dp(t){return N.isPlainObject(t)||N.isArray(t)}function ZS(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function __(t,e,n){return t?t.concat(e).map(function(s,r){return s=ZS(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function JA(t){return N.isArray(t)&&!t.some(Dp)}const eI=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function id(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,E){return!N.isUndefined(E[v])});const i=n.metaTokens,s=n.visitor||c,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(N.isDate(p))return p.toISOString();if(N.isBoolean(p))return p.toString();if(!l&&N.isBlob(p))throw new pe("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(p)||N.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,E){let b=p;if(p&&!E&&typeof p=="object"){if(N.endsWith(v,"{}"))v=i?v:v.slice(0,-2),p=JSON.stringify(p);else if(N.isArray(p)&&JA(p)||(N.isFileList(p)||N.endsWith(v,"[]"))&&(b=N.toArray(p)))return v=ZS(v),b.forEach(function(T,k){!(N.isUndefined(T)||T===null)&&e.append(o===!0?__([v],k,r):o===null?v:v+"[]",u(T))}),!1}return Dp(p)?!0:(e.append(__(E,v,r),u(p)),!1)}const d=[],f=Object.assign(eI,{defaultVisitor:c,convertValue:u,isVisitable:Dp});function g(p,v){if(!N.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),N.forEach(p,function(b,_){(!(N.isUndefined(b)||b===null)&&s.call(e,b,N.isString(_)?_.trim():_,v,f))===!0&&g(b,v?v.concat(_):[_])}),d.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return g(t),e}function w_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ym(t,e){this._pairs=[],t&&id(t,this,e)}const JS=ym.prototype;JS.append=function(e,n){this._pairs.push([e,n])};JS.toString=function(e){const n=e?function(i){return e.call(this,i,w_)}:w_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function tI(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eC(t,e,n){if(!e)return t;const i=n&&n.encode||tI;N.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(e,n):r=N.isURLSearchParams(e)?e.toString():new ym(e,n).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class E_{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(i){i!==null&&e(i)})}}const tC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nI=typeof URLSearchParams<"u"?URLSearchParams:ym,iI=typeof FormData<"u"?FormData:null,sI=typeof Blob<"u"?Blob:null,rI={isBrowser:!0,classes:{URLSearchParams:nI,FormData:iI,Blob:sI},protocols:["http","https","file","blob","url","data"]},_m=typeof window<"u"&&typeof document<"u",Np=typeof navigator=="object"&&navigator||void 0,oI=_m&&(!Np||["ReactNative","NativeScript","NS"].indexOf(Np.product)<0),aI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lI=_m&&window.location.href||"http://localhost",uI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_m,hasStandardBrowserEnv:oI,hasStandardBrowserWebWorkerEnv:aI,navigator:Np,origin:lI},Symbol.toStringTag,{value:"Module"})),Bt={...uI,...rI};function cI(t,e){return id(t,new Bt.classes.URLSearchParams,{visitor:function(n,i,s,r){return Bt.isNode&&N.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function hI(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function dI(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function nC(t){function e(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&N.isArray(s)?s.length:o,l?(N.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!N.isObject(s[o]))&&(s[o]=[]),e(n,i,s[o],r)&&N.isArray(s[o])&&(s[o]=dI(s[o])),!a)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(i,s)=>{e(hI(i),s,n,0)}),n}return null}function fI(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Gl={transitional:tC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=N.isObject(e);if(r&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return s?JSON.stringify(nC(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return cI(e,this.formSerializer).toString();if((a=N.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return id(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),fI(e)):e}],transformResponse:[function(e){const n=this.transitional||Gl.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?pe.from(a,pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{Gl.headers[t]={}});const pI=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gI=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||e[n]&&pI[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},b_=Symbol("internals");function fa(t){return t&&String(t).trim().toLowerCase()}function yc(t){return t===!1||t==null?t:N.isArray(t)?t.map(yc):String(t)}function mI(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const vI=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hf(t,e,n,i,s){if(N.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!N.isString(e)){if(N.isString(i))return e.indexOf(i)!==-1;if(N.isRegExp(i))return i.test(e)}}function yI(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function _I(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}let rn=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(a,l,u){const c=fa(l);if(!c)throw new Error("header name must be a non-empty string");const d=N.findKey(s,c);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=yc(a))}const o=(a,l)=>N.forEach(a,(u,c)=>r(u,c,l));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(N.isString(e)&&(e=e.trim())&&!vI(e))o(gI(e),n);else if(N.isObject(e)&&N.isIterable(e)){let a={},l,u;for(const c of e){if(!N.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?N.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,n)}else e!=null&&r(n,e,i);return this}get(e,n){if(e=fa(e),e){const i=N.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return mI(s);if(N.isFunction(n))return n.call(this,s,i);if(N.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fa(e),e){const i=N.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||hf(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(o){if(o=fa(o),o){const a=N.findKey(i,o);a&&(!n||hf(i,i[a],a,n))&&(delete i[a],s=!0)}}return N.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||hf(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return N.forEach(this,(s,r)=>{const o=N.findKey(i,r);if(o){n[o]=yc(s),delete n[r];return}const a=e?yI(r):String(r).trim();a!==r&&delete n[r],n[a]=yc(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&N.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[b_]=this[b_]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=fa(o);i[a]||(_I(s,o),i[a]=!0)}return N.isArray(e)?e.forEach(r):r(e),this}};rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(rn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});N.freezeMethods(rn);function df(t,e){const n=this||Gl,i=e||n,s=rn.from(i.headers);let r=i.data;return N.forEach(t,function(a){r=a.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function iC(t){return!!(t&&t.__CANCEL__)}function Vo(t,e,n){pe.call(this,t??"canceled",pe.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(Vo,pe,{__CANCEL__:!0});function sC(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wI(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function EI(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[r];o||(o=u),n[s]=l,i[s]=u;let d=r,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),u-o<e)return;const g=c&&u-c;return g?Math.round(f*1e3/g):void 0}}function bI(t,e){let n=0,i=1e3/e,s,r;const o=(u,c=Date.now())=>{n=c,s=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=i?o(u,c):(s=u,r||(r=setTimeout(()=>{r=null,o(s)},i-d)))},()=>s&&o(s)]}const ih=(t,e,n=3)=>{let i=0;const s=EI(50,250);return bI(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-i,u=s(l),c=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},x_=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},S_=t=>(...e)=>N.asap(()=>t(...e)),xI=Bt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Bt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Bt.origin),Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent)):()=>!0,SI=Bt.hasStandardBrowserEnv?{write(t,e,n,i,s,r,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];N.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),N.isString(i)&&a.push(`path=${i}`),N.isString(s)&&a.push(`domain=${s}`),r===!0&&a.push("secure"),N.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function CI(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function TI(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rC(t,e,n){let i=!CI(e);return t&&(i||n==!1)?TI(t,e):e}const C_=t=>t instanceof rn?{...t}:t;function dr(t,e){e=e||{};const n={};function i(u,c,d,f){return N.isPlainObject(u)&&N.isPlainObject(c)?N.merge.call({caseless:f},u,c):N.isPlainObject(c)?N.merge({},c):N.isArray(c)?c.slice():c}function s(u,c,d,f){if(N.isUndefined(c)){if(!N.isUndefined(u))return i(void 0,u,d,f)}else return i(u,c,d,f)}function r(u,c){if(!N.isUndefined(c))return i(void 0,c)}function o(u,c){if(N.isUndefined(c)){if(!N.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function a(u,c,d){if(d in e)return i(u,c);if(d in t)return i(void 0,u)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>s(C_(u),C_(c),d,!0)};return N.forEach(Object.keys({...t,...e}),function(c){const d=l[c]||s,f=d(t[c],e[c],c);N.isUndefined(f)&&d!==a||(n[c]=f)}),n}const oC=t=>{const e=dr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=e;if(e.headers=o=rn.from(o),e.url=eC(rC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),N.isFormData(n)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(N.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&o.set(c,d)})}}if(Bt.hasStandardBrowserEnv&&(i&&N.isFunction(i)&&(i=i(e)),i||i!==!1&&xI(e.url))){const l=s&&r&&SI.read(r);l&&o.set(s,l)}return e},kI=typeof XMLHttpRequest<"u",PI=kI&&function(t){return new Promise(function(n,i){const s=oC(t);let r=s.data;const o=rn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,c,d,f,g,p;function v(){g&&g(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function b(){if(!E)return;const T=rn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:T,config:t,request:E};sC(function(S){n(S),v()},function(S){i(S),v()},P),E=null}"onloadend"in E?E.onloadend=b:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(b)},E.onabort=function(){E&&(i(new pe("Request aborted",pe.ECONNABORTED,t,E)),E=null)},E.onerror=function(k){const P=k&&k.message?k.message:"Network Error",R=new pe(P,pe.ERR_NETWORK,t,E);R.event=k||null,i(R),E=null},E.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||tC;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),i(new pe(k,P.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,t,E)),E=null},r===void 0&&o.setContentType(null),"setRequestHeader"in E&&N.forEach(o.toJSON(),function(k,P){E.setRequestHeader(P,k)}),N.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),a&&a!=="json"&&(E.responseType=s.responseType),u&&([f,p]=ih(u,!0),E.addEventListener("progress",f)),l&&E.upload&&([d,g]=ih(l),E.upload.addEventListener("progress",d),E.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(c=T=>{E&&(i(!T||T.type?new Vo(null,t,E):T),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const _=wI(s.url);if(_&&Bt.protocols.indexOf(_)===-1){i(new pe("Unsupported protocol "+_+":",pe.ERR_BAD_REQUEST,t));return}E.send(r||null)})},LI=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(u){if(!s){s=!0,a();const c=u instanceof Error?u:this.reason;i.abort(c instanceof pe?c:new Vo(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,r(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:l}=i;return l.unsubscribe=()=>N.asap(a),l}},AI=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},II=async function*(t,e){for await(const n of MI(t))yield*AI(n,e)},MI=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},T_=(t,e,n,i)=>{const s=II(t,e);let r=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await s.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let f=r+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},k_=64*1024,{isFunction:Vu}=N,RI=(({Request:t,Response:e})=>({Request:t,Response:e}))(N.global),{ReadableStream:P_,TextEncoder:L_}=N.global,A_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},OI=t=>{t=N.merge.call({skipUndefined:!0},RI,t);const{fetch:e,Request:n,Response:i}=t,s=e?Vu(e):typeof fetch=="function",r=Vu(n),o=Vu(i);if(!s)return!1;const a=s&&Vu(P_),l=s&&(typeof L_=="function"?(p=>v=>p.encode(v))(new L_):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=r&&a&&A_(()=>{let p=!1;const v=new n(Bt.origin,{body:new P_,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),c=o&&a&&A_(()=>N.isReadableStream(new i("").body)),d={stream:c&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(v,E)=>{let b=v&&v[p];if(b)return b.call(v);throw new pe(`Response type '${p}' is not supported`,pe.ERR_NOT_SUPPORT,E)})});const f=async p=>{if(p==null)return 0;if(N.isBlob(p))return p.size;if(N.isSpecCompliantForm(p))return(await new n(Bt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(N.isArrayBufferView(p)||N.isArrayBuffer(p))return p.byteLength;if(N.isURLSearchParams(p)&&(p=p+""),N.isString(p))return(await l(p)).byteLength},g=async(p,v)=>{const E=N.toFiniteNumber(p.getContentLength());return E??f(v)};return async p=>{let{url:v,method:E,data:b,signal:_,cancelToken:T,timeout:k,onDownloadProgress:P,onUploadProgress:R,responseType:S,headers:x,withCredentials:C="same-origin",fetchOptions:L}=oC(p),M=e||fetch;S=S?(S+"").toLowerCase():"text";let O=LI([_,T&&T.toAbortSignal()],k),I=null;const $=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let q;try{if(R&&u&&E!=="get"&&E!=="head"&&(q=await g(x,b))!==0){let ee=new n(v,{method:"POST",body:b,duplex:"half"}),Z;if(N.isFormData(b)&&(Z=ee.headers.get("content-type"))&&x.setContentType(Z),ee.body){const[K,oe]=x_(q,ih(S_(R)));b=T_(ee.body,k_,K,oe)}}N.isString(C)||(C=C?"include":"omit");const X=r&&"credentials"in n.prototype,J={...L,signal:O,method:E.toUpperCase(),headers:x.normalize().toJSON(),body:b,duplex:"half",credentials:X?C:void 0};I=r&&new n(v,J);let F=await(r?M(I,L):M(v,J));const H=c&&(S==="stream"||S==="response");if(c&&(P||H&&$)){const ee={};["status","statusText","headers"].forEach(j=>{ee[j]=F[j]});const Z=N.toFiniteNumber(F.headers.get("content-length")),[K,oe]=P&&x_(Z,ih(S_(P),!0))||[];F=new i(T_(F.body,k_,K,()=>{oe&&oe(),$&&$()}),ee)}S=S||"text";let G=await d[N.findKey(d,S)||"text"](F,p);return!H&&$&&$(),await new Promise((ee,Z)=>{sC(ee,Z,{data:G,headers:rn.from(F.headers),status:F.status,statusText:F.statusText,config:p,request:I})})}catch(X){throw $&&$(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,p,I),{cause:X.cause||X}):pe.from(X,X&&X.code,p,I)}}},DI=new Map,aC=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,r=[i,s,n];let o=r.length,a=o,l,u,c=DI;for(;a--;)l=r[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:OI(e)),c=u;return u};aC();const wm={http:ZA,xhr:PI,fetch:{get:aC}};N.forEach(wm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const I_=t=>`- ${t}`,NI=t=>N.isFunction(t)||t===null||t===!1;function VI(t,e){t=N.isArray(t)?t:[t];const{length:n}=t;let i,s;const r={};for(let o=0;o<n;o++){i=t[o];let a;if(s=i,!NI(i)&&(s=wm[(a=String(i)).toLowerCase()],s===void 0))throw new pe(`Unknown adapter '${a}'`);if(s&&(N.isFunction(s)||(s=s.get(e))))break;r[a||"#"+o]=s}if(!s){const o=Object.entries(r).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(I_).join(`
`):" "+I_(o[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const lC={getAdapter:VI,adapters:wm};function ff(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vo(null,t)}function M_(t){return ff(t),t.headers=rn.from(t.headers),t.data=df.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lC.getAdapter(t.adapter||Gl.adapter,t)(t).then(function(i){return ff(t),i.data=df.call(t,t.transformResponse,i),i.headers=rn.from(i.headers),i},function(i){return iC(i)||(ff(t),i&&i.response&&(i.response.data=df.call(t,t.transformResponse,i.response),i.response.headers=rn.from(i.response.headers))),Promise.reject(i)})}const uC="1.13.2",sd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sd[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const R_={};sd.transitional=function(e,n,i){function s(r,o){return"[Axios v"+uC+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new pe(s(o," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!R_[o]&&(R_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};sd.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function FI(t,e,n){if(typeof t!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new pe("option "+r+" must be "+l,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+r,pe.ERR_BAD_OPTION)}}const _c={assertOptions:FI,validators:sd},Un=_c.validators;let sr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new E_,response:new E_}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=dr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&_c.assertOptions(i,{silentJSONParsing:Un.transitional(Un.boolean),forcedJSONParsing:Un.transitional(Un.boolean),clarifyTimeoutError:Un.transitional(Un.boolean)},!1),s!=null&&(N.isFunction(s)?n.paramsSerializer={serialize:s}:_c.assertOptions(s,{encode:Un.function,serialize:Un.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_c.assertOptions(n,{baseUrl:Un.spelling("baseURL"),withXsrfToken:Un.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&N.merge(r.common,r[n.method]);r&&N.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=rn.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,f;if(!l){const p=[M_.bind(this),void 0];for(p.unshift(...a),p.push(...u),f=p.length,c=Promise.resolve(n);d<f;)c=c.then(p[d++],p[d++]);return c}f=a.length;let g=n;for(;d<f;){const p=a[d++],v=a[d++];try{g=p(g)}catch(E){v.call(this,E);break}}try{c=M_.call(this,g)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=dr(this.defaults,e);const n=rC(e.baseURL,e.url,e.allowAbsoluteUrls);return eC(n,e.params,e.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(e){sr.prototype[e]=function(n,i){return this.request(dr(i||{},{method:e,url:n,data:(i||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,a){return this.request(dr(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}sr.prototype[e]=n(),sr.prototype[e+"Form"]=n(!0)});let jI=class cC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new Vo(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new cC(function(s){e=s}),cancel:e}}};function BI(t){return function(n){return t.apply(null,n)}}function zI(t){return N.isObject(t)&&t.isAxiosError===!0}const Vp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Vp).forEach(([t,e])=>{Vp[e]=t});function hC(t){const e=new sr(t),n=US(sr.prototype.request,e);return N.extend(n,sr.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return hC(dr(t,s))},n}const ot=hC(Gl);ot.Axios=sr;ot.CanceledError=Vo;ot.CancelToken=jI;ot.isCancel=iC;ot.VERSION=uC;ot.toFormData=id;ot.AxiosError=pe;ot.Cancel=ot.CanceledError;ot.all=function(e){return Promise.all(e)};ot.spread=BI;ot.isAxiosError=zI;ot.mergeConfig=dr;ot.AxiosHeaders=rn;ot.formToJSON=t=>nC(N.isHTMLForm(t)?new FormData(t):t);ot.getAdapter=lC.getAdapter;ot.HttpStatusCode=Vp;ot.default=ot;const{Axios:u3,AxiosError:c3,CanceledError:h3,isCancel:d3,CancelToken:f3,VERSION:p3,all:g3,Cancel:m3,isAxiosError:v3,spread:y3,toFormData:_3,AxiosHeaders:w3,HttpStatusCode:E3,formToJSON:b3,getAdapter:x3,mergeConfig:S3}=ot;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Kl(t){return t+.5|0}const Wi=(t,e,n)=>Math.max(Math.min(t,n),e);function Ta(t){return Wi(Kl(t*2.55),0,255)}function os(t){return Wi(Kl(t*255),0,255)}function ci(t){return Wi(Kl(t/2.55)/100,0,1)}function O_(t){return Wi(Kl(t*100),0,100)}const mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fp=[..."0123456789ABCDEF"],UI=t=>Fp[t&15],$I=t=>Fp[(t&240)>>4]+Fp[t&15],Fu=t=>(t&240)>>4===(t&15),HI=t=>Fu(t.r)&&Fu(t.g)&&Fu(t.b)&&Fu(t.a);function WI(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&mn[t[1]]*17,g:255&mn[t[2]]*17,b:255&mn[t[3]]*17,a:e===5?mn[t[4]]*17:255}:(e===7||e===9)&&(n={r:mn[t[1]]<<4|mn[t[2]],g:mn[t[3]]<<4|mn[t[4]],b:mn[t[5]]<<4|mn[t[6]],a:e===9?mn[t[7]]<<4|mn[t[8]]:255})),n}const qI=(t,e)=>t<255?e(t):"";function GI(t){var e=HI(t)?UI:$I;return t?"#"+e(t.r)+e(t.g)+e(t.b)+qI(t.a,e):void 0}const KI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dC(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function QI(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function YI(t,e,n){const i=dC(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function XI(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Em(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,u,c;return r!==o&&(c=r-o,u=a>.5?c/(2-r-o):c/(r+o),l=XI(n,i,s,c,r),l=l*60+.5),[l|0,u||0,a]}function bm(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(os)}function xm(t,e,n){return bm(dC,t,e,n)}function ZI(t,e,n){return bm(YI,t,e,n)}function JI(t,e,n){return bm(QI,t,e,n)}function fC(t){return(t%360+360)%360}function eM(t){const e=KI.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ta(+e[5]):os(+e[5]));const s=fC(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=ZI(s,r,o):e[1]==="hsv"?i=JI(s,r,o):i=xm(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function tM(t,e){var n=Em(t);n[0]=fC(n[0]+e),n=xm(n),t.r=n[0],t.g=n[1],t.b=n[2]}function nM(t){if(!t)return;const e=Em(t),n=e[0],i=O_(e[1]),s=O_(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${ci(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const D_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},N_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iM(){const t={},e=Object.keys(N_),n=Object.keys(D_);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,D_[r]);r=parseInt(N_[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let ju;function sM(t){ju||(ju=iM(),ju.transparent=[0,0,0,0]);const e=ju[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const rM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oM(t){const e=rM.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Ta(o):Wi(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Ta(i):Wi(i,0,255)),s=255&(e[4]?Ta(s):Wi(s,0,255)),r=255&(e[6]?Ta(r):Wi(r,0,255)),{r:i,g:s,b:r,a:n}}}function aM(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ci(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const pf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function lM(t,e,n){const i=Fr(ci(t.r)),s=Fr(ci(t.g)),r=Fr(ci(t.b));return{r:os(pf(i+n*(Fr(ci(e.r))-i))),g:os(pf(s+n*(Fr(ci(e.g))-s))),b:os(pf(r+n*(Fr(ci(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Bu(t,e,n){if(t){let i=Em(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=xm(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function pC(t,e){return t&&Object.assign(e||{},t)}function V_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=os(t[3]))):(e=pC(t,{r:0,g:0,b:0,a:1}),e.a=os(e.a)),e}function uM(t){return t.charAt(0)==="r"?oM(t):eM(t)}class wl{constructor(e){if(e instanceof wl)return e;const n=typeof e;let i;n==="object"?i=V_(e):n==="string"&&(i=WI(e)||sM(e)||uM(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=pC(this._rgb);return e&&(e.a=ci(e.a)),e}set rgb(e){this._rgb=V_(e)}rgbString(){return this._valid?aM(this._rgb):void 0}hexString(){return this._valid?GI(this._rgb):void 0}hslString(){return this._valid?nM(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-u,i.r=255&u*i.r+r*s.r+.5,i.g=255&u*i.g+r*s.g+.5,i.b=255&u*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=lM(this._rgb,e._rgb,n)),this}clone(){return new wl(this.rgb)}alpha(e){return this._rgb.a=os(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Kl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bu(this._rgb,2,e),this}darken(e){return Bu(this._rgb,2,-e),this}saturate(e){return Bu(this._rgb,1,e),this}desaturate(e){return Bu(this._rgb,1,-e),this}rotate(e){return tM(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ri(){}const cM=(()=>{let t=0;return()=>t++})();function _e(t){return t==null}function qe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function tt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ln(t,e){return tt(t)?t:e}function de(t,e){return typeof t>"u"?e:t}const hM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,gC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ve(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Oe(t,e,n,i){let s,r,o;if(qe(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(be(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function sh(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function rh(t){if(qe(t))return t.map(rh);if(be(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=rh(t[n[s]]);return e}return t}function mC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dM(t,e,n,i){if(!mC(t))return;const s=e[t],r=n[t];be(s)&&be(r)?El(s,r,i):e[t]=rh(r)}function El(t,e,n){const i=qe(e)?e:[e],s=i.length;if(!be(t))return t;n=n||{};const r=n.merger||dM;let o;for(let a=0;a<s;++a){if(o=i[a],!be(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)r(l[u],t,o,n)}return t}function Ha(t,e){return El(t,e,{merger:fM})}function fM(t,e,n){if(!mC(t))return;const i=e[t],s=n[t];be(i)&&be(s)?Ha(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=rh(s))}const F_={"":t=>t,x:t=>t.x,y:t=>t.y};function pM(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function gM(t){const e=pM(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ps(t,e){return(F_[e]||(F_[e]=gM(e)))(t)}function Sm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const bl=t=>typeof t<"u",gs=t=>typeof t=="function",j_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function mM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Me=Math.PI,He=2*Me,vM=He+Me,oh=Number.POSITIVE_INFINITY,yM=Me/180,rt=Me/2,js=Me/4,B_=Me*2/3,qi=Math.log10,Yn=Math.sign;function Wa(t,e,n){return Math.abs(t-e)<n}function z_(t){const e=Math.round(t);t=Wa(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(qi(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function _M(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function wM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function So(t){return!wM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function EM(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function vC(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function In(t){return t*(Me/180)}function Cm(t){return t*(180/Me)}function U_(t){if(!tt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function yC(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Me&&(r+=He),{angle:r,distance:s}}function jp(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bM(t,e){return(t-e+vM)%He-Me}function Vt(t){return(t%He+He)%He}function xl(t,e,n,i){const s=Vt(t),r=Vt(e),o=Vt(n),a=Vt(r-s),l=Vt(o-s),u=Vt(s-r),c=Vt(s-o);return s===r||s===o||i&&r===o||a>l&&u<c}function wt(t,e,n){return Math.max(e,Math.min(n,t))}function xM(t){return wt(t,-32768,32767)}function fi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Tm(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const pi=(t,e,n,i)=>Tm(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),SM=(t,e,n)=>Tm(t,n,i=>t[i][e]>=n);function CM(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const _C=["push","pop","shift","splice","unshift"];function TM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_C.forEach(n=>{const i="_onData"+Sm(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function $_(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(_C.forEach(r=>{delete t[r]}),delete t._chartjs)}function wC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const EC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function bC(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,EC.call(window,()=>{i=!1,t.apply(e,n)}))}}function kM(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const km=t=>t==="start"?"left":t==="end"?"right":"center",Dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,PM=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function xC(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=o.axis,{min:d,max:f,minDefined:g,maxDefined:p}=o.getUserBounds();if(g){if(s=Math.min(pi(l,c,d).lo,n?i:pi(e,c,o.getPixelForValue(d)).lo),u){const v=l.slice(0,s+1).reverse().findIndex(E=>!_e(E[a.axis]));s-=Math.max(0,v)}s=wt(s,0,i-1)}if(p){let v=Math.max(pi(l,o.axis,f,!0).hi+1,n?0:pi(e,c,o.getPixelForValue(f),!0).hi+1);if(u){const E=l.slice(v-1).findIndex(b=>!_e(b[a.axis]));v+=Math.max(0,E)}r=wt(v,s,i)-s}else r=i-s}return{start:s,count:r}}function SC(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const zu=t=>t===0||t===1,H_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*He/n)),W_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*He/n)+1,qa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*rt)+1,easeOutSine:t=>Math.sin(t*rt),easeInOutSine:t=>-.5*(Math.cos(Me*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>zu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>zu(t)?t:H_(t,.075,.3),easeOutElastic:t=>zu(t)?t:W_(t,.075,.3),easeInOutElastic(t){return zu(t)?t:t<.5?.5*H_(t*2,.1125,.45):.5+.5*W_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-qa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?qa.easeInBounce(t*2)*.5:qa.easeOutBounce(t*2-1)*.5+.5};function Pm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function q_(t){return Pm(t)?t:new wl(t)}function gf(t){return Pm(t)?t:new wl(t).saturate(.5).darken(.1).hexString()}const LM=["x","y","borderWidth","radius","tension"],AM=["color","borderColor","backgroundColor"];function IM(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:AM},numbers:{type:"number",properties:LM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function MM(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const G_=new Map;function RM(t,e){e=e||{};const n=t+JSON.stringify(e);let i=G_.get(n);return i||(i=new Intl.NumberFormat(t,e),G_.set(n,i)),i}function Ql(t,e,n){return RM(e,n).format(t)}const CC={values(t){return qe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),r=OM(t,n)}const o=qi(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ql(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(qi(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?CC.numeric.call(this,t,e,n):""}};function OM(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var rd={formatters:CC};function DM(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const fr=Object.create(null),Bp=Object.create(null);function Ga(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function mf(t,e,n){return typeof e=="string"?El(Ga(t,e),n):El(Ga(t,""),e)}class NM{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>gf(s.backgroundColor),this.hoverBorderColor=(i,s)=>gf(s.borderColor),this.hoverColor=(i,s)=>gf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return mf(this,e,n)}get(e){return Ga(this,e)}describe(e,n){return mf(Bp,e,n)}override(e,n){return mf(fr,e,n)}route(e,n,i,s){const r=Ga(this,e),o=Ga(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return be(l)?Object.assign({},u,l):de(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ge=new NM({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[IM,MM,DM]);function VM(t){return!t||_e(t.size)||_e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ah(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function FM(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,u,c,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!qe(d))o=ah(t,s,r,o,d);else if(qe(d))for(u=0,c=d.length;u<c;u++)f=d[u],f!=null&&!qe(f)&&(o=ah(t,s,r,o,f));t.restore();const g=r.length/2;if(g>n.length){for(l=0;l<g;l++)delete s[r[l]];r.splice(0,g)}return o}function Bs(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function K_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function zp(t,e,n,i){TC(t,e,n,i,null)}function TC(t,e,n,i,s){let r,o,a,l,u,c,d,f;const g=e.pointStyle,p=e.rotation,v=e.radius;let E=(p||0)*yM;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(E),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:s?t.ellipse(n,i,s/2,v,0,0,He):t.arc(n,i,v,0,He),t.closePath();break;case"triangle":c=s?s/2:v,t.moveTo(n+Math.sin(E)*c,i-Math.cos(E)*v),E+=B_,t.lineTo(n+Math.sin(E)*c,i-Math.cos(E)*v),E+=B_,t.lineTo(n+Math.sin(E)*c,i-Math.cos(E)*v),t.closePath();break;case"rectRounded":u=v*.516,l=v-u,o=Math.cos(E+js)*l,d=Math.cos(E+js)*(s?s/2-u:l),a=Math.sin(E+js)*l,f=Math.sin(E+js)*(s?s/2-u:l),t.arc(n-d,i-a,u,E-Me,E-rt),t.arc(n+f,i-o,u,E-rt,E),t.arc(n+d,i+a,u,E,E+rt),t.arc(n-f,i+o,u,E+rt,E+Me),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,c=s?s/2:l,t.rect(n-c,i-l,2*c,2*l);break}E+=js;case"rectRot":d=Math.cos(E)*(s?s/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,f=Math.sin(E)*(s?s/2:v),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":E+=js;case"cross":d=Math.cos(E)*(s?s/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,f=Math.sin(E)*(s?s/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(E)*(s?s/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,f=Math.sin(E)*(s?s/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),E+=js,d=Math.cos(E)*(s?s/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,f=Math.sin(E)*(s?s/2:v),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(E)*v,a=Math.sin(E)*v,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(E)*(s?s/2:v),i+Math.sin(E)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function od(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ad(t){t.restore()}function jM(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function BM(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function zM(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),_e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function UM(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,c=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function $M(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function pr(t,e,n,i,s,r={}){const o=qe(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,zM(t,r),l=0;l<o.length;++l)u=o[l],r.backdrop&&$M(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),_e(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,i,r.maxWidth)),t.fillText(u,n,i,r.maxWidth),UM(t,n,i,u,r),i+=Number(s.lineHeight);t.restore()}function Sl(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Me,Me,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Me,rt,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,rt,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-rt,!0),t.lineTo(n+o.topLeft,i)}const HM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qM(t,e){const n=(""+t).match(HM);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const GM=t=>+t||0;function Lm(t,e){const n={},i=be(e),s=i?Object.keys(e):e,r=be(t)?i?o=>de(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=GM(r(o));return n}function kC(t){return Lm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function rr(t){return Lm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $t(t){const e=kC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function gt(t,e){t=t||{},e=e||Ge.font;let n=de(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=de(t.style,e.style);i&&!(""+i).match(WM)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:de(t.family,e.family),lineHeight:qM(de(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:de(t.weight,e.weight),string:""};return s.string=VM(s),s}function ka(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function KM(t,e,n){const{min:i,max:s}=t,r=gC(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Ts(t,e){return Object.assign(Object.create(t),e)}function Am(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=IC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Am([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return LC(a,l,()=>nR(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Y_(a).includes(l)},ownKeys(a){return Y_(a)},set(a,l,u){const c=a._storage||(a._storage=s());return a[l]=c[l]=u,delete a._keys,!0}})}function Co(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:PC(t,i),setContext:r=>Co(t,r,n,i),override:r=>Co(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return LC(r,o,()=>YM(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function PC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:gs(n)?n:()=>n,isIndexable:gs(i)?i:()=>i}}const QM=(t,e)=>t?t+Sm(e):e,Im=(t,e)=>be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function LC(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function YM(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return gs(a)&&o.isScriptable(e)&&(a=XM(e,a,t,n)),qe(a)&&a.length&&(a=ZM(e,a,t,o.isIndexable)),Im(e,a)&&(a=Co(a,s,r&&r[e],o)),a}function XM(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),Im(t,l)&&(l=Mm(s._scopes,s,t,l)),l}function ZM(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(be(e[0])){const l=e,u=s._scopes.filter(c=>c!==l);e=[];for(const c of l){const d=Mm(u,s,t,c);e.push(Co(d,r,o&&o[t],a))}}return e}function AC(t,e,n){return gs(t)?t(e,n):t}const JM=(t,e)=>t===!0?e:typeof t=="string"?ps(e,t):void 0;function eR(t,e,n,i,s){for(const r of e){const o=JM(n,r);if(o){t.add(o);const a=AC(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Mm(t,e,n,i){const s=e._rootScopes,r=AC(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=Q_(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Q_(a,o,r,l,i),l===null)?!1:Am(Array.from(a),[""],s,r,()=>tR(e,n,i))}function Q_(t,e,n,i,s){for(;n;)n=eR(t,e,n,i,s);return n}function tR(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return qe(s)&&be(n)?n:s||{}}function nR(t,e,n,i){let s;for(const r of e)if(s=IC(QM(r,t),n),typeof s<"u")return Im(t,s)?Mm(n,i,t,s):s}function IC(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Y_(t){let e=t._keys;return e||(e=t._keys=iR(t._scopes)),e}function iR(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function MC(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,u,c;for(a=0,l=i;a<l;++a)u=a+n,c=e[u],o[a]={r:s.parse(ps(c,r),u)};return o}const sR=Number.EPSILON||1e-14,To=(t,e)=>e<t.length&&!t[e].skip&&t[e],RC=t=>t==="x"?"y":"x";function rR(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=jp(r,s),l=jp(o,r);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=i*u,f=i*c;return{previous:{x:r.x-d*(o.x-s.x),y:r.y-d*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function oR(t,e,n){const i=t.length;let s,r,o,a,l,u=To(t,0);for(let c=0;c<i-1;++c)if(l=u,u=To(t,c+1),!(!l||!u)){if(Wa(e[c],0,sR)){n[c]=n[c+1]=0;continue}s=n[c]/e[c],r=n[c+1]/e[c],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=s*o*e[c],n[c+1]=r*o*e[c])}}function aR(t,e,n="x"){const i=RC(n),s=t.length;let r,o,a,l=To(t,0);for(let u=0;u<s;++u){if(o=a,a=l,l=To(t,u+1),!a)continue;const c=a[n],d=a[i];o&&(r=(c-o[n])/3,a[`cp1${n}`]=c-r,a[`cp1${i}`]=d-r*e[u]),l&&(r=(l[n]-c)/3,a[`cp2${n}`]=c+r,a[`cp2${i}`]=d+r*e[u])}}function lR(t,e="x"){const n=RC(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,u=To(t,0);for(o=0;o<i;++o)if(a=l,l=u,u=To(t,o+1),!!l){if(u){const c=u[e]-l[e];s[o]=c!==0?(u[n]-l[n])/c:0}r[o]=a?u?Yn(s[o-1])!==Yn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}oR(t,s,r),aR(t,r,e)}function Uu(t,e,n){return Math.max(Math.min(t,n),e)}function uR(t,e){let n,i,s,r,o,a=gi(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&gi(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Uu(s.cp1x,e.left,e.right),s.cp1y=Uu(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Uu(s.cp2x,e.left,e.right),s.cp2y=Uu(s.cp2y,e.top,e.bottom)))}function cR(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")lR(t,s);else{let u=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=rR(u,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&uR(t,n)}function Rm(){return typeof window<"u"&&typeof document<"u"}function Om(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function lh(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const ld=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function hR(t,e){return ld(t).getPropertyValue(e)}const dR=["top","right","bottom","left"];function or(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=dR[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const fR=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function pR(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(fR(s,r,t.target))a=s,l=r;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function qs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=ld(n),r=s.boxSizing==="border-box",o=or(s,"padding"),a=or(s,"border","width"),{x:l,y:u,box:c}=pR(t,n),d=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:g,height:p}=e;return r&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/g*n.width/i),y:Math.round((u-f)/p*n.height/i)}}function gR(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&Om(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=ld(r),l=or(a,"border","width"),u=or(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,i=lh(a.maxWidth,r,"clientWidth"),s=lh(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||oh,maxHeight:s||oh}}const Gi=t=>Math.round(t*10)/10;function mR(t,e,n,i){const s=ld(t),r=or(s,"margin"),o=lh(s.maxWidth,t,"clientWidth")||oh,a=lh(s.maxHeight,t,"clientHeight")||oh,l=gR(t,e,n);let{width:u,height:c}=l;if(s.boxSizing==="content-box"){const f=or(s,"border","width"),g=or(s,"padding");u-=g.width+f.width,c-=g.height+f.height}return u=Math.max(0,u-r.width),c=Math.max(0,i?u/i:c-r.height),u=Gi(Math.min(u,o,l.maxWidth)),c=Gi(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Gi(u/2)),(e!==void 0||n!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=Gi(Math.floor(c*i))),{width:u,height:c}}function X_(t,e,n){const i=e||1,s=Gi(t.height*i),r=Gi(t.width*i);t.height=Gi(t.height),t.width=Gi(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const vR=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Rm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Z_(t,e){const n=hR(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Gs(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function yR(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function _R(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Gs(t,s,n),a=Gs(s,r,n),l=Gs(r,e,n),u=Gs(o,a,n),c=Gs(a,l,n);return Gs(u,c,n)}const wR=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},ER=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function uo(t,e,n){return t?wR(e,n):ER()}function OC(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function DC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function NC(t){return t==="angle"?{between:xl,compare:bM,normalize:Vt}:{between:fi,compare:(e,n)=>e-n,normalize:e=>e}}function J_({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function bR(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=NC(i),l=e.length;let{start:u,end:c,loop:d}=t,f,g;if(d){for(u+=l,c+=l,f=0,g=l;f<g&&o(a(e[u%l][i]),s,r);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:t.style}}function VC(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:u}=NC(i),{start:c,end:d,loop:f,style:g}=bR(t,e,n),p=[];let v=!1,E=null,b,_,T;const k=()=>l(s,T,b)&&a(s,T)!==0,P=()=>a(r,b)===0||l(r,T,b),R=()=>v||k(),S=()=>!v||P();for(let x=c,C=c;x<=d;++x)_=e[x%o],!_.skip&&(b=u(_[i]),b!==T&&(v=l(b,s,r),E===null&&R()&&(E=a(b,s)===0?x:C),E!==null&&S()&&(p.push(J_({start:E,end:x,loop:f,count:o,style:g})),E=null),C=x,T=b));return E!==null&&p.push(J_({start:E,end:d,loop:f,count:o,style:g})),p}function FC(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=VC(i[s],t.points,e);r.length&&n.push(...r)}return n}function xR(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function SR(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function CR(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=xR(n,s,r,i);if(i===!0)return e0(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,u=!!t._fullLoop&&o===0&&a===s-1;return e0(t,SR(n,o,l,u),n,e)}function e0(t,e,n,i){return!i||!i.setContext||!n?e:TR(t,e,n,i)}function TR(t,e,n,i){const s=t._chart.getContext(),r=t0(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let c=r,d=e[0].start,f=d;function g(p,v,E,b){const _=a?-1:1;if(p!==v){for(p+=l;n[p%l].skip;)p-=_;for(;n[v%l].skip;)v+=_;p%l!==v%l&&(u.push({start:p%l,end:v%l,loop:E,style:b}),c=b,d=v%l)}}for(const p of e){d=a?d:p.start;let v=n[d%l],E;for(f=d+1;f<=p.end;f++){const b=n[f%l];E=t0(i.setContext(Ts(s,{type:"segment",p0:v,p1:b,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),kR(E,c)&&g(d,f-1,p.loop,c),v=b,c=E}d<f-1&&g(d,f-1,p.loop,c)}return u}function t0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function kR(t,e){if(!e)return!1;const n=[],i=function(s,r){return Pm(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function $u(t,e,n){return t.options.clip?t[n]:e[n]}function PR(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:$u(n,e,"left"),right:$u(n,e,"right"),top:$u(i,e,"top"),bottom:$u(i,e,"bottom")}:e}function jC(t,e){const n=e._clip;if(n.disabled)return!1;const i=PR(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class LR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=EC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var oi=new LR;const n0="transparent",AR={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=q_(t||n0),s=i.valid&&q_(e||n0);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class IR{constructor(e,n,i,s){const r=n[i];s=ka([e.to,s,r,e.from]);const o=ka([e.from,r,s]);this._active=!0,this._fn=e.fn||AR[e.type||typeof o],this._easing=qa[e.easing]||qa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=ka([e.to,n,s,e.from]),this._from=ka([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class BC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!be(e))return;const n=Object.keys(Ge.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!be(r))return;const o={};for(const a of n)o[a]=r[a];(qe(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=RR(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&MR(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const c=n[u];let d=r[u];const f=i.get(u);if(d)if(f&&d.active()){d.update(f,c,a);continue}else d.cancel();if(!f||!f.duration){e[u]=c;continue}r[u]=d=new IR(f,e,u,c),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return oi.add(this._chart,i),!0}}function MR(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function RR(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function i0(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function OR(t,e,n){if(n===!1)return!1;const i=i0(t,n),s=i0(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function DR(t){let e,n,i,s;return be(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function zC(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function s0(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(c=!0,i.all)continue;break}u=t.values[l],tt(u)&&(r||e===0||Yn(e)===Yn(u))&&(e+=u)}return!c&&!i.all?0:e}function NR(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[s]:c,[r]:t[c]};return a}function vf(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function VR(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function FR(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function jR(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function r0(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function o0(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,u=o.axis,c=VR(r,o,i),d=e.length;let f;for(let g=0;g<d;++g){const p=e[g],{[l]:v,[u]:E}=p,b=p._stacks||(p._stacks={});f=b[u]=jR(s,c,v),f[a]=E,f._top=r0(f,o,!0,i.type),f._bottom=r0(f,o,!1,i.type);const _=f._visualValues||(f._visualValues={});_[a]=E}}function yf(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function BR(t,e){return Ts(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zR(t,e,n){return Ts(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function pa(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const _f=t=>t==="reset"||t==="none",a0=(t,e)=>e?t:Object.assign({},t),UR=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:zC(n,!0),values:null};class Dn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&pa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(d,f,g,p)=>d==="x"?f:d==="r"?p:g,r=n.xAxisID=de(i.xAxisID,yf(e,"x")),o=n.yAxisID=de(i.yAxisID,yf(e,"y")),a=n.rAxisID=de(i.rAxisID,yf(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,r,o,a),c=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$_(this._data,this),e._stacked&&pa(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(be(n)){const s=this._cachedMeta;this._data=NR(n,s)}else if(i!==n){if(i){$_(i,this);const s=this._cachedMeta;pa(s),s._parsed=[]}n&&Object.isExtensible(n)&&TM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=vf(n.vScale,n),n.stack!==i.stack&&(s=!0,pa(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(o0(this,n._parsed),n._stacked=vf(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,u=e>0&&i._parsed[e-1],c,d,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{qe(s[e])?f=this.parseArrayData(i,s,e,n):be(s[e])?f=this.parseObjectData(i,s,e,n):f=this.parsePrimitiveData(i,s,e,n);const g=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<n;++c)i._parsed[c+e]=d=f[c],l&&(g()&&(l=!1),u=d);i._sorted=l}o&&o0(this,f)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,u=r.getLabels(),c=r===o,d=new Array(s);let f,g,p;for(f=0,g=s;f<g;++f)p=f+i,d[f]={[a]:c||r.parse(u[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,u,c,d;for(l=0,u=s;l<u;++l)c=l+i,d=n[c],a[l]={x:r.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let c,d,f,g;for(c=0,d=s;c<d;++c)f=c+i,g=n[f],u[c]={x:r.parse(ps(g,a),f),y:o.parse(ps(g,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:zC(s,!0),values:n._stacks[e.axis]._visualValues};return s0(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=s0(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=UR(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=FR(a);let f,g;function p(){g=s[f];const v=g[a.axis];return!tt(g[e.axis])||c>v||d<v}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(u,e,g,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,e,g,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],tt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=DR(de(this.options.clip,OR(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(e,r,a,l),c=a;c<a+l;++c){const d=s[c];d.hidden||(d.active&&u?o.push(d):d.draw(e,r))}for(c=0;c<o.length;++c)o[c].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=zR(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=BR(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&bl(i);if(a)return a0(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),c),g=Object.keys(Ge.elements[e]),p=()=>this.getContext(i,s,n),v=u.resolveNamedOptions(f,g,p,d);return v.$shared&&(v.$shared=l,r[o]=Object.freeze(a0(v,l))),v}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(e,i,n))}const u=new BC(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||_f(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){_f(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!_f(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&pa(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(Dn,"defaults",{}),Y(Dn,"datasetElementType",null),Y(Dn,"dataElementType",null);function $R(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=wC(i.sort((s,r)=>s-r))}return t._cache.$bar}function HR(t){const e=t.iScale,n=$R(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(bl(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function WR(t,e,n,i){const s=n.barThickness;let r,o;return _e(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function qR(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function GR(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:r,min:o,max:a}}function UC(t,e,n,i){return qe(t)?GR(t,e,n,i):e[n.axis]=n.parse(t,i),e}function l0(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let u,c,d,f;for(u=n,c=n+i;u<c;++u)f=e[u],d={},d[s.axis]=a||s.parse(o[u],u),l.push(UC(f,d,r,u));return l}function wf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function KR(t,e,n){return t!==0?Yn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function QR(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function YR(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=QR(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=u:(n._bottom||0)===i?s=c:(r[u0(c,o,a,l)]=!0,s=u)),r[u0(s,o,a,l)]=!0,t.borderSkipped=r}function u0(t,e,n,i){return i?(t=XR(t,e,n),t=c0(t,n,e)):t=c0(t,e,n),t}function XR(t,e,n){return t===e?n:t===n?e:t}function c0(t,e,n){return t==="start"?e:t==="end"?n:t}function ZR(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ka extends Dn{parsePrimitiveData(e,n,i,s){return l0(e,n,i,s)}parseArrayData(e,n,i,s){return l0(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=r.axis==="x"?a:l,c=o.axis==="x"?a:l,d=[];let f,g,p,v;for(f=i,g=i+s;f<g;++f)v=n[f],p={},p[r.axis]=r.parse(ps(v,u),f),d.push(UC(ps(v,c),p,o,f));return d}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=wf(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s);for(let g=n;g<n+i;g++){const p=this.getParsed(g),v=r||_e(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),E=this._calculateBarIndexPixels(g,c),b=(p._stacks||{})[a.axis],_={horizontal:u,base:v.base,enableBorderRadius:!b||wf(p._custom)||o===b._top||o===b._bottom,x:u?v.head:E.center,y:u?E.center:v.head,height:u?E.size:Math.abs(v.size),width:u?Math.abs(v.size):E.size};f&&(_.options=d||this.resolveDataElementOptions(g,e[g].active?"active":s));const T=_.options||e[g].options;YR(_,T,b,o),ZR(_,T,c.ratio),this.updateElement(e[g],g,_,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],u=c=>{const d=c._parsed.find(g=>g[i.axis]===l),f=d&&d[c.vScale.axis];if(_e(f)||isNaN(f))return!0};for(const c of s)if(!(n!==void 0&&u(c))&&((r===!1||o.indexOf(c.stack)===-1||r===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[de(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||HR(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),u=l._custom,c=wf(u);let d=l[n.axis],f=0,g=i?this.applyStack(n,l,i):d,p,v;g!==d&&(f=g-d,g=d),c&&(d=u.barStart,g=u.barEnd-u.barStart,d!==0&&Yn(d)!==Yn(u.barEnd)&&(f=0),f+=d);const E=!_e(r)&&!c?r:f;let b=n.getPixelForValue(E);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+g):p=b,v=p-b,Math.abs(v)<o){v=KR(v,n,a)*o,d===a&&(b-=v/2);const _=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),k=Math.min(_,T),P=Math.max(_,T);b=Math.max(Math.min(b,P),k),p=b+v,i&&!c&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const _=Yn(v)*n.getLineWidthForValue(a)/2;b+=_,v-=_}return{size:v,base:b,head:p,center:p+v/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=de(s.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,d=s.barThickness==="flex"?qR(e,n,s,c*u):WR(e,n,s,c*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(de(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;a=d.start+d.chunk*p+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}Y(Ka,"id","bar"),Y(Ka,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Y(Ka,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class wc extends Dn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=de(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=de(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),u=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,s),c=o.axis,d=a.axis;for(let f=n;f<n+i;f++){const g=e[f],p=!r&&this.getParsed(f),v={},E=v[c]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[c]),b=v[d]=r?a.getBasePixel():a.getPixelForValue(p[d]);v.skip=isNaN(E)||isNaN(b),u&&(v.options=l||this.resolveDataElementOptions(f,g.active?"active":s),r&&(v.options.radius=0)),this.updateElement(g,f,v,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=de(i&&i._custom,r),s}}Y(wc,"id","bubble"),Y(wc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Y(wc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function JR(t,e,n){let i=1,s=1,r=0,o=0;if(e<He){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(T,k,P)=>xl(T,a,l,!0)?1:Math.max(k,k*n,P,P*n),p=(T,k,P)=>xl(T,a,l,!0)?-1:Math.min(k,k*n,P,P*n),v=g(0,u,d),E=g(rt,c,f),b=p(Me,u,d),_=p(Me+rt,c,f);i=(v-b)/2,s=(E-_)/2,r=-(v+b)/2,o=-(E+_)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class er extends Dn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(be(i[e])){const{key:l="value"}=this._parsing;r=u=>+ps(i[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return In(this.options.rotation-90)}_getCircumference(){return In(this.options.circumference)}_getRotationExtents(){let e=He,n=-He;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(hM(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:v}=JR(d,c,l),E=(i.width-o)/f,b=(i.height-o)/g,_=Math.max(Math.min(E,b)/2,0),T=gC(this.options.radius,_),k=Math.max(T*l,0),P=(T-k)/this._getVisibleDatasetWeightTotal();this.offsetX=p*T,this.offsetY=v*T,s.total=this.calculateTotal(),this.outerRadius=T-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/He)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=r&&u.animateScale,g=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:v,includeOptions:E}=this._getSharedOptions(n,s);let b=this._getRotation(),_;for(_=0;_<n;++_)b+=this._circumference(_,r);for(_=n;_<n+i;++_){const T=this._circumference(_,r),k=e[_],P={x:c+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+T,circumference:T,outerRadius:p,innerRadius:g};E&&(P.options=v||this.resolveDataElementOptions(_,k.active?"active":s)),b+=T,this.updateElement(k,_,P,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?He*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Ql(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(de(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Y(er,"id","doughnut"),Y(er,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Y(er,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Y(er,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const d=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:d.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:s,pointStyle:i,borderRadius:o&&(a||d.borderRadius),index:u}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Qa extends Dn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=xC(n,s,o);this._drawStart=a,this._drawCount=l,SC(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,s),f=o.axis,g=a.axis,{spanGaps:p,segment:v}=this.options,E=So(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||s==="none",_=n+i,T=e.length;let k=n>0&&this.getParsed(n-1);for(let P=0;P<T;++P){const R=e[P],S=b?R:{};if(P<n||P>=_){S.skip=!0;continue}const x=this.getParsed(P),C=_e(x[g]),L=S[f]=o.getPixelForValue(x[f],P),M=S[g]=r||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[g],P);S.skip=isNaN(L)||isNaN(M)||C,S.stop=P>0&&Math.abs(x[f]-k[f])>E,v&&(S.parsed=x,S.raw=u.data[P]),d&&(S.options=c||this.resolveDataElementOptions(P,R.active?"active":s)),b||this.updateElement(R,P,S,s),k=x}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Y(Qa,"id","line"),Y(Qa,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Y(Qa,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ya extends Dn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Ql(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return MC.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,d=u.yCenter,f=u.getIndexAngle(0)-.5*Me;let g=f,p;const v=360/this.countVisibleElements();for(p=0;p<n;++p)g+=this._computeAngle(p,s,v);for(p=n;p<n+i;p++){const E=e[p];let b=g,_=g+this._computeAngle(p,s,v),T=o.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;g=_,r&&(l.animateScale&&(T=0),l.animateRotate&&(b=_=f));const k={x:c,y:d,innerRadius:0,outerRadius:T,startAngle:b,endAngle:_,options:this.resolveDataElementOptions(p,E.active?"active":s)};this.updateElement(E,p,k,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?In(this.resolveDataElementOptions(e,n).angle||i):0}}Y(Ya,"id","polarArea"),Y(Ya,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Y(Ya,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Up extends er{}Y(Up,"id","pie"),Y(Up,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ec extends Dn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return MC.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],u=this.resolveDataElementOptions(a,l.active?"active":s),c=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:c.x,f=o?r.yCenter:c.y,g={x:d,y:f,angle:c.angle,skip:isNaN(d)||isNaN(f),options:u};this.updateElement(l,a,g,s)}}}Y(Ec,"id","radar"),Y(Ec,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Y(Ec,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class bc extends Dn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=xC(n,i,s);if(this._drawStart=r,this._drawCount=o,SC(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(n,s),d=this.getSharedOptions(c),f=this.includeOptions(s,d),g=o.axis,p=a.axis,{spanGaps:v,segment:E}=this.options,b=So(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none";let T=n>0&&this.getParsed(n-1);for(let k=n;k<n+i;++k){const P=e[k],R=this.getParsed(k),S=_?P:{},x=_e(R[p]),C=S[g]=o.getPixelForValue(R[g],k),L=S[p]=r||x?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[p],k);S.skip=isNaN(C)||isNaN(L)||x,S.stop=k>0&&Math.abs(R[g]-T[g])>b,E&&(S.parsed=R,S.raw=u.data[k]),f&&(S.options=d||this.resolveDataElementOptions(k,P.active?"active":s)),_||this.updateElement(P,k,S,s),T=R}this.updateSharedOptions(d,s,c)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}Y(bc,"id","scatter"),Y(bc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Y(bc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var eO=Object.freeze({__proto__:null,BarController:Ka,BubbleController:wc,DoughnutController:er,LineController:Qa,PieController:Up,PolarAreaController:Ya,RadarController:Ec,ScatterController:bc});function zs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Dm{constructor(e){Y(this,"options");this.options=e||{}}static override(e){Object.assign(Dm.prototype,e)}init(){}formats(){return zs()}parse(){return zs()}format(){return zs()}add(){return zs()}diff(){return zs()}startOf(){return zs()}endOf(){return zs()}}var tO={_date:Dm};function nO(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?SM:pi;if(i){if(s._sharedOptions){const c=r[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const f=u(r,e,n-d),g=u(r,e,n+d);return{lo:f.lo,hi:g.hi}}}}else{const c=u(r,e,n);if(l){const{vScale:d}=s._cachedMeta,{_parsed:f}=t,g=f.slice(0,c.lo+1).reverse().findIndex(v=>!_e(v[d.axis]));c.lo-=Math.max(0,g);const p=f.slice(c.hi).findIndex(v=>!_e(v[d.axis]));c.hi+=Math.max(0,p)}return c}}return{lo:0,hi:r.length-1}}function ud(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:u,data:c}=r[a],{lo:d,hi:f}=nO(r[a],e,o,s);for(let g=d;g<=f;++g){const p=c[g];p.skip||i(p,u,g)}}}function iO(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ef(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||ud(t,n,e,function(a,l,u){!s&&!gi(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:u})},!0),r}function sO(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:d}=yC(o,{x:e.x,y:e.y});xl(d,u,c)&&s.push({element:o,datasetIndex:a,index:l})}return ud(t,n,e,r),s}function rO(t,e,n,i,s,r){let o=[];const a=iO(n);let l=Number.POSITIVE_INFINITY;function u(c,d,f){const g=c.inRange(e.x,e.y,s);if(i&&!g)return;const p=c.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!g)return;const E=a(e,p);E<l?(o=[{element:c,datasetIndex:d,index:f}],l=E):E===l&&o.push({element:c,datasetIndex:d,index:f})}return ud(t,n,e,u),o}function bf(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?sO(t,e,n,s):rO(t,e,n,i,s,r)}function h0(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ud(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],s)&&(r.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var oO={modes:{index(t,e,n,i){const s=qs(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ef(t,s,r,i,o):bf(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,i){const s=qs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ef(t,s,r,i,o):bf(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,i){const s=qs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ef(t,s,r,i,o)},nearest(t,e,n,i){const s=qs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return bf(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=qs(e,t);return h0(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=qs(e,t);return h0(t,s,"y",n.intersect,i)}}};const $C=["left","top","right","bottom"];function ga(t,e){return t.filter(n=>n.pos===e)}function d0(t,e){return t.filter(n=>$C.indexOf(n.pos)===-1&&n.box.axis===e)}function ma(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function aO(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function lO(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!$C.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function uO(t,e){const n=lO(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=c?c*s:l&&e.availableHeight)}return n}function cO(t){const e=aO(t),n=ma(e.filter(u=>u.box.fullSize),!0),i=ma(ga(e,"left"),!0),s=ma(ga(e,"right")),r=ma(ga(e,"top"),!0),o=ma(ga(e,"bottom")),a=d0(e,"x"),l=d0(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:ga(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function f0(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function HC(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function hO(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!be(s)){n.size&&(t[s]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[s]+=n.size}r.getPadding&&HC(o,r.getPadding());const a=Math.max(0,e.outerWidth-f0(o,t,"left","right")),l=Math.max(0,e.outerHeight-f0(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function dO(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function fO(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Pa(t,e,n,i){const s=[];let r,o,a,l,u,c;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,fO(a.horizontal,e));const{same:d,other:f}=hO(e,n,a,i);u|=d&&s.length,c=c||f,l.fullSize||s.push(a)}return u&&Pa(s,e,n,i)||c}function Hu(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function p0(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,u=i[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*c,f=u.size||l.height;bl(u.start)&&(o=u.start),l.fullSize?Hu(l,s.left,o,n.outerWidth-s.right-s.left,f):Hu(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*c,f=u.size||l.width;bl(u.start)&&(r=u.start),l.fullSize?Hu(l,r,s.top,f,n.outerHeight-s.bottom-s.top):Hu(l,r,e.top+u.placed,f,d),u.start=r,u.placed+=d,r=l.right}}e.x=r,e.y=o}var zt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=$t(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=cO(t.boxes),l=a.vertical,u=a.horizontal;Oe(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const c=l.reduce((v,E)=>E.box.options&&E.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},s);HC(f,$t(i));const g=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=uO(l.concat(u),d);Pa(a.fullSize,g,d,p),Pa(l,g,d,p),Pa(u,g,d,p)&&Pa(l,g,d,p),dO(g),p0(a.leftAndTop,g,d,p),g.x+=g.w,g.y+=g.h,p0(a.rightAndBottom,g,d,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Oe(a.chartArea,v=>{const E=v.box;Object.assign(E,t.chartArea),E.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class WC{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class pO extends WC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xc="$chartjs",gO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},g0=t=>t===null||t==="";function mO(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[xc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",g0(s)){const r=Z_(t,"width");r!==void 0&&(t.width=r)}if(g0(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Z_(t,"height");r!==void 0&&(t.height=r)}return t}const qC=vR?{passive:!0}:!1;function vO(t,e,n){t&&t.addEventListener(e,n,qC)}function yO(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,qC)}function _O(t,e){const n=gO[t.type]||t.type,{x:i,y:s}=qs(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function uh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function wO(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||uh(a.addedNodes,i),o=o&&!uh(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function EO(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||uh(a.removedNodes,i),o=o&&!uh(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Cl=new Map;let m0=0;function GC(){const t=window.devicePixelRatio;t!==m0&&(m0=t,Cl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function bO(t,e){Cl.size||window.addEventListener("resize",GC),Cl.set(t,e)}function xO(t){Cl.delete(t),Cl.size||window.removeEventListener("resize",GC)}function SO(t,e,n){const i=t.canvas,s=i&&Om(i);if(!s)return;const r=bC((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||r(u,c)});return o.observe(s),bO(t,r),o}function xf(t,e,n){n&&n.disconnect(),e==="resize"&&xO(t)}function CO(t,e,n){const i=t.canvas,s=bC(r=>{t.ctx!==null&&n(_O(r,t))},t);return vO(i,e,s),s}class TO extends WC{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(mO(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[xc])return!1;const i=n[xc].initial;["height","width"].forEach(r=>{const o=i[r];_e(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[xc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:wO,detach:EO,resize:SO}[n]||CO;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:xf,detach:xf,resize:xf}[n]||yO)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return mR(e,n,i,s)}isAttached(e){const n=e&&Om(e);return!!(n&&n.isConnected)}}function kO(t){return!Rm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?pO:TO}class Vn{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return So(this.x)&&So(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}Y(Vn,"defaults",{}),Y(Vn,"defaultRoutes");function PO(t,e){const n=t.options.ticks,i=LO(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?IO(e):[],o=r.length,a=r[0],l=r[o-1],u=[];if(o>s)return MO(e,u,r,o/s),u;const c=AO(r,e,s);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(Wu(e,u,c,_e(g)?0:a-g,a),d=0,f=o-1;d<f;d++)Wu(e,u,c,r[d],r[d+1]);return Wu(e,u,c,l,_e(g)?e.length:l+g),u}return Wu(e,u,c),u}function LO(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function AO(t,e,n){const i=RO(t),s=e.length/n;if(!i)return Math.max(s,1);const r=_M(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function IO(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function MO(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Wu(t,e,n,i,s){const r=de(i,0),o=Math.min(de(s,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),c=r;c<0;)a++,c=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(r+a*n))}function RO(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const OO=t=>t==="left"?"right":t==="right"?"left":t,v0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,y0=(t,e)=>Math.min(e||t,t);function _0(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function DO(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(i===1?u=Math.max(l-r,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<r-a||l>o+a)))return l}function NO(t,e){Oe(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function va(t){return t.drawTicks?t.tickLength:0}function w0(t,e){if(!t.display)return 0;const n=gt(t.font,e),i=$t(t.padding);return(qe(t.text)?t.text.length:1)*n.lineHeight+i.height}function VO(t,e){return Ts(t,{scale:e,type:"scale"})}function FO(t,e,n){return Ts(t,{tick:n,index:e,type:"tick"})}function jO(t,e,n){let i=km(t);return(n&&e!=="right"||!n&&e==="right")&&(i=OO(i)),i}function BO(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let d=0,f,g,p;const v=o-s,E=a-r;if(t.isHorizontal()){if(g=Dt(i,r,a),be(n)){const b=Object.keys(n)[0],_=n[b];p=c[b].getPixelForValue(_)+v-e}else n==="center"?p=(u.bottom+u.top)/2+v-e:p=v0(t,n,e);f=a-r}else{if(be(n)){const b=Object.keys(n)[0],_=n[b];g=c[b].getPixelForValue(_)-E+e}else n==="center"?g=(u.left+u.right)/2-E+e:g=v0(t,n,e);p=Dt(i,o,s),d=n==="left"?-rt:rt}return{titleX:g,titleY:p,maxWidth:f,rotation:d}}class wr extends Vn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=ln(e,Number.POSITIVE_INFINITY),n=ln(n,Number.NEGATIVE_INFINITY),i=ln(i,Number.POSITIVE_INFINITY),s=ln(s,Number.NEGATIVE_INFINITY),{min:ln(e,i),max:ln(n,s),minDefined:tt(e),maxDefined:tt(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:ln(n,ln(i,n)),max:ln(i,ln(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=KM(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?_0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=PO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ve(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Ve(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=y0(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,g=wt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),d+6>a&&(a=g/(i-(e.offset?.5:1)),l=this.maxHeight-va(e.grid)-n.padding-w0(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=Cm(Math.min(Math.asin(wt((c.highest.height+6)/a,-1,1)),Math.asin(wt(l/u,-1,1))-Math.asin(wt(f/u,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=w0(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=va(r)+l):(e.height=this.maxHeight,e.width=va(r)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),g=i.padding*2,p=In(this.labelRotation),v=Math.cos(p),E=Math.sin(p);if(a){const b=i.mirror?0:E*d.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+b+g)}else{const b=i.mirror?0:v*d.width+E*f.height;e.width=Math.min(this.maxWidth,e.width+b+g)}this._calculatePadding(u,c,E,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?u?(f=s*e.width,g=i*n.height):(f=i*e.height,g=s*n.width):r==="start"?g=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=e.height/2;r==="start"?(c=0,d=e.height):r==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)_e(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=_0(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/y0(n,i));let u=0,c=0,d,f,g,p,v,E,b,_,T,k,P;for(d=0;d<n;d+=l){if(p=e[d].label,v=this._resolveTickFontOptions(d),s.font=E=v.string,b=r[E]=r[E]||{data:{},gc:[]},_=v.lineHeight,T=k=0,!_e(p)&&!qe(p))T=ah(s,b.data,b.gc,T,p),k=_;else if(qe(p))for(f=0,g=p.length;f<g;++f)P=p[f],!_e(P)&&!qe(P)&&(T=ah(s,b.data,b.gc,T,P),k+=_);o.push(T),a.push(k),u=Math.max(T,u),c=Math.max(k,c)}NO(r,n);const R=o.indexOf(u),S=a.indexOf(c),x=C=>({width:o[C]||0,height:a[C]||0});return{first:x(0),last:x(n-1),widest:x(R),highest:x(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xM(this._alignToPixels?Bs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=FO(this.getContext(),e,i))}return this.$context||(this.$context=VO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=In(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=va(r),g=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,E=v/2,b=function(X){return Bs(i,X,v)};let _,T,k,P,R,S,x,C,L,M,O,I;if(o==="top")_=b(this.bottom),S=this.bottom-f,C=_-E,M=b(e.top)+E,I=e.bottom;else if(o==="bottom")_=b(this.top),M=e.top,I=b(e.bottom)-E,S=_+E,C=this.top+f;else if(o==="left")_=b(this.right),R=this.right-f,x=_-E,L=b(e.left)+E,O=e.right;else if(o==="right")_=b(this.left),L=e.left,O=b(e.right)-E,R=_+E,x=this.left+f;else if(n==="x"){if(o==="center")_=b((e.top+e.bottom)/2+.5);else if(be(o)){const X=Object.keys(o)[0],J=o[X];_=b(this.chart.scales[X].getPixelForValue(J))}M=e.top,I=e.bottom,S=_+E,C=S+f}else if(n==="y"){if(o==="center")_=b((e.left+e.right)/2);else if(be(o)){const X=Object.keys(o)[0],J=o[X];_=b(this.chart.scales[X].getPixelForValue(J))}R=_-E,x=R-f,L=e.left,O=e.right}const $=de(s.ticks.maxTicksLimit,d),q=Math.max(1,Math.ceil(d/$));for(T=0;T<d;T+=q){const X=this.getContext(T),J=r.setContext(X),F=a.setContext(X),H=J.lineWidth,G=J.color,ee=F.dash||[],Z=F.dashOffset,K=J.tickWidth,oe=J.tickColor,j=J.tickBorderDash||[],ue=J.tickBorderDashOffset;k=DO(this,T,l),k!==void 0&&(P=Bs(i,k,H),u?R=x=L=O=P:S=C=M=I=P,g.push({tx1:R,ty1:S,tx2:x,ty2:C,x1:L,y1:M,x2:O,y2:I,width:H,color:G,borderDash:ee,borderDashOffset:Z,tickWidth:K,tickColor:oe,tickBorderDash:j,tickBorderDashOffset:ue}))}return this._ticksLength=d,this._borderValue=_,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=r,f=va(i.grid),g=f+c,p=d?-c:g,v=-In(this.labelRotation),E=[];let b,_,T,k,P,R,S,x,C,L,M,O,I="middle";if(s==="top")R=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")R=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const q=this._getYAxisLabelAlignment(f);S=q.textAlign,P=q.x}else if(s==="right"){const q=this._getYAxisLabelAlignment(f);S=q.textAlign,P=q.x}else if(n==="x"){if(s==="center")R=(e.top+e.bottom)/2+g;else if(be(s)){const q=Object.keys(s)[0],X=s[q];R=this.chart.scales[q].getPixelForValue(X)+g}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")P=(e.left+e.right)/2-g;else if(be(s)){const q=Object.keys(s)[0],X=s[q];P=this.chart.scales[q].getPixelForValue(X)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const $=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){T=a[b],k=T.label;const q=r.setContext(this.getContext(b));x=this.getPixelForTick(b)+r.labelOffset,C=this._resolveTickFontOptions(b),L=C.lineHeight,M=qe(k)?k.length:1;const X=M/2,J=q.color,F=q.textStrokeColor,H=q.textStrokeWidth;let G=S;o?(P=x,S==="inner"&&(b===_-1?G=this.options.reverse?"left":"right":b===0?G=this.options.reverse?"right":"left":G="center"),s==="top"?u==="near"||v!==0?O=-M*L+L/2:u==="center"?O=-$.highest.height/2-X*L+L:O=-$.highest.height+L/2:u==="near"||v!==0?O=L/2:u==="center"?O=$.highest.height/2-X*L:O=$.highest.height-M*L,d&&(O*=-1),v!==0&&!q.showLabelBackdrop&&(P+=L/2*Math.sin(v))):(R=x,O=(1-M)*L/2);let ee;if(q.showLabelBackdrop){const Z=$t(q.backdropPadding),K=$.heights[b],oe=$.widths[b];let j=O-Z.top,ue=0-Z.left;switch(I){case"middle":j-=K/2;break;case"bottom":j-=K;break}switch(S){case"center":ue-=oe/2;break;case"right":ue-=oe;break;case"inner":b===_-1?ue-=oe:b>0&&(ue-=oe/2);break}ee={left:ue,top:j,width:oe+Z.width,height:K+Z.height,color:q.backdropColor}}E.push({label:k,font:C,textOffset:O,options:{rotation:v,color:J,strokeColor:F,strokeWidth:H,textAlign:G,textBaseline:I,translation:[P,R],backdrop:ee}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-In(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let u,c;return n==="left"?s?(c=this.right+r,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?s?(c=this.left+r,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,f;this.isHorizontal()?(u=Bs(e,this.left,o)-o/2,c=Bs(e,this.right,a)+a/2,d=f=l):(d=Bs(e,this.top,o)-o/2,f=Bs(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&od(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,u=o.label,c=o.textOffset;pr(i,u,0,c,l,a)}s&&ad(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=gt(i.font),o=$t(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||be(n)?(l+=o.bottom,qe(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=BO(this,l,n,a);pr(e,i.text,0,0,r,{color:i.color,maxWidth:d,rotation:f,textAlign:jO(a,n,s),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=de(e.grid&&e.grid.z,-1),s=de(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==wr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return gt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class qu{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;$O(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,zO(e,o,i),this.override&&Ge.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Ge[s]&&(delete Ge[s][i],this.override&&delete fr[i])}}function zO(t,e,n){const i=El(Object.create(null),[n?Ge.get(n):{},Ge.get(e),t.defaults]);Ge.set(e,i),t.defaultRoutes&&UO(e,t.defaultRoutes),t.descriptors&&Ge.describe(e,t.descriptors)}function UO(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ge.route(r,s,l,a)})}function $O(t){return"id"in t&&"defaults"in t}class HO{constructor(){this.controllers=new qu(Dn,"datasets",!0),this.elements=new qu(Vn,"elements"),this.plugins=new qu(Object,"plugins"),this.scales=new qu(wr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Oe(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=Sm(e);Ve(i["before"+s],[],i),n[e](i),Ve(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Wn=new HO;class WO{constructor(){this._init=void 0}notify(e,n,i,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Ve(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=de(i.options&&i.options.plugins,{}),r=qO(i);return s===!1&&!n?[]:KO(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function qO(t){const e={},n=[],i=Object.keys(Wn.plugins.items);for(let r=0;r<i.length;r++)n.push(Wn.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function GO(t,e){return!e&&t===!1?null:t===!0?{}:t}function KO(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,u=GO(i[l],s);u!==null&&r.push({plugin:a,options:QO(t.config,{plugin:a,local:n[l]},u,o)})}return r}function QO(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $p(t,e){const n=Ge.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function YO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function XO(t,e){return t===e?"_index_":"_value_"}function E0(t){if(t==="x"||t==="y"||t==="r")return t}function ZO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hp(t,...e){if(E0(t))return t;for(const n of e){const i=n.axis||ZO(n.position)||t.length>1&&E0(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function b0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function JO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return b0(t,"x",n[0])||b0(t,"y",n[0])}return{}}function eD(t,e){const n=fr[t.type]||{scales:{}},i=e.scales||{},s=$p(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!be(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Hp(o,a,JO(o,t),Ge.scales[a.type]),u=XO(l,s),c=n.scales||{};r[o]=Ha(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||$p(a,e),c=(fr[a]||{}).scales||{};Object.keys(c).forEach(d=>{const f=YO(d,l),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),Ha(r[g],[{axis:f},i[g],c[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ha(a,[Ge.scales[a.type],Ge.scale])}),r}function KC(t){const e=t.options||(t.options={});e.plugins=de(e.plugins,{}),e.scales=eD(t,e)}function QC(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function tD(t){return t=t||{},t.data=QC(t.data),KC(t),t}const x0=new Map,YC=new Set;function Gu(t,e){let n=x0.get(t);return n||(n=e(),x0.set(t,n),YC.add(n)),n}const ya=(t,e,n)=>{const i=ps(e,n);i!==void 0&&t.add(i)};class nD{constructor(e){this._config=tD(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=QC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),KC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Gu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Gu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Gu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Gu(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(d=>ya(l,e,d))),c.forEach(d=>ya(l,s,d)),c.forEach(d=>ya(l,fr[r]||{},d)),c.forEach(d=>ya(l,Ge,d)),c.forEach(d=>ya(l,Bp,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),YC.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,fr[n]||{},Ge.datasets[n]||{},{type:n},Ge,Bp]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=S0(this._resolverCache,e,s);let l=o;if(sD(o,n)){r.$shared=!1,i=gs(i)?i():i;const u=this.createResolver(e,i,a);l=Co(o,i,u)}for(const u of n)r[u]=l[u];return r}createResolver(e,n,i=[""],s){const{resolver:r}=S0(this._resolverCache,e,i);return be(n)?Co(r,n,void 0,s):r}}function S0(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Am(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const iD=t=>be(t)&&Object.getOwnPropertyNames(t).some(e=>gs(t[e]));function sD(t,e){const{isScriptable:n,isIndexable:i}=PC(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(gs(a)||iD(a))||o&&qe(a))return!0}return!1}var rD="4.5.1";const oD=["top","bottom","left","right","chartArea"];function C0(t,e){return t==="top"||t==="bottom"||oD.indexOf(t)===-1&&e==="x"}function T0(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function k0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ve(n&&n.onComplete,[t],e)}function aD(t){const e=t.chart,n=e.options.animation;Ve(n&&n.onProgress,[t],e)}function XC(t){return Rm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Sc={},P0=t=>{const e=XC(t);return Object.values(Sc).filter(n=>n.canvas===e).pop()};function lD(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function uD(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Ni;let cd=(Ni=class{static register(...e){Wn.add(...e),L0()}static unregister(...e){Wn.remove(...e),L0()}constructor(e,n){const i=this.config=new nD(n),s=XC(e),r=P0(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||kO(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=cM(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new WO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kM(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Sc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}oi.listen(this,"complete",k0),oi.listen(this,"progress",aD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return _e(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():X_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return K_(this.canvas,this.ctx),this}stop(){return oi.stop(this),this}resize(e,n){oi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,X_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ve(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Oe(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Hp(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Oe(r,o=>{const a=o.options,l=a.id,u=Hp(l,a),c=de(a.type,o.dtype);(a.position===void 0||C0(a.position,u)!==C0(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in i&&i[l].type===c)d=i[l];else{const f=Wn.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),Oe(s,(o,a)=>{o||delete i[a]}),Oe(i,o=>{zt.configure(this,o,o.options),zt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(T0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||$p(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Wn.getController(a),{datasetElementType:u,dataElementType:c}=Ge.datasets[a];Object.assign(l,{dataElementType:Wn.getElement(c),datasetElementType:u&&Wn.getElement(u)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Oe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!s&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Oe(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(T0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Oe(this.scales,e=>{zt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!j_(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;lD(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!j_(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Oe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,gs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(oi.has(this)?this.attached&&!oi.running(this)&&oi.start(this):(this.draw(),k0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=jC(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&od(n,s),e.controller.draw(),s&&ad(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return gi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=oO.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ts(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);bl(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),oi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),K_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Sc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Oe(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},r=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Oe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Oe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!sh(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=mM(e),u=uD(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Ve(r.onHover,[e,a,this],this),l&&Ve(r.onClick,[e,a,this],this));const c=!sh(a,s);return(c||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,c}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},Y(Ni,"defaults",Ge),Y(Ni,"instances",Sc),Y(Ni,"overrides",fr),Y(Ni,"registry",Wn),Y(Ni,"version",rD),Y(Ni,"getChart",P0),Ni);function L0(){return Oe(cd.instances,t=>t._plugins.invalidate())}function cD(t,e,n){const{startAngle:i,x:s,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:c}=l,d=Math.min(u/o,Vt(i-n));if(t.beginPath(),t.arc(s,r,o-u/2,i+d/2,n-d/2),a>0){const f=Math.min(u/a,Vt(i-n));t.arc(s,r,a+u/2,n-f/2,i+f/2,!0)}else{const f=Math.min(u/2,o*Vt(i-n));if(c==="round")t.arc(s,r,f,n-Me/2,i+Me/2,!0);else if(c==="bevel"){const g=2*f*f,p=-g*Math.cos(n+Me/2)+s,v=-g*Math.sin(n+Me/2)+r,E=g*Math.cos(i+Me/2)+s,b=g*Math.sin(i+Me/2)+r;t.lineTo(p,v),t.lineTo(E,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function hD(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let u=s/a;t.beginPath(),t.arc(r,o,a,i-u,n+u),l>s?(u=s/l,t.arc(r,o,l,n+u,i-u,!0)):t.arc(r,o,s,n+rt,i-rt),t.closePath(),t.clip()}function dD(t){return Lm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function fD(t,e,n,i){const s=dD(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const u=(n-Math.min(r,l))*i/2;return wt(l,0,Math.min(r,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:wt(s.innerStart,0,o),innerEnd:wt(s.innerEnd,0,o)}}function jr(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function ch(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,d=Math.max(e.outerRadius+i+n-u,0),f=c>0?c+i+n+u:0;let g=0;const p=s-l;if(i){const q=c>0?c-i:0,X=d>0?d-i:0,J=(q+X)/2,F=J!==0?p*J/(J+i):p;g=(p-F)/2}const v=Math.max(.001,p*d-n/Me)/d,E=(p-v)/2,b=l+E+g,_=s-E-g,{outerStart:T,outerEnd:k,innerStart:P,innerEnd:R}=fD(e,f,d,_-b),S=d-T,x=d-k,C=b+T/S,L=_-k/x,M=f+P,O=f+R,I=b+P/M,$=_-R/O;if(t.beginPath(),r){const q=(C+L)/2;if(t.arc(o,a,d,C,q),t.arc(o,a,d,q,L),k>0){const H=jr(x,L,o,a);t.arc(H.x,H.y,k,L,_+rt)}const X=jr(O,_,o,a);if(t.lineTo(X.x,X.y),R>0){const H=jr(O,$,o,a);t.arc(H.x,H.y,R,_+rt,$+Math.PI)}const J=(_-R/f+(b+P/f))/2;if(t.arc(o,a,f,_-R/f,J,!0),t.arc(o,a,f,J,b+P/f,!0),P>0){const H=jr(M,I,o,a);t.arc(H.x,H.y,P,I+Math.PI,b-rt)}const F=jr(S,b,o,a);if(t.lineTo(F.x,F.y),T>0){const H=jr(S,C,o,a);t.arc(H.x,H.y,T,b-rt,C)}}else{t.moveTo(o,a);const q=Math.cos(C)*d+o,X=Math.sin(C)*d+a;t.lineTo(q,X);const J=Math.cos(L)*d+o,F=Math.sin(L)*d+a;t.lineTo(J,F)}t.closePath()}function pD(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){ch(t,e,n,i,l,s);for(let u=0;u<r;++u)t.fill();isNaN(a)||(l=o+(a%He||He))}return ch(t,e,n,i,l,s),t.fill(),l}function gD(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:f,borderRadius:g}=l,p=l.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=u*2,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let v=e.endAngle;if(r){ch(t,e,n,i,v,s);for(let E=0;E<r;++E)t.stroke();isNaN(a)||(v=o+(a%He||He))}p&&hD(t,e,v),l.selfJoin&&v-o>=Me&&g===0&&c!=="miter"&&cD(t,e,v),r||(ch(t,e,n,i,v,s),t.stroke())}class La extends Vn{constructor(n){super();Y(this,"circumference");Y(this,"endAngle");Y(this,"fullCircles");Y(this,"innerRadius");Y(this,"outerRadius");Y(this,"pixelMargin");Y(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=yC(r,{x:n,y:i}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,p=de(f,u-l),v=xl(o,l,u)&&l!==u,E=p>=He||v,b=fi(a,c+g,d+g);return E&&b}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,d=(r+o)/2,f=(a+l+c+u)/2;return{x:i+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>He?Math.floor(s/He):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const u=1-Math.sin(Math.min(Me,s||0)),c=r*u;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,pD(n,this,c,o,a),gD(n,this,c,o,a),n.restore()}}Y(La,"id","arc"),Y(La,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Y(La,"defaultRoutes",{backgroundColor:"backgroundColor"}),Y(La,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ZC(t,e,n=e){t.lineCap=de(n.borderCapStyle,e.borderCapStyle),t.setLineDash(de(n.borderDash,e.borderDash)),t.lineDashOffset=de(n.borderDashOffset,e.borderDashOffset),t.lineJoin=de(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=de(n.borderWidth,e.borderWidth),t.strokeStyle=de(n.borderColor,e.borderColor)}function mD(t,e,n){t.lineTo(n.x,n.y)}function vD(t){return t.stepped?jM:t.tension||t.cubicInterpolationMode==="monotone"?BM:mD}function JC(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),u=Math.min(r,a),c=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!c?i+u-l:u-l}}function yD(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:u}=JC(s,n,i),c=vD(r);let{move:d=!0,reverse:f}=i||{},g,p,v;for(g=0;g<=u;++g)p=s[(a+(f?u-g:g))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):c(t,v,p,f,r.stepped),v=p);return l&&(p=s[(a+(f?u:0))%o],c(t,v,p,f,r.stepped)),!!l}function _D(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=JC(s,n,i),{move:l=!0,reverse:u}=i||{};let c=0,d=0,f,g,p,v,E,b;const _=k=>(o+(u?a-k:k))%r,T=()=>{v!==E&&(t.lineTo(c,E),t.lineTo(c,v),t.lineTo(c,b))};for(l&&(g=s[_(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=s[_(f)],g.skip)continue;const k=g.x,P=g.y,R=k|0;R===p?(P<v?v=P:P>E&&(E=P),c=(d*c+k)/++d):(T(),t.lineTo(k,P),p=R,d=0,v=E=P),b=P}T()}function Wp(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?_D:yD}function wD(t){return t.stepped?yR:t.tension||t.cubicInterpolationMode==="monotone"?_R:Gs}function ED(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),ZC(t,e.options),t.stroke(s)}function bD(t,e,n,i){const{segments:s,options:r}=e,o=Wp(e);for(const a of s)ZC(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const xD=typeof Path2D=="function";function SD(t,e,n,i){xD&&!e.options.segment?ED(t,e,n,i):bD(t,e,n,i)}class Ki extends Vn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;cR(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=CR(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=FC(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=wD(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:d,end:f}=o[u],g=r[d],p=r[f];if(g===p){a.push(g);continue}const v=Math.abs((s-g[n])/(p[n]-g[n])),E=l(g,p,v,i.stepped);E[n]=e[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Wp(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=Wp(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),SD(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Y(Ki,"id","line"),Y(Ki,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Y(Ki,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Y(Ki,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function A0(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Cc extends Vn{constructor(n){super();Y(this,"parsed");Y(this,"skip");Y(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return A0(this,n,"x",i)}inYRange(n,i){return A0(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!gi(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,zp(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Y(Cc,"id","point"),Y(Cc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Y(Cc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function e1(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,c,d;return t.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),u=i-d,c=i+d):(d=r/2,a=n-d,l=n+d,u=Math.min(i,s),c=Math.max(i,s)),{left:a,top:u,right:l,bottom:c}}function Qi(t,e,n,i){return t?0:wt(e,n,i)}function CD(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=kC(i);return{t:Qi(s.top,r.top,0,n),r:Qi(s.right,r.right,0,e),b:Qi(s.bottom,r.bottom,0,n),l:Qi(s.left,r.left,0,e)}}function TD(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=rr(s),o=Math.min(e,n),a=t.borderSkipped,l=i||be(s);return{topLeft:Qi(!l||a.top||a.left,r.topLeft,0,o),topRight:Qi(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Qi(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Qi(!l||a.bottom||a.right,r.bottomRight,0,o)}}function kD(t){const e=e1(t),n=e.right-e.left,i=e.bottom-e.top,s=CD(t,n/2,i/2),r=TD(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Sf(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&e1(t,i);return a&&(s||fi(e,a.left,a.right))&&(r||fi(n,a.top,a.bottom))}function PD(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function LD(t,e){t.rect(e.x,e.y,e.w,e.h)}function Cf(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class Tc extends Vn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=kD(this),a=PD(o.radius)?Sl:LD;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Cf(o,n,r)),e.clip(),a(e,Cf(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Cf(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Sf(this,e,n,i)}inXRange(e,n){return Sf(this,e,null,n)}inYRange(e,n){return Sf(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Y(Tc,"id","bar"),Y(Tc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Y(Tc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var AD=Object.freeze({__proto__:null,ArcElement:La,BarElement:Tc,LineElement:Ki,PointElement:Cc});const qp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],I0=qp.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function t1(t){return qp[t%qp.length]}function n1(t){return I0[t%I0.length]}function ID(t,e){return t.borderColor=t1(e),t.backgroundColor=n1(e),++e}function MD(t,e){return t.backgroundColor=t.data.map(()=>t1(e++)),e}function RD(t,e){return t.backgroundColor=t.data.map(()=>n1(e++)),e}function OD(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof er?e=MD(n,e):s instanceof Ya?e=RD(n,e):s&&(e=ID(n,e))}}function M0(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function DD(t){return t&&(t.borderColor||t.backgroundColor)}function ND(){return Ge.borderColor!=="rgba(0,0,0,0.1)"||Ge.backgroundColor!=="rgba(0,0,0,0.1)"}var VD={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s,o=M0(i)||DD(s)||r&&M0(r)||ND();if(!n.forceOverride&&o)return;const a=OD(t);i.forEach(a)}};function FD(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const u=e+n-1;let c=e,d,f,g,p,v;for(o[l++]=t[c],d=0;d<r-2;d++){let E=0,b=0,_;const T=Math.floor((d+1)*a)+1+e,k=Math.min(Math.floor((d+2)*a)+1,n)+e,P=k-T;for(_=T;_<k;_++)E+=t[_].x,b+=t[_].y;E/=P,b/=P;const R=Math.floor(d*a)+1+e,S=Math.min(Math.floor((d+1)*a)+1,n)+e,{x,y:C}=t[c];for(g=p=-1,_=R;_<S;_++)p=.5*Math.abs((x-E)*(t[_].y-C)-(x-t[_].x)*(b-C)),p>g&&(g=p,f=t[_],v=_);o[l++]=f,c=v}return o[l++]=t[u],o}function jD(t,e,n,i){let s=0,r=0,o,a,l,u,c,d,f,g,p,v;const E=[],b=e+n-1,_=t[e].x,k=t[b].x-_;for(o=e;o<e+n;++o){a=t[o],l=(a.x-_)/k*i,u=a.y;const P=l|0;if(P===c)u<p?(p=u,d=o):u>v&&(v=u,f=o),s=(r*s+a.x)/++r;else{const R=o-1;if(!_e(d)&&!_e(f)){const S=Math.min(d,f),x=Math.max(d,f);S!==g&&S!==R&&E.push({...t[S],x:s}),x!==g&&x!==R&&E.push({...t[x],x:s})}o>0&&R!==g&&E.push(t[R]),E.push(a),c=P,r=0,p=v=u,d=f=g=o}}return E}function i1(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function R0(t){t.data.datasets.forEach(e=>{i1(e)})}function BD(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:u}=r.getUserBounds();return l&&(i=wt(pi(e,r.axis,o).lo,0,n-1)),u?s=wt(pi(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var zD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){R0(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),u=o||s.data;if(ka([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const c=t.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||t.options.parsing)return;let{start:d,count:f}=BD(l,u);const g=n.threshold||4*i;if(f<=g){i1(s);return}_e(o)&&(s._data=u,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let p;switch(n.algorithm){case"lttb":p=FD(u,d,f,i,n);break;case"min-max":p=jD(u,d,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(t){R0(t)}};function UD(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:u}=a;u=hd(l,u,s);const c=Gp(n,s[l],s[u],a.loop);if(!e.segments){o.push({source:a,target:c,start:s[l],end:s[u]});continue}const d=FC(e,c);for(const f of d){const g=Gp(n,r[f.start],r[f.end],f.loop),p=VC(a,s,g);for(const v of p)o.push({source:v,target:f,start:{[n]:O0(c,g,"start",Math.max)},end:{[n]:O0(c,g,"end",Math.min)}})}}return o}function Gp(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Vt(s),r=Vt(r)),{property:t,start:s,end:r}}function $D(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=hd(o,a,s);const l=s[o],u=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:u.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:u.y}))}),r}function hd(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function O0(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function s1(t,e){let n=[],i=!1;return qe(t)?(i=!0,n=t):n=$D(t,e),n.length?new Ki({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function D0(t){return t&&t.fill!==!1}function HD(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!tt(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function WD(t,e,n){const i=QD(t);if(be(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return tt(s)&&Math.floor(s)===s?qD(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function qD(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function GD(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:be(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function KD(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:be(t)?i=t.value:i=e.getBaseValue(),i}function QD(t){const e=t.options,n=e.fill;let i=de(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function YD(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=XD(e,n);a.push(s1({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const u=r[l];for(let c=u.start;c<=u.end;c++)ZD(s,o[c],a)}return new Ki({points:s,options:{}})}function XD(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function ZD(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=JD(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function JD(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<r.length;u++){const c=r[u],d=o[c.start][n],f=o[c.end][n];if(fi(s,d,f)){a=s===d,l=s===f;break}}return{first:a,last:l,point:i}}class r1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:He},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function e2(t){const{chart:e,fill:n,line:i}=t;if(tt(n))return t2(e,n);if(n==="stack")return YD(t);if(n==="shape")return!0;const s=n2(t);return s instanceof r1?s:s1(s,i)}function t2(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function n2(t){return(t.scale||{}).getPointPositionForValue?s2(t):i2(t)}function i2(t){const{scale:e={},fill:n}=t,i=GD(n,e);if(tt(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function s2(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=KD(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new r1({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function Tf(t,e,n){const i=e2(e),{chart:s,index:r,line:o,scale:a,axis:l}=e,u=o.options,c=u.fill,d=u.backgroundColor,{above:f=d,below:g=d}=c||{},p=s.getDatasetMeta(r),v=jC(s,p);i&&o.points.length&&(od(t,n),r2(t,{line:o,target:i,above:f,below:g,area:n,scale:a,axis:l,clip:v}),ad(t))}function r2(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let c=r;r!==s&&(u==="x"?(N0(t,i,o.top),kf(t,{line:n,target:i,color:s,scale:a,property:u,clip:l}),t.restore(),t.save(),N0(t,i,o.bottom)):u==="y"&&(V0(t,i,o.left),kf(t,{line:n,target:i,color:r,scale:a,property:u,clip:l}),t.restore(),t.save(),V0(t,i,o.right),c=s)),kf(t,{line:n,target:i,color:c,scale:a,property:u,clip:l}),t.restore()}function N0(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:u}=a,c=s[l],d=s[hd(l,u,s)];r?(t.moveTo(c.x,c.y),r=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function V0(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:u}=a,c=s[l],d=s[hd(l,u,s)];r?(t.moveTo(c.x,c.y),r=!1):(t.lineTo(n,c.y),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function kf(t,e){const{line:n,target:i,property:s,color:r,scale:o,clip:a}=e,l=UD(n,i,s);for(const{source:u,target:c,start:d,end:f}of l){const{style:{backgroundColor:g=r}={}}=u,p=i!==!0;t.save(),t.fillStyle=g,o2(t,o,a,p&&Gp(s,d,f)),t.beginPath();const v=!!n.pathSegment(t,u);let E;if(p){v?t.closePath():F0(t,i,f,s);const b=!!i.pathSegment(t,c,{move:v,reverse:!0});E=v&&b,E||F0(t,i,d,s)}t.closePath(),t.fill(E?"evenodd":"nonzero"),t.restore()}}function o2(t,e,n,i){const s=e.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let l,u,c,d;r==="x"?(l=o,u=s.top,c=a,d=s.bottom):(l=s.left,u=o,c=s.right,d=a),t.beginPath(),n&&(l=Math.max(l,n.left),c=Math.min(c,n.right),u=Math.max(u,n.top),d=Math.min(d,n.bottom)),t.rect(l,u,c-l,d-u),t.clip()}}function F0(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var a2={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Ki&&(l={visible:t.isDatasetVisible(o),index:o,fill:WD(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=HD(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Tf(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;D0(r)&&Tf(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!D0(i)||n.drawTime!=="beforeDatasetDraw"||Tf(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const j0=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},l2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class B0 extends Vn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ve(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=gt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=j0(i,r);let u,c;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,r,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=s+a;let d=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-c;return this.legendItems.forEach((p,v)=>{const E=i+n/2+r.measureText(p.text).width;(v===0||u[u.length-1]+E+2*a>o)&&(d+=c,u[u.length-(v>0?0:1)]=0,g+=c,f++),l[v]={left:0,top:g,row:f,width:E,height:s},u[u.length-1]+=E+a}),d}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let d=a,f=0,g=0,p=0,v=0;return this.legendItems.forEach((E,b)=>{const{itemWidth:_,itemHeight:T}=u2(i,n,r,E,s);b>0&&g+T+2*a>c&&(d+=f+a,u.push({width:f,height:g}),p+=f+a,v++,f=g=0),l[b]={left:p,top:g,col:v,width:_,height:T},f=Math.max(f,_),g+=T+a}),d+=f,u.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=uo(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Dt(i,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Dt(i,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=Dt(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Dt(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;od(e,this),this._draw(),ad(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=Ge.color,l=uo(e.rtl,this.left,this.width),u=gt(o.font),{padding:c}=o,d=u.size,f=d/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:p,boxHeight:v,itemHeight:E}=j0(o,d),b=function(R,S,x){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;s.save();const C=de(x.lineWidth,1);if(s.fillStyle=de(x.fillStyle,a),s.lineCap=de(x.lineCap,"butt"),s.lineDashOffset=de(x.lineDashOffset,0),s.lineJoin=de(x.lineJoin,"miter"),s.lineWidth=C,s.strokeStyle=de(x.strokeStyle,a),s.setLineDash(de(x.lineDash,[])),o.usePointStyle){const L={radius:v*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:C},M=l.xPlus(R,p/2),O=S+f;TC(s,L,M,O,o.pointStyleWidth&&p)}else{const L=S+Math.max((d-v)/2,0),M=l.leftForLtr(R,p),O=rr(x.borderRadius);s.beginPath(),Object.values(O).some(I=>I!==0)?Sl(s,{x:M,y:L,w:p,h:v,radius:O}):s.rect(M,L,p,v),s.fill(),C!==0&&s.stroke()}s.restore()},_=function(R,S,x){pr(s,x.text,R,S+E/2,u,{strikethrough:x.hidden,textAlign:l.textAlign(x.textAlign)})},T=this.isHorizontal(),k=this._computeTitleHeight();T?g={x:Dt(r,this.left+c,this.right-i[0]),y:this.top+c+k,line:0}:g={x:this.left+c,y:Dt(r,this.top+k+c,this.bottom-n[0].height),line:0},OC(this.ctx,e.textDirection);const P=E+c;this.legendItems.forEach((R,S)=>{s.strokeStyle=R.fontColor,s.fillStyle=R.fontColor;const x=s.measureText(R.text).width,C=l.textAlign(R.textAlign||(R.textAlign=o.textAlign)),L=p+f+x;let M=g.x,O=g.y;l.setWidth(this.width),T?S>0&&M+L+c>this.right&&(O=g.y+=P,g.line++,M=g.x=Dt(r,this.left+c,this.right-i[g.line])):S>0&&O+P>this.bottom&&(M=g.x=M+n[g.line].width+c,g.line++,O=g.y=Dt(r,this.top+k+c,this.bottom-n[g.line].height));const I=l.x(M);if(b(I,O,R),M=PM(C,M+p+f,T?M+L:this.right,e.rtl),_(l.x(M),O,R),T)g.x+=L+c;else if(typeof R.text!="string"){const $=u.lineHeight;g.y+=o1(R,$)+c}else g.y+=P}),DC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=gt(n.font),s=$t(n.padding);if(!n.display)return;const r=uo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=s.top+l;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Dt(e.align,d,this.right-f);else{const p=this.columnSizes.reduce((v,E)=>Math.max(v,E.height),0);c=u+Dt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const g=Dt(a,d,d+f);o.textAlign=r.textAlign(km(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,pr(o,n.text,g,c,i)}_computeTitleHeight(){const e=this.options.title,n=gt(e.font),i=$t(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(fi(e,this.left,this.right)&&fi(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],fi(e,s.left,s.left+s.width)&&fi(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!d2(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=l2(s,i);s&&!r&&Ve(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&Ve(n.onHover,[e,i,this],this)}else i&&Ve(n.onClick,[e,i,this],this)}}function u2(t,e,n,i,s){const r=c2(i,t,e,n),o=h2(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function c2(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function h2(t,e,n){let i=t;return typeof e.text!="string"&&(i=o1(e,n)),i}function o1(t,e){const n=t.text?t.text.length:0;return e*n}function d2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var f2={id:"legend",_element:B0,start(t,e,n){const i=t.legend=new B0({ctx:t.ctx,options:n,chart:t});zt.configure(t,i,n),zt.addBox(t,i)},stop(t){zt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;zt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=$t(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Nm extends Vn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=qe(i.text)?i.text.length:1;this._padding=$t(i.padding);const r=s*gt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,u,c,d;return this.isHorizontal()?(c=Dt(a,i,r),d=n+e,u=r-i):(o.position==="left"?(c=i+e,d=Dt(a,s,n),l=Me*-.5):(c=r-e,d=Dt(a,n,s),l=Me*.5),u=s-n),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=gt(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(r);pr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:km(n.align),textBaseline:"middle",translation:[o,a]})}}function p2(t,e){const n=new Nm({ctx:t.ctx,options:e,chart:t});zt.configure(t,n,e),zt.addBox(t,n),t.titleBlock=n}var g2={id:"title",_element:Nm,start(t,e,n){p2(t,n)},stop(t){const e=t.titleBlock;zt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;zt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ku=new WeakMap;var m2={id:"subtitle",start(t,e,n){const i=new Nm({ctx:t.ctx,options:n,chart:t});zt.configure(t,i,n),zt.addBox(t,i),Ku.set(t,i)},stop(t){zt.removeBox(t,Ku.get(t)),Ku.delete(t)},beforeUpdate(t,e,n){const i=Ku.get(t);zt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Aa={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=jp(e,u);c<s&&(s=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function $n(t,e){return e&&(qe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ai(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function v2(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function z0(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=gt(e.bodyFont),u=gt(e.titleFont),c=gt(e.footerFont),d=r.length,f=s.length,g=i.length,p=$t(e.padding);let v=p.height,E=0,b=i.reduce((k,P)=>k+P.before.length+P.lines.length+P.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const k=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=g*k+(b-g)*l.lineHeight+(b-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let _=0;const T=function(k){E=Math.max(E,n.measureText(k).width+_)};return n.save(),n.font=u.string,Oe(t.title,T),n.font=l.string,Oe(t.beforeBody.concat(t.afterBody),T),_=e.displayColors?o+2+e.boxPadding:0,Oe(i,k=>{Oe(k.before,T),Oe(k.lines,T),Oe(k.after,T)}),_=0,n.font=c.string,Oe(t.footer,T),n.restore(),E+=p.width,{width:E,height:v}}function y2(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function _2(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function w2(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return i==="center"?u=s<=(a+l)/2?"left":"right":s<=r/2?u="left":s>=o-r/2&&(u="right"),_2(u,t,e,n)&&(u="center"),u}function U0(t,e,n){const i=n.yAlign||e.yAlign||y2(t,n);return{xAlign:n.xAlign||e.xAlign||w2(t,e,n,i),yAlign:i}}function E2(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function b2(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function $0(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=s+r,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:g}=rr(o);let p=E2(e,a);const v=b2(e,l,u);return l==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(c,f)+s:a==="right"&&(p+=Math.max(d,g)+s),{x:wt(p,0,i.width-e.width),y:wt(v,0,i.height-e.height)}}function Qu(t,e,n){const i=$t(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function H0(t){return $n([],ai(t))}function x2(t,e,n){return Ts(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function W0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const a1={beforeTitle:ri,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ri,beforeBody:ri,beforeLabel:ri,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return _e(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ri,afterBody:ri,beforeFooter:ri,footer:ri,afterFooter:ri};function Qt(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?a1[e].call(n,i):s}class Kp extends Vn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new BC(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=x2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Qt(i,"beforeTitle",this,e),r=Qt(i,"title",this,e),o=Qt(i,"afterTitle",this,e);let a=[];return a=$n(a,ai(s)),a=$n(a,ai(r)),a=$n(a,ai(o)),a}getBeforeBody(e,n){return H0(Qt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Oe(e,r=>{const o={before:[],lines:[],after:[]},a=W0(i,r);$n(o.before,ai(Qt(a,"beforeLabel",this,r))),$n(o.lines,Qt(a,"label",this,r)),$n(o.after,ai(Qt(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return H0(Qt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Qt(i,"beforeFooter",this,e),r=Qt(i,"footer",this,e),o=Qt(i,"afterFooter",this,e);let a=[];return a=$n(a,ai(s)),a=$n(a,ai(r)),a=$n(a,ai(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(v2(this.chart,n[l]));return e.filter&&(a=a.filter((c,d,f)=>e.filter(c,d,f,i))),e.itemSort&&(a=a.sort((c,d)=>e.itemSort(c,d,i))),Oe(a,c=>{const d=W0(e.callbacks,c);s.push(Qt(d,"labelColor",this,c)),r.push(Qt(d,"labelPointStyle",this,c)),o.push(Qt(d,"labelTextColor",this,c))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Aa[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=z0(this,i),u=Object.assign({},a,l),c=U0(this.chart,i,u),d=$0(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=rr(a),{x:f,y:g}=e,{width:p,height:v}=n;let E,b,_,T,k,P;return r==="center"?(k=g+v/2,s==="left"?(E=f,b=E-o,T=k+o,P=k-o):(E=f+p,b=E+o,T=k-o,P=k+o),_=E):(s==="left"?b=f+Math.max(l,c)+o:s==="right"?b=f+p-Math.max(u,d)-o:b=this.caretX,r==="top"?(T=g,k=T-o,E=b-o,_=b+o):(T=g+v,k=T+o,E=b+o,_=b-o),P=T),{x1:E,x2:b,x3:_,y1:T,y2:k,y3:P}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const u=uo(i.rtl,this.x,this.width);for(e.x=Qu(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=gt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=r,c=gt(r.bodyFont),d=Qu(this,"left",r),f=s.x(d),g=l<c.lineHeight?(c.lineHeight-l)/2:0,p=n.y+g;if(r.usePointStyle){const v={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=s.leftForLtr(f,u)+u/2,b=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,zp(e,v,E,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,zp(e,v,E,b)}else{e.lineWidth=be(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=s.leftForLtr(f,u),E=s.leftForLtr(s.xPlus(f,1),u-2),b=rr(o.borderRadius);Object.values(b).some(_=>_!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Sl(e,{x:v,y:p,w:u,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Sl(e,{x:E,y:p+1,w:u-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(v,p,u,l),e.strokeRect(v,p,u,l),e.fillStyle=o.backgroundColor,e.fillRect(E,p+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,d=gt(i.bodyFont);let f=d.lineHeight,g=0;const p=uo(i.rtl,this.x,this.width),v=function(x){n.fillText(x,p.x(e.x+g),e.y+f/2),e.y+=f+r},E=p.textAlign(o);let b,_,T,k,P,R,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Qu(this,E,i),n.fillStyle=i.bodyColor,Oe(this.beforeBody,v),g=a&&E!=="right"?o==="center"?u/2+c:u+2+c:0,k=0,R=s.length;k<R;++k){for(b=s[k],_=this.labelTextColors[k],n.fillStyle=_,Oe(b.before,v),T=b.lines,a&&T.length&&(this._drawColorBox(n,e,k,p,i),f=Math.max(d.lineHeight,l)),P=0,S=T.length;P<S;++P)v(T[P]),f=d.lineHeight;Oe(b.after,v)}g=0,f=d.lineHeight,Oe(this.afterBody,v),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=uo(i.rtl,this.x,this.width);for(e.x=Qu(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=gt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=i,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:p}=rr(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+u,l+c-p),n.quadraticCurveTo(a+u,l+c,a+u-p,l+c),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+g,l+c),n.quadraticCurveTo(a,l+c,a,l+c-g),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Aa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=z0(this,e),l=Object.assign({},o,this._size),u=U0(n,e,l),c=$0(e,l,u,n);(s._to!==c.x||r._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=$t(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),OC(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),DC(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),r=!sh(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!sh(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=Aa[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}Y(Kp,"positioners",Aa);var S2={id:"tooltip",_element:Kp,positioners:Aa,afterInit(t,e,n){n&&(t.tooltip=new Kp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:a1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},C2=Object.freeze({__proto__:null,Colors:VD,Decimation:zD,Filler:a2,Legend:f2,SubTitle:m2,Title:g2,Tooltip:S2});const T2=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function k2(t,e,n,i){const s=t.indexOf(e);if(s===-1)return T2(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const P2=(t,e)=>t===null?null:wt(Math.round(t),0,e);function q0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Qp extends wr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(_e(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:k2(i,e,de(n,e),this._addedLabels),P2(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return q0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Y(Qp,"id","category"),Y(Qp,"defaults",{ticks:{callback:q0}});function L2(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=t,g=r||1,p=c-1,{min:v,max:E}=e,b=!_e(o),_=!_e(a),T=!_e(u),k=(E-v)/(d+1);let P=z_((E-v)/p/g)*g,R,S,x,C;if(P<1e-14&&!b&&!_)return[{value:v},{value:E}];C=Math.ceil(E/P)-Math.floor(v/P),C>p&&(P=z_(C*P/p/g)*g),_e(l)||(R=Math.pow(10,l),P=Math.ceil(P*R)/R),s==="ticks"?(S=Math.floor(v/P)*P,x=Math.ceil(E/P)*P):(S=v,x=E),b&&_&&r&&EM((a-o)/r,P/1e3)?(C=Math.round(Math.min((a-o)/P,c)),P=(a-o)/C,S=o,x=a):T?(S=b?o:S,x=_?a:x,C=u-1,P=(x-S)/C):(C=(x-S)/P,Wa(C,Math.round(C),P/1e3)?C=Math.round(C):C=Math.ceil(C));const L=Math.max(U_(P),U_(S));R=Math.pow(10,_e(l)?L:l),S=Math.round(S*R)/R,x=Math.round(x*R)/R;let M=0;for(b&&(f&&S!==o?(n.push({value:o}),S<o&&M++,Wa(Math.round((S+M*P)*R)/R,o,G0(o,k,t))&&M++):S<o&&M++);M<C;++M){const O=Math.round((S+M*P)*R)/R;if(_&&O>a)break;n.push({value:O})}return _&&f&&x!==a?n.length&&Wa(n[n.length-1].value,a,G0(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!_||x===a)&&n.push({value:x}),n}function G0(t,e,{horizontal:n,minRotation:i}){const s=In(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class hh extends wr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return _e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Yn(s),u=Yn(r);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=L2(s,r);return e.bounds==="ticks"&&vC(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ql(e,this.chart.options.locale,this.options.ticks.format)}}class Yp extends hh{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tt(e)?e:0,this.max=tt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=In(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Y(Yp,"id","linear"),Y(Yp,"defaults",{ticks:{callback:rd.formatters.numeric}});const Tl=t=>Math.floor(qi(t)),Us=(t,e)=>Math.pow(10,Tl(t)+e);function K0(t){return t/Math.pow(10,Tl(t))===1}function Q0(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function A2(t,e){const n=e-t;let i=Tl(n);for(;Q0(t,e,i)>10;)i++;for(;Q0(t,e,i)<10;)i--;return Math.min(i,Tl(t))}function I2(t,{min:e,max:n}){e=ln(t.min,e);const i=[],s=Tl(e);let r=A2(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,u=Math.round((e-l)*o)/o,c=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((u-c)/Math.pow(10,r)),f=ln(t.min,Math.round((l+c+d*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:K0(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),f=Math.round((l+c+d*Math.pow(10,r))*o)/o;const g=ln(t.max,f);return i.push({value:g,major:K0(g),significand:d}),i}class Xp extends wr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=hh.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return tt(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tt(e)?Math.max(0,e):null,this.max=tt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tt(this._userMin)&&(this.min=e===Us(this.min,0)?Us(this.min,-1):Us(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Us(i,-1)),o(Us(s,1)))),i<=0&&r(Us(s,-1)),s<=0&&o(Us(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=I2(n,this);return e.bounds==="ticks"&&vC(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Ql(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=qi(e),this._valueRange=qi(this.max)-qi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(qi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Y(Xp,"id","logarithmic"),Y(Xp,"defaults",{ticks:{callback:rd.formatters.logarithmic,major:{enabled:!0}}});function Zp(t){const e=t.ticks;if(e.display&&t.display){const n=$t(e.backdropPadding);return de(e.font&&e.font.size,Ge.font.size)+n.height}return 0}function M2(t,e,n){return n=qe(n)?n:[n],{w:FM(t,e.string,n),h:n.length*e.lineHeight}}function Y0(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function R2(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Me/r:0;for(let l=0;l<r;l++){const u=o.setContext(t.getPointLabelContext(l));s[l]=u.padding;const c=t.getPointPosition(l,t.drawingArea+s[l],a),d=gt(u.font),f=M2(t.ctx,d,t._pointLabels[l]);i[l]=f;const g=Vt(t.getIndexAngle(l)+a),p=Math.round(Cm(g)),v=Y0(p,c.x,f.w,0,180),E=Y0(p,c.y,f.h,90,270);O2(n,e,g,v,E)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=V2(t,i,s)}function O2(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function D2(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,i+s+o,r),u=Math.round(Cm(Vt(l.angle+rt))),c=B2(l.y,a.h,u),d=F2(u),f=j2(l.x,a.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:f,top:c,right:f+a.w,bottom:c+a.h}}function N2(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(gi({x:n,y:i},e)||gi({x:n,y:r},e)||gi({x:s,y:i},e)||gi({x:s,y:r},e))}function V2(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Zp(r)/2,additionalAngle:o?Me/s:0};let u;for(let c=0;c<s;c++){l.padding=n[c],l.size=e[c];const d=D2(t,c,l);i.push(d),a==="auto"&&(d.visible=N2(d,u),d.visible&&(u=d))}return i}function F2(t){return t===0||t===180?"center":t<180?"left":"right"}function j2(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function B2(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function z2(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!_e(a)){const l=rr(e.borderRadius),u=$t(e.backdropPadding);t.fillStyle=a;const c=i-u.left,d=s-u.top,f=r-i+u.width,g=o-s+u.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Sl(t,{x:c,y:d,w:f,h:g,radius:l}),t.fill()):t.fillRect(c,d,f,g)}}function U2(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(s));z2(n,o,r);const a=gt(o.font),{x:l,y:u,textAlign:c}=r;pr(n,t._pointLabels[s],l,u+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function l1(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,He);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function $2(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),l1(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function H2(t,e,n){return Ts(t,{label:n,index:e,type:"pointLabel"})}class Ia extends hh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=$t(Zp(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=tt(e)&&!isNaN(e)?e:0,this.max=tt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Zp(this.options))}generateTickLabels(e){hh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=Ve(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?R2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=He/(this._pointLabels.length||1),i=this.options.startAngle||0;return Vt(e*n+In(i))}getDistanceFromCenterForValue(e){if(_e(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(_e(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return H2(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-rt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),l1(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&U2(this,o),s.display&&this.ticks.forEach((c,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const f=this.getContext(d),g=s.setContext(f),p=r.setContext(f);$2(this,g,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const c=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=c;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=i.setContext(this.getContext(l)),c=gt(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const d=$t(u.backdropPadding);e.fillRect(-o/2-d.left,-r-c.size/2-d.top,o+d.width,c.size+d.height)}pr(e,a.label,0,-r,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Y(Ia,"id","radialLinear"),Y(Ia,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Y(Ia,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Y(Ia,"descriptors",{angleLines:{_fallback:"grid"}});const dd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zt=Object.keys(dd);function X0(t,e){return t-e}function Z0(t,e){if(_e(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),tt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(So(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function J0(t,e,n,i){const s=Zt.length;for(let r=Zt.indexOf(t);r<s-1;++r){const o=dd[Zt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Zt[r]}return Zt[s-1]}function W2(t,e,n,i,s){for(let r=Zt.length-1;r>=Zt.indexOf(n);r--){const o=Zt[r];if(dd[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return Zt[n?Zt.indexOf(n):0]}function q2(t){for(let e=Zt.indexOf(t)+1,n=Zt.length;e<n;++e)if(dd[Zt[e]].common)return Zt[e]}function ew(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Tm(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function G2(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function tw(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:G2(t,i,s,n)}class kl extends wr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new tO._date(e.adapters.date);s.init(n),Ha(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Z0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=tt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=tt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=CM(s,r,o);return this._unit=n.unit||(i.autoSkip?J0(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):W2(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:q2(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),tw(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=wt(n,0,o),i=wt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||J0(r.minUnit,n,i,this._getLabelCapacity(n)),a=de(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,u=So(l)||l===!0,c={};let d=n,f,g;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<i;f=+e.add(f,a,o),g++)ew(c,f,p);return(f===i||s.bounds==="ticks"||g===1)&&ew(c,f,p),Object.keys(c).sort(X0).map(v=>+v)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Ve(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],f=i[n],g=u&&d&&f&&f.major;return this._adapter.format(e,s||(g?d:c))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=In(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,tw(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(Z0(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return wC(e.sort(X0))}}Y(kl,"id","time"),Y(kl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yu(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=pi(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=pi(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const u=o-r;return u?a+(l-a)*(e-r)/u:a}class Jp extends kl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yu(n,this.min),this._tableRange=Yu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=i&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)c=s[o+1],l=s[o-1],u=s[o],Math.round((c+l)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Yu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Yu(this._table,i*this._tableRange+this._minPos,!0)}}Y(Jp,"id","timeseries"),Y(Jp,"defaults",kl.defaults);var K2=Object.freeze({__proto__:null,CategoryScale:Qp,LinearScale:Yp,LogarithmicScale:Xp,RadialLinearScale:Ia,TimeScale:kl,TimeSeriesScale:Jp});const Q2=[eO,AD,C2,K2],u1="label";function nw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Y2(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function c1(t,e){t.labels=e}function h1(t,e,n=u1){const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function X2(t,e=u1){const n={labels:[],datasets:[]};return c1(n,t.labels),h1(n,t.datasets,e),n}function Z2(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...f}=t,g=y.useRef(null),p=y.useRef(null),v=()=>{g.current&&(p.current=new cd(g.current,{type:o,data:X2(a,r),options:l&&{...l},plugins:u}),nw(e,p.current))},E=()=>{nw(e,null),p.current&&(p.current.destroy(),p.current=null)};return y.useEffect(()=>{!s&&p.current&&l&&Y2(p.current,l)},[s,l]),y.useEffect(()=>{!s&&p.current&&c1(p.current.config.data,a.labels)},[s,a.labels]),y.useEffect(()=>{!s&&p.current&&a.datasets&&h1(p.current.config.data,a.datasets,r)},[s,a.datasets]),y.useEffect(()=>{p.current&&(s?(E(),setTimeout(v)):p.current.update(d))},[s,l,a.labels,a.datasets,d]),y.useEffect(()=>{p.current&&(E(),setTimeout(v))},[o]),y.useEffect(()=>(v(),()=>E()),[]),se.jsx("canvas",{ref:g,role:"img",height:n,width:i,...f,children:c})}const J2=y.forwardRef(Z2);function d1(t,e){return cd.register(e),y.forwardRef((n,i)=>se.jsx(J2,{...n,ref:i,type:t}))}const eN=d1("line",Qa),tN=d1("bar",Ka);function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function nN(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Pl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iN(t){var e=nN(t,"string");return Pl(e)=="symbol"?e:e+""}function B(t,e,n){return(e=iN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pf,iw;function sN(){if(iw)return Pf;iw=1;var t=function(n,i,s,r,o,a,l,u){if(!n){var c;if(i===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[s,r,o,a,l,u],f=0;c=new Error(i.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return Pf=t,Pf}var rN=sN(),vt=f1(rN),me=y.createContext(null);function oN(){vt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=y.useContext(me);return vt(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function aN(t,e,n){return Object.keys(t).reduce(function(s,r){return e(s,t[r],r)},n)}function lN(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function uN(t,e,n,i){var s={},r=(o,a)=>{var l=n[a];l!==e[a]&&(s[a]=l,o(i,l))};return lN(t,r),s}function cN(t,e,n){var i=aN(n,function(r,o,a){return typeof t[a]=="function"&&r.push(google.maps.event.addListener(e,o,t[a])),r},[]);return i}function hN(t){google.maps.event.removeListener(t)}function Ce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(hN)}function xe(t){var{updaterMap:e,eventMap:n,prevProps:i,nextProps:s,instance:r}=t,o=cN(s,r,n);return uN(e,i,s,r),o}function dN(t){var{children:e,options:n,id:i,mapContainerStyle:s,mapContainerClassName:r,center:o,onClick:a,onDblClick:l,onDrag:u,onDragEnd:c,onDragStart:d,onMouseMove:f,onMouseOut:g,onMouseOver:p,onMouseDown:v,onMouseUp:E,onRightClick:b,onCenterChanged:_,onLoad:T,onUnmount:k}=t,[P,R]=y.useState(null),S=y.useRef(null),[x,C]=y.useState(null),[L,M]=y.useState(null),[O,I]=y.useState(null),[$,q]=y.useState(null),[X,J]=y.useState(null),[F,H]=y.useState(null),[G,ee]=y.useState(null),[Z,K]=y.useState(null),[oe,j]=y.useState(null),[ue,Se]=y.useState(null),[ge,Ze]=y.useState(null),[ae,ye]=y.useState(null);return y.useEffect(()=>{n&&P!==null&&P.setOptions(n)},[P,n]),y.useEffect(()=>{P!==null&&typeof o<"u"&&P.setCenter(o)},[P,o]),y.useEffect(()=>{P&&l&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(P,"dblclick",l)))},[l]),y.useEffect(()=>{P&&c&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(P,"dragend",c)))},[c]),y.useEffect(()=>{P&&d&&($!==null&&google.maps.event.removeListener($),q(google.maps.event.addListener(P,"dragstart",d)))},[d]),y.useEffect(()=>{P&&v&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(P,"mousedown",v)))},[v]),y.useEffect(()=>{P&&f&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(P,"mousemove",f)))},[f]),y.useEffect(()=>{P&&g&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(P,"mouseout",g)))},[g]),y.useEffect(()=>{P&&p&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(P,"mouseover",p)))},[p]),y.useEffect(()=>{P&&E&&(oe!==null&&google.maps.event.removeListener(oe),j(google.maps.event.addListener(P,"mouseup",E)))},[E]),y.useEffect(()=>{P&&b&&(ue!==null&&google.maps.event.removeListener(ue),Se(google.maps.event.addListener(P,"rightclick",b)))},[b]),y.useEffect(()=>{P&&a&&(ge!==null&&google.maps.event.removeListener(ge),Ze(google.maps.event.addListener(P,"click",a)))},[a]),y.useEffect(()=>{P&&u&&(ae!==null&&google.maps.event.removeListener(ae),ye(google.maps.event.addListener(P,"drag",u)))},[u]),y.useEffect(()=>{P&&_&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(P,"center_changed",_)))},[a]),y.useEffect(()=>{var Ht=S.current===null?null:new google.maps.Map(S.current,n);return R(Ht),Ht!==null&&T&&T(Ht),()=>{Ht!==null&&k&&k(Ht)}},[]),se.jsx("div",{id:i,ref:S,style:s,className:r,children:se.jsx(me.Provider,{value:P,children:P!==null?e:null})})}y.memo(dN);function sw(t,e,n,i,s,r,o){try{var a=t[r](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(i,s)}function p1(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var r=t.apply(e,n);function o(l){sw(r,i,s,o,a,"next",l)}function a(l){sw(r,i,s,o,a,"throw",l)}o(void 0)})}}function g1(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:i="weekly",language:s,region:r,libraries:o,channel:a,mapIds:l,authReferrerPolicy:u,apiUrl:c="https://maps.googleapis.com"}=t,d=[];return vt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):n&&d.push("client=".concat(n)),i&&d.push("v=".concat(i)),s&&d.push("language=".concat(s)),r&&d.push("region=".concat(r)),o&&o.length&&d.push("libraries=".concat(o.sort().join(","))),a&&d.push("channel=".concat(a)),l&&l.length&&d.push("map_ids=".concat(l.join(","))),u&&d.push("auth_referrer_policy=".concat(u)),d.push("loading=async"),d.push("callback=initMap"),"".concat(c,"/maps/api/js?").concat(d.join("&"))}var Yi=typeof document<"u";function m1(t){var{url:e,id:n,nonce:i}=t;return Yi?new Promise(function(r,o){var a=document.getElementById(n),l=window;if(a){var u=a.getAttribute("data-state");if(a.src===e&&u!=="error"){if(u==="ready")return r(n);var c=l.initMap,d=a.onerror;l.initMap=function(){c&&c(),r(n)},a.onerror=function(g){d&&d(g),o(g)};return}else a.remove()}var f=document.createElement("script");f.type="text/javascript",f.src=e,f.id=n,f.async=!0,f.nonce=i||"",f.onerror=function(p){f.setAttribute("data-state","error"),o(p)},l.initMap=function(){f.setAttribute("data-state","ready"),r(n)},document.head.appendChild(f)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function rw(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Vm(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,r){return rw(s)||Reflect.apply(e,t,[s,r]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return rw(s)||Reflect.apply(n,t,[s]),s}}}var _a=!1;function v1(){return se.jsx("div",{children:"Loading..."})}var Ll={id:"script-loader",version:"weekly"};class fN extends y.PureComponent{constructor(){super(...arguments),B(this,"check",null),B(this,"state",{loaded:!1}),B(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),B(this,"isCleaningUp",p1(function*(){function e(n){if(!_a)n();else if(Yi)var i=window.setInterval(function(){_a||(window.clearInterval(i),n())},1)}return new Promise(e)})),B(this,"cleanup",()=>{_a=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})}),B(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Vm(),vt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:g1(this.props)};m1(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),B(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Yi){if(window.google&&window.google.maps&&!_a){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Yi&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Yi){this.cleanup();var e=()=>{this.check||(delete window.google,_a=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return se.jsxs(se.Fragment,{children:[se.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||se.jsx(v1,{})]})}}B(fN,"defaultProps",Ll);function pN(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function Fm(t,e){if(t==null)return{};var n,i,s=pN(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var ow;function gN(t){var{id:e=Ll.id,version:n=Ll.version,nonce:i,googleMapsApiKey:s,googleMapsClientId:r,language:o,region:a,libraries:l,preventGoogleFontsLoading:u,channel:c,mapIds:d,authReferrerPolicy:f,apiUrl:g="https://maps.googleapis.com"}=t,p=y.useRef(!1),[v,E]=y.useState(!1),[b,_]=y.useState(void 0);y.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),y.useEffect(function(){Yi&&u&&Vm()},[u]),y.useEffect(function(){v&&vt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[v]);var T=g1({version:n,googleMapsApiKey:s,googleMapsClientId:r,language:o,region:a,libraries:l,channel:c,mapIds:d,authReferrerPolicy:f,apiUrl:g});y.useEffect(function(){if(!Yi)return;function R(){p.current&&(E(!0),ow=T)}if(window.google&&window.google.maps&&ow===T){R();return}m1({id:e,url:T,nonce:i}).then(R).catch(function(x){p.current&&_(x),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(r||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(x)})},[e,T,i]);var k=y.useRef(void 0);return y.useEffect(function(){k.current&&l!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=l},[l]),{isLoaded:v,loadError:b,url:T}}var mN=["loadingElement","onLoad","onError","onUnmount","children"],vN=se.jsx(v1,{});function yN(t){var{loadingElement:e,onLoad:n,onError:i,onUnmount:s,children:r}=t,o=Fm(t,mN),{isLoaded:a,loadError:l}=gN(o);return y.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),y.useEffect(function(){l&&typeof i=="function"&&i(l)},[l,i]),y.useEffect(function(){return()=>{s&&s()}},[s]),a?r:e||vN}y.memo(yN);function _N(t,e,n,i){function s(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?r(c.value):s(c.value).then(a,l)}u((i=i.apply(t,[])).next())})}function wN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EN=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),i=r.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;s--!==0;){var o=r[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},bN=wN(EN),aw="__googleMapsScriptId",no;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(no||(no={}));class Qs{constructor(e){var{apiKey:n,authReferrerPolicy:i,channel:s,client:r,id:o=aw,language:a,libraries:l=[],mapIds:u,nonce:c,region:d,retries:f=3,url:g="https://maps.googleapis.com/maps/api/js",version:p}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=i,this.channel=s,this.client=r,this.id=o||aw,this.language=a,this.libraries=l,this.mapIds=u,this.nonce=c,this.region=d,this.retries=f,this.url=g,this.version=p,Qs.instance){if(!bN(this.options,Qs.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Qs.instance.options)));return Qs.instance}Qs.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?no.FAILURE:this.done?no.SUCCESS:this.loading?no.LOADING:no.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(i=>{i?n(i.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(r=>!i[r]&&delete i[r]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(r=>{var o,a,l,u="The Google Maps JavaScript API",c="google",d="importLibrary",f="__ib__",g=document,p=window;p=p[c]||(p[c]={});var v=p.maps||(p.maps={}),E=new Set,b=new URLSearchParams,_=()=>o||(o=new Promise((T,k)=>_N(this,void 0,void 0,function*(){var P;yield a=g.createElement("script"),a.id=this.id,b.set("libraries",[...E]+"");for(l in r)b.set(l.replace(/[A-Z]/g,R=>"_"+R[0].toLowerCase()),r[l]);b.set("callback",c+".maps."+f),a.src=this.url+"?"+b,v[f]=T,a.onerror=()=>o=k(Error(u+" could not load.")),a.nonce=this.nonce||((P=g.querySelector("script[nonce]"))===null||P===void 0?void 0:P.nonce)||"",g.head.append(a)})));v[d]?console.warn(u+" only loads once. Ignoring:",r):v[d]=function(T){for(var k=arguments.length,P=new Array(k>1?k-1:0),R=1;R<k;R++)P[R-1]=arguments[R];return E.add(T)&&_().then(()=>v[d](T,...P))}})(i);var s=this.libraries.map(r=>this.importLibrary(r));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),r=>{var o=new ErrorEvent("error",{error:r});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var xN=["maps"];function SN(t){var{id:e=Ll.id,version:n=Ll.version,nonce:i,googleMapsApiKey:s,language:r,region:o,libraries:a=xN,preventGoogleFontsLoading:l,mapIds:u,authReferrerPolicy:c}=t,d=y.useRef(!1),[f,g]=y.useState(!1),[p,v]=y.useState(void 0);y.useEffect(function(){return d.current=!0,()=>{d.current=!1}},[]);var E=y.useMemo(()=>new Qs({id:e,apiKey:s,version:n,libraries:a,language:r||"en",region:o||"US",mapIds:u||[],nonce:i||"",authReferrerPolicy:c||"origin"}),[e,s,n,a,r,o,u,i,c]);y.useEffect(function(){f||E.load().then(()=>{d.current&&g(!0)}).catch(T=>{v(T)})},[]),y.useEffect(()=>{Yi&&l&&Vm()},[l]);var b=y.useRef();return y.useEffect(()=>{b.current&&a!==b.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),b.current=a},[a]),{isLoaded:f,loadError:p}}function lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var uw={},cw={options(t,e){t.setOptions(e)}};function CN(t){var{options:e,onLoad:n,onUnmount:i}=t,s=y.useContext(me),[r,o]=y.useState(null);return y.useEffect(()=>{r!==null&&r.setMap(s)},[s]),y.useEffect(()=>{e&&r!==null&&r.setOptions(e)},[r,e]),y.useEffect(()=>{var a=new google.maps.TrafficLayer(dh(dh({},e),{},{map:s}));return o(a),n&&n(a),()=>{r!==null&&(i&&i(r),r.setMap(null))}},[]),null}y.memo(CN);class TN extends y.PureComponent{constructor(){super(...arguments),B(this,"state",{trafficLayer:null}),B(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),B(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(dh(dh({},this.props.options),{},{map:this.context}));this.registeredEvents=xe({updaterMap:cw,eventMap:uw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:cw,eventMap:uw,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ce(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}B(TN,"contextType",me);function kN(t){var{onLoad:e,onUnmount:n}=t,i=y.useContext(me),[s,r]=y.useState(null);return y.useEffect(()=>{s!==null&&s.setMap(i)},[i]),y.useEffect(()=>{var o=new google.maps.BicyclingLayer;return r(o),o.setMap(i),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}y.memo(kN);class PN extends y.PureComponent{constructor(){super(...arguments),B(this,"state",{bicyclingLayer:null}),B(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}B(PN,"contextType",me);function LN(t){var{onLoad:e,onUnmount:n}=t,i=y.useContext(me),[s,r]=y.useState(null);return y.useEffect(()=>{s!==null&&s.setMap(i)},[i]),y.useEffect(()=>{var o=new google.maps.TransitLayer;return r(o),o.setMap(i),e&&e(o),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}y.memo(LN);class AN extends y.PureComponent{constructor(){super(...arguments),B(this,"state",{transitLayer:null}),B(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}B(AN,"contextType",me);function hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var dw={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},fw={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function IN(t){var{options:e,drawingMode:n,onCircleComplete:i,onMarkerComplete:s,onOverlayComplete:r,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:l,onLoad:u,onUnmount:c}=t,d=y.useContext(me),[f,g]=y.useState(null),[p,v]=y.useState(null),[E,b]=y.useState(null),[_,T]=y.useState(null),[k,P]=y.useState(null),[R,S]=y.useState(null),[x,C]=y.useState(null);return y.useEffect(()=>{f!==null&&f.setMap(d)},[d]),y.useEffect(()=>{e&&f!==null&&f.setOptions(e)},[f,e]),y.useEffect(()=>{f!==null&&f.setDrawingMode(n??null)},[f,n]),y.useEffect(()=>{f&&i&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(f,"circlecomplete",i)))},[f,i]),y.useEffect(()=>{f&&s&&(E!==null&&google.maps.event.removeListener(E),b(google.maps.event.addListener(f,"markercomplete",s)))},[f,s]),y.useEffect(()=>{f&&r&&(_!==null&&google.maps.event.removeListener(_),T(google.maps.event.addListener(f,"overlaycomplete",r)))},[f,r]),y.useEffect(()=>{f&&o&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(f,"polygoncomplete",o)))},[f,o]),y.useEffect(()=>{f&&a&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(f,"polylinecomplete",a)))},[f,a]),y.useEffect(()=>{f&&l&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(f,"rectanglecomplete",l)))},[f,l]),y.useEffect(()=>{vt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var L=new google.maps.drawing.DrawingManager(fh(fh({},e),{},{map:d}));return n&&L.setDrawingMode(n),i&&v(google.maps.event.addListener(L,"circlecomplete",i)),s&&b(google.maps.event.addListener(L,"markercomplete",s)),r&&T(google.maps.event.addListener(L,"overlaycomplete",r)),o&&P(google.maps.event.addListener(L,"polygoncomplete",o)),a&&S(google.maps.event.addListener(L,"polylinecomplete",a)),l&&C(google.maps.event.addListener(L,"rectanglecomplete",l)),g(L),u&&u(L),()=>{f!==null&&(p&&google.maps.event.removeListener(p),E&&google.maps.event.removeListener(E),_&&google.maps.event.removeListener(_),k&&google.maps.event.removeListener(k),R&&google.maps.event.removeListener(R),x&&google.maps.event.removeListener(x),c&&c(f),f.setMap(null))}},[]),null}y.memo(IN);class MN extends y.PureComponent{constructor(e){super(e),B(this,"registeredEvents",[]),B(this,"state",{drawingManager:null}),B(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),vt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(fh(fh({},this.props.options),{},{map:this.context}));this.registeredEvents=xe({updaterMap:fw,eventMap:dw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:fw,eventMap:dw,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ce(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}B(MN,"contextType",me);function pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var gw={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},mw={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},ph={};function RN(t){var{position:e,options:n,clusterer:i,noClustererRedraw:s,children:r,draggable:o,visible:a,animation:l,clickable:u,cursor:c,icon:d,label:f,opacity:g,shape:p,title:v,zIndex:E,onClick:b,onDblClick:_,onDrag:T,onDragEnd:k,onDragStart:P,onMouseOut:R,onMouseOver:S,onMouseUp:x,onMouseDown:C,onRightClick:L,onClickableChanged:M,onCursorChanged:O,onAnimationChanged:I,onDraggableChanged:$,onFlatChanged:q,onIconChanged:X,onPositionChanged:J,onShapeChanged:F,onTitleChanged:H,onVisibleChanged:G,onZindexChanged:ee,onLoad:Z,onUnmount:K}=t,oe=y.useContext(me),[j,ue]=y.useState(null),[Se,ge]=y.useState(null),[Ze,ae]=y.useState(null),[ye,Ht]=y.useState(null),[on,ni]=y.useState(null),[Le,Ho]=y.useState(null),[Tr,nu]=y.useState(null),[ks,kr]=y.useState(null),[Ps,iu]=y.useState(null),[Ti,Pr]=y.useState(null),[Wo,dt]=y.useState(null),[at,Ls]=y.useState(null),[As,qo]=y.useState(null),[Lr,ki]=y.useState(null),[Is,Go]=y.useState(null),[Pi,su]=y.useState(null),[Ar,Ir]=y.useState(null),[Ms,Ko]=y.useState(null),[Li,Mr]=y.useState(null),[Ai,Bn]=y.useState(null),[Rs,Os]=y.useState(null),[Ds,Ii]=y.useState(null);y.useEffect(()=>{j!==null&&j.setMap(oe)},[oe]),y.useEffect(()=>{typeof n<"u"&&j!==null&&j.setOptions(n)},[j,n]),y.useEffect(()=>{typeof o<"u"&&j!==null&&j.setDraggable(o)},[j,o]),y.useEffect(()=>{e&&j!==null&&j.setPosition(e)},[j,e]),y.useEffect(()=>{typeof a<"u"&&j!==null&&j.setVisible(a)},[j,a]),y.useEffect(()=>{j==null||j.setAnimation(l)},[j,l]),y.useEffect(()=>{j&&u!==void 0&&j.setClickable(u)},[j,u]),y.useEffect(()=>{j&&c!==void 0&&j.setCursor(c)},[j,c]),y.useEffect(()=>{j&&d!==void 0&&j.setIcon(d)},[j,d]),y.useEffect(()=>{j&&f!==void 0&&j.setLabel(f)},[j,f]),y.useEffect(()=>{j&&g!==void 0&&j.setOpacity(g)},[j,g]),y.useEffect(()=>{j&&p!==void 0&&j.setShape(p)},[j,p]),y.useEffect(()=>{j&&v!==void 0&&j.setTitle(v)},[j,v]),y.useEffect(()=>{j&&E!==void 0&&j.setZIndex(E)},[j,E]),y.useEffect(()=>{j&&_&&(Se!==null&&google.maps.event.removeListener(Se),ge(google.maps.event.addListener(j,"dblclick",_)))},[_]),y.useEffect(()=>{j&&k&&(Ze!==null&&google.maps.event.removeListener(Ze),ae(google.maps.event.addListener(j,"dragend",k)))},[k]),y.useEffect(()=>{j&&P&&(ye!==null&&google.maps.event.removeListener(ye),Ht(google.maps.event.addListener(j,"dragstart",P)))},[P]),y.useEffect(()=>{j&&C&&(on!==null&&google.maps.event.removeListener(on),ni(google.maps.event.addListener(j,"mousedown",C)))},[C]),y.useEffect(()=>{j&&R&&(Le!==null&&google.maps.event.removeListener(Le),Ho(google.maps.event.addListener(j,"mouseout",R)))},[R]),y.useEffect(()=>{j&&S&&(Tr!==null&&google.maps.event.removeListener(Tr),nu(google.maps.event.addListener(j,"mouseover",S)))},[S]),y.useEffect(()=>{j&&x&&(ks!==null&&google.maps.event.removeListener(ks),kr(google.maps.event.addListener(j,"mouseup",x)))},[x]),y.useEffect(()=>{j&&L&&(Ps!==null&&google.maps.event.removeListener(Ps),iu(google.maps.event.addListener(j,"rightclick",L)))},[L]),y.useEffect(()=>{j&&b&&(Ti!==null&&google.maps.event.removeListener(Ti),Pr(google.maps.event.addListener(j,"click",b)))},[b]),y.useEffect(()=>{j&&T&&(Wo!==null&&google.maps.event.removeListener(Wo),dt(google.maps.event.addListener(j,"drag",T)))},[T]),y.useEffect(()=>{j&&M&&(at!==null&&google.maps.event.removeListener(at),Ls(google.maps.event.addListener(j,"clickable_changed",M)))},[M]),y.useEffect(()=>{j&&O&&(As!==null&&google.maps.event.removeListener(As),qo(google.maps.event.addListener(j,"cursor_changed",O)))},[O]),y.useEffect(()=>{j&&I&&(Lr!==null&&google.maps.event.removeListener(Lr),ki(google.maps.event.addListener(j,"animation_changed",I)))},[I]),y.useEffect(()=>{j&&$&&(Is!==null&&google.maps.event.removeListener(Is),Go(google.maps.event.addListener(j,"draggable_changed",$)))},[$]),y.useEffect(()=>{j&&q&&(Pi!==null&&google.maps.event.removeListener(Pi),su(google.maps.event.addListener(j,"flat_changed",q)))},[q]),y.useEffect(()=>{j&&X&&(Ar!==null&&google.maps.event.removeListener(Ar),Ir(google.maps.event.addListener(j,"icon_changed",X)))},[X]),y.useEffect(()=>{j&&J&&(Ms!==null&&google.maps.event.removeListener(Ms),Ko(google.maps.event.addListener(j,"position_changed",J)))},[J]),y.useEffect(()=>{j&&F&&(Li!==null&&google.maps.event.removeListener(Li),Mr(google.maps.event.addListener(j,"shape_changed",F)))},[F]),y.useEffect(()=>{j&&H&&(Ai!==null&&google.maps.event.removeListener(Ai),Bn(google.maps.event.addListener(j,"title_changed",H)))},[H]),y.useEffect(()=>{j&&G&&(Rs!==null&&google.maps.event.removeListener(Rs),Os(google.maps.event.addListener(j,"visible_changed",G)))},[G]),y.useEffect(()=>{j&&ee&&(Ds!==null&&google.maps.event.removeListener(Ds),Ii(google.maps.event.addListener(j,"zindex_changed",ee)))},[ee]),y.useEffect(()=>{var nt=co(co(co({},n||ph),i?ph:{map:oe}),{},{position:e}),ce=new google.maps.Marker(nt);return i?i.addMarker(ce,!!s):ce.setMap(oe),e&&ce.setPosition(e),typeof a<"u"&&ce.setVisible(a),typeof o<"u"&&ce.setDraggable(o),typeof u<"u"&&ce.setClickable(u),typeof c=="string"&&ce.setCursor(c),d&&ce.setIcon(d),typeof f<"u"&&ce.setLabel(f),typeof g<"u"&&ce.setOpacity(g),p&&ce.setShape(p),typeof v=="string"&&ce.setTitle(v),typeof E=="number"&&ce.setZIndex(E),_&&ge(google.maps.event.addListener(ce,"dblclick",_)),k&&ae(google.maps.event.addListener(ce,"dragend",k)),P&&Ht(google.maps.event.addListener(ce,"dragstart",P)),C&&ni(google.maps.event.addListener(ce,"mousedown",C)),R&&Ho(google.maps.event.addListener(ce,"mouseout",R)),S&&nu(google.maps.event.addListener(ce,"mouseover",S)),x&&kr(google.maps.event.addListener(ce,"mouseup",x)),L&&iu(google.maps.event.addListener(ce,"rightclick",L)),b&&Pr(google.maps.event.addListener(ce,"click",b)),T&&dt(google.maps.event.addListener(ce,"drag",T)),M&&Ls(google.maps.event.addListener(ce,"clickable_changed",M)),O&&qo(google.maps.event.addListener(ce,"cursor_changed",O)),I&&ki(google.maps.event.addListener(ce,"animation_changed",I)),$&&Go(google.maps.event.addListener(ce,"draggable_changed",$)),q&&su(google.maps.event.addListener(ce,"flat_changed",q)),X&&Ir(google.maps.event.addListener(ce,"icon_changed",X)),J&&Ko(google.maps.event.addListener(ce,"position_changed",J)),F&&Mr(google.maps.event.addListener(ce,"shape_changed",F)),H&&Bn(google.maps.event.addListener(ce,"title_changed",H)),G&&Os(google.maps.event.addListener(ce,"visible_changed",G)),ee&&Ii(google.maps.event.addListener(ce,"zindex_changed",ee)),ue(ce),Z&&Z(ce),()=>{Se!==null&&google.maps.event.removeListener(Se),Ze!==null&&google.maps.event.removeListener(Ze),ye!==null&&google.maps.event.removeListener(ye),on!==null&&google.maps.event.removeListener(on),Le!==null&&google.maps.event.removeListener(Le),Tr!==null&&google.maps.event.removeListener(Tr),ks!==null&&google.maps.event.removeListener(ks),Ps!==null&&google.maps.event.removeListener(Ps),Ti!==null&&google.maps.event.removeListener(Ti),at!==null&&google.maps.event.removeListener(at),As!==null&&google.maps.event.removeListener(As),Lr!==null&&google.maps.event.removeListener(Lr),Is!==null&&google.maps.event.removeListener(Is),Pi!==null&&google.maps.event.removeListener(Pi),Ar!==null&&google.maps.event.removeListener(Ar),Ms!==null&&google.maps.event.removeListener(Ms),Ai!==null&&google.maps.event.removeListener(Ai),Rs!==null&&google.maps.event.removeListener(Rs),Ds!==null&&google.maps.event.removeListener(Ds),K&&K(ce),i?i.removeMarker(ce,!!s):ce&&ce.setMap(null)}},[]);var ru=y.useMemo(()=>r?y.Children.map(r,nt=>{if(!y.isValidElement(nt))return nt;var ce=nt;return y.cloneElement(ce,{anchor:j})}):null,[r,j]);return se.jsx(se.Fragment,{children:ru})||null}y.memo(RN);class ON extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[])}componentDidMount(){var e=this;return p1(function*(){var n=co(co(co({},e.props.options||ph),e.props.clusterer?ph:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=xe({updaterMap:mw,eventMap:gw,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:mw,eventMap:gw,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ce(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,n=>{if(!y.isValidElement(n))return n;var i=n;return y.cloneElement(i,{anchor:this.marker})}):null;return e||null}}B(ON,"contextType",me);var DN=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var i=n.getMaxZoom(),s=this.cluster.getBounds(),r=n.getMap();r!==null&&"fitBounds"in r&&r.fitBounds(s),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(s);var a=o.getZoom()||0;i!==null&&a>i&&o.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,i,s,r,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),u=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(d!==null?"".concat(d.y,"px"):"0","; left: ").concat(d!==null?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var f=document.createElement("img");f.alt=a,f.src=this.url,f.width=this.width,f.height=this.height,f.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(f.style.clip="rect(-".concat(c,"px, -").concat(u+this.width,"px, -").concat(c+this.height,", -").concat(u,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(g.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((r=this.sums)===null||r===void 0)&&r.html&&(g.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(f),this.div.appendChild(g),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),i=n[Math.min(n.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),NN=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new DN(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),i=0,s=n;i<s.length;i++){var r=s[i],o=r.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+i.lat())/s,(this.center.lng()*(s-1)+i.lng())/s),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var r=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(r<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(r===this.minClusterSize)for(var l=0,u=this.markers;l<u.length;l++){var c=u[l];c.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,i=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof s<"u"&&s>i){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function VN(t,e){var n=t.length,i=n.toString().length,s=Math.min(i,e);return{text:n.toString(),index:s,title:""}}var FN=2e3,jN=500,BN="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",zN="png",UN=[53,56,66,78,90],$N="cluster",y1=function(){function t(e,n,i){n===void 0&&(n=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||BN,this.imageExtension=i.imageExtension||zN,this.imageSizes=i.imageSizes||UN,this.calculator=i.calculator||VN,this.batchSize=i.batchSize||FN,this.batchSizeIE=i.batchSizeIE||jN,this.clusterClass=i.clusterClass||$N,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var i=n[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var s=0,r=this.clusters;s<r.length;s++){var o=r[s];o.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var u=l[a];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,i=0,s=e;i<s.length;i++){var r=s[i],o=r.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){n=i;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var i=this.removeMarker_(e);return!n&&i&&this.repaint(),i},t.prototype.removeMarkers=function(e,n){for(var i=!1,s=0,r=e;s<r.length;s++){var o=r[s];i=i||this.removeMarker_(o)}return!n&&i&&this.repaint(),i},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,s=e;i<s.length;i++){var r=s[i];r.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),i!==null){var r=n.fromDivPixelToLatLng(i);r!==null&&e.extend(r)}if(s!==null){var o=n.fromDivPixelToLatLng(s);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,i=this.clusters;n<i.length;n++){var s=i[n];s.remove()}this.clusters=[];for(var r=0,o=this.markers;r<o.length;r++){var a=o[r];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var i=6371,s=(n.lat()-e.lat())*Math.PI/180,r=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return i*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var i=e.getPosition();return i?n.contains(i):!1},t.prototype.addToClosestCluster=function(e){for(var n,i=4e4,s=null,r=0,o=this.clusters;r<o.length;r++){var a=o[r];n=a;var l=n.getCenter(),u=e.getPosition();if(l&&u){var c=this.distanceBetweenPoints(l,u);c<i&&(i=c,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new NN(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),s=i!==null&&("getBounds"in i)?i.getBounds():null,r=(i==null?void 0:i.getZoom())||0,o=r>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var c=this.markers[u];c&&!c.isAdded&&this.isMarkerInBounds(c,a)&&(!this.ignoreHidden||this.ignoreHidden&&c.getVisible())&&this.addToClosestCluster(c)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var d=0,f=this.clusters;d<f.length;d++){var g=f[d];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var r in s.prototype){var o=r;this.prototype[o]=s.prototype[o]}return this}).apply(e,[n])},t}();function vw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var vn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ie={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},WN={};function qN(t){var{children:e,options:n,averageCenter:i,batchSizeIE:s,calculator:r,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:u,imageExtension:c,imagePath:d,imageSizes:f,maxZoom:g,minimumClusterSize:p,styles:v,title:E,zoomOnClick:b,onClick:_,onClusteringBegin:T,onClusteringEnd:k,onMouseOver:P,onMouseOut:R,onLoad:S,onUnmount:x}=t,[C,L]=y.useState(null),M=y.useContext(me),[O,I]=y.useState(null),[$,q]=y.useState(null),[X,J]=y.useState(null),[F,H]=y.useState(null),[G,ee]=y.useState(null);return y.useEffect(()=>{C&&R&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(C,vn.onMouseOut,R)))},[R]),y.useEffect(()=>{C&&P&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(C,vn.onMouseOver,P)))},[P]),y.useEffect(()=>{C&&_&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(C,vn.onClick,_)))},[_]),y.useEffect(()=>{C&&T&&($!==null&&google.maps.event.removeListener($),q(google.maps.event.addListener(C,vn.onClusteringBegin,T)))},[T]),y.useEffect(()=>{C&&k&&(X!==null&&google.maps.event.removeListener(X),q(google.maps.event.addListener(C,vn.onClusteringEnd,k)))},[k]),y.useEffect(()=>{typeof i<"u"&&C!==null&&Ie.averageCenter(C,i)},[C,i]),y.useEffect(()=>{typeof s<"u"&&C!==null&&Ie.batchSizeIE(C,s)},[C,s]),y.useEffect(()=>{typeof r<"u"&&C!==null&&Ie.calculator(C,r)},[C,r]),y.useEffect(()=>{typeof o<"u"&&C!==null&&Ie.clusterClass(C,o)},[C,o]),y.useEffect(()=>{typeof a<"u"&&C!==null&&Ie.enableRetinaIcons(C,a)},[C,a]),y.useEffect(()=>{typeof l<"u"&&C!==null&&Ie.gridSize(C,l)},[C,l]),y.useEffect(()=>{typeof u<"u"&&C!==null&&Ie.ignoreHidden(C,u)},[C,u]),y.useEffect(()=>{typeof c<"u"&&C!==null&&Ie.imageExtension(C,c)},[C,c]),y.useEffect(()=>{typeof d<"u"&&C!==null&&Ie.imagePath(C,d)},[C,d]),y.useEffect(()=>{typeof f<"u"&&C!==null&&Ie.imageSizes(C,f)},[C,f]),y.useEffect(()=>{typeof g<"u"&&C!==null&&Ie.maxZoom(C,g)},[C,g]),y.useEffect(()=>{typeof p<"u"&&C!==null&&Ie.minimumClusterSize(C,p)},[C,p]),y.useEffect(()=>{typeof v<"u"&&C!==null&&Ie.styles(C,v)},[C,v]),y.useEffect(()=>{typeof E<"u"&&C!==null&&Ie.title(C,E)},[C,E]),y.useEffect(()=>{typeof b<"u"&&C!==null&&Ie.zoomOnClick(C,b)},[C,b]),y.useEffect(()=>{if(M){var Z=HN({},n||WN),K=new y1(M,[],Z);return i&&Ie.averageCenter(K,i),s&&Ie.batchSizeIE(K,s),r&&Ie.calculator(K,r),o&&Ie.clusterClass(K,o),a&&Ie.enableRetinaIcons(K,a),l&&Ie.gridSize(K,l),u&&Ie.ignoreHidden(K,u),c&&Ie.imageExtension(K,c),d&&Ie.imagePath(K,d),f&&Ie.imageSizes(K,f),g&&Ie.maxZoom(K,g),p&&Ie.minimumClusterSize(K,p),v&&Ie.styles(K,v),E&&Ie.title(K,E),b&&Ie.zoomOnClick(K,b),R&&H(google.maps.event.addListener(K,vn.onMouseOut,R)),P&&ee(google.maps.event.addListener(K,vn.onMouseOver,P)),_&&I(google.maps.event.addListener(K,vn.onClick,_)),T&&q(google.maps.event.addListener(K,vn.onClusteringBegin,T)),k&&J(google.maps.event.addListener(K,vn.onClusteringEnd,k)),L(K),S&&S(K),()=>{F!==null&&google.maps.event.removeListener(F),G!==null&&google.maps.event.removeListener(G),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),X!==null&&google.maps.event.removeListener(X),x&&x(K)}}},[]),C!==null&&e(C)||null}y.memo(qN);class GN extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{markerClusterer:null}),B(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new y1(this.context,[],this.props.options);this.registeredEvents=xe({updaterMap:Ie,eventMap:vn,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:Ie,eventMap:vn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ce(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}B(GN,"contextType",me);function yw(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var _1=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||yw(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=r;o<a.length;o++){var l=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,l,yw))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var i=0,s=0,r=n.getBounds();r&&!r.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,f=this.div.offsetHeight,g=this.infoBoxClearance.width,p=this.infoBoxClearance.height,v=this.getProjection(),E=v.fromLatLngToContainerPixel(this.position);E!==null&&(E.x<-u+g?i=E.x+u-g:E.x+d+u+g>a&&(i=E.x+d+u+g-a),this.alignBottom?E.y<-c+p+f?s=E.y+c-p-f:E.y+c+p>l&&(s=E.y+c+p-l):E.y<-c+p?s=E.y+c-p:E.y+f+c+p>l&&(s=E.y+f+c+p-l)),i===0&&s===0||n.panBy(i,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,i=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var i=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();i.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){i.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var i=n[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var r in s.prototype)Object.prototype.hasOwnProperty.call(this,r)||(this.prototype[r]=s.prototype[r]);return this}).apply(e,[n])},t}(),KN=["position"],QN=["position"];function _w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_w(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var ww={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Ew={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},YN={};function XN(t){var{children:e,anchor:n,options:i,position:s,zIndex:r,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:c,onLoad:d,onUnmount:f}=t,g=y.useContext(me),[p,v]=y.useState(null),[E,b]=y.useState(null),[_,T]=y.useState(null),[k,P]=y.useState(null),[R,S]=y.useState(null),[x,C]=y.useState(null),L=y.useRef(null);return y.useEffect(()=>{g&&p!==null&&(p.close(),n?p.open(g,n):p.getPosition()&&p.open(g))},[g,p,n]),y.useEffect(()=>{i&&p!==null&&p.setOptions(i)},[p,i]),y.useEffect(()=>{if(s&&p!==null){var M=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);p.setPosition(M)}},[s]),y.useEffect(()=>{typeof r=="number"&&p!==null&&p.setZIndex(r)},[r]),y.useEffect(()=>{p&&o&&(E!==null&&google.maps.event.removeListener(E),b(google.maps.event.addListener(p,"closeclick",o)))},[o]),y.useEffect(()=>{p&&a&&(_!==null&&google.maps.event.removeListener(_),T(google.maps.event.addListener(p,"domready",a)))},[a]),y.useEffect(()=>{p&&l&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(p,"content_changed",l)))},[l]),y.useEffect(()=>{p&&u&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(p,"position_changed",u)))},[u]),y.useEffect(()=>{p&&c&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(p,"zindex_changed",c)))},[c]),y.useEffect(()=>{if(g){var M=i||YN,{position:O}=M,I=Fm(M,KN),$;O&&!(O instanceof google.maps.LatLng)&&($=new google.maps.LatLng(O.lat,O.lng));var q=new _1(gh(gh({},I),$?{position:$}:{}));L.current=document.createElement("div"),v(q),o&&b(google.maps.event.addListener(q,"closeclick",o)),a&&T(google.maps.event.addListener(q,"domready",a)),l&&P(google.maps.event.addListener(q,"content_changed",l)),u&&S(google.maps.event.addListener(q,"position_changed",u)),c&&C(google.maps.event.addListener(q,"zindex_changed",c)),q.setContent(L.current),n?q.open(g,n):q.getPosition()?q.open(g):vt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(q)}return()=>{p!==null&&(E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),R&&google.maps.event.removeListener(R),x&&google.maps.event.removeListener(x),f&&f(p),p.close())}},[]),L.current?_r.createPortal(y.Children.only(e),L.current):null}y.memo(XN);class ZN extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"containerElement",null),B(this,"state",{infoBox:null}),B(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):vt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),B(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,i=Fm(e,QN),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var r=new _1(gh(gh({},i),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=xe({updaterMap:Ew,eventMap:ww,prevProps:{},nextProps:this.props,instance:r}),this.setState({infoBox:r},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:Ew,eventMap:ww,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ce(this.registeredEvents),n.close())}render(){return this.containerElement?_r.createPortal(y.Children.only(this.props.children),this.containerElement):null}}B(ZN,"contextType",me);var Lf,bw;function JN(){return bw||(bw=1,Lf=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),i=r.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;s--!==0;){var o=r[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),Lf}var eV=JN(),xw=f1(eV),Sw=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Af=1,wa=8;class jm{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,i]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=i>>4;if(s!==Af)throw new Error("Got v".concat(s," data when expected v").concat(Af,"."));var r=Sw[i&15];if(!r)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new jm(a,o,r,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var r=Sw.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(r<0)throw new Error("Unexpected typed array class: ".concat(i,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,wa,e),this.coords=new this.ArrayType(this.data,wa+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(wa+o+a+l),this.ids=new this.IndexArrayType(this.data,wa,e),this.coords=new this.ArrayType(this.data,wa+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Af<<4)+r]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=n,i}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return eg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,i,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:o,nodeSize:a}=this,l=[0,r.length-1,0],u=[];l.length;){var c=l.pop()||0,d=l.pop()||0,f=l.pop()||0;if(d-f<=a){for(var g=f;g<=d;g++){var p=o[2*g],v=o[2*g+1];p>=e&&p<=i&&v>=n&&v<=s&&u.push(r[g])}continue}var E=f+d>>1,b=o[2*E],_=o[2*E+1];b>=e&&b<=i&&_>=n&&_<=s&&u.push(r[E]),(c===0?e<=b:n<=_)&&(l.push(f),l.push(E-1),l.push(1-c)),(c===0?i>=b:s>=_)&&(l.push(E+1),l.push(d),l.push(1-c))}return u}within(e,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:r,nodeSize:o}=this,a=[0,s.length-1,0],l=[],u=i*i;a.length;){var c=a.pop()||0,d=a.pop()||0,f=a.pop()||0;if(d-f<=o){for(var g=f;g<=d;g++)Cw(r[2*g],r[2*g+1],e,n)<=u&&l.push(s[g]);continue}var p=f+d>>1,v=r[2*p],E=r[2*p+1];Cw(v,E,e,n)<=u&&l.push(s[p]),(c===0?e-i<=v:n-i<=E)&&(a.push(f),a.push(p-1),a.push(1-c)),(c===0?e+i>=v:n+i>=E)&&(a.push(p+1),a.push(d),a.push(1-c))}return l}}function eg(t,e,n,i,s,r){if(!(s-i<=n)){var o=i+s>>1;w1(t,e,o,i,s,r),eg(t,e,n,i,o-1,1-r),eg(t,e,n,o+1,s,1-r)}}function w1(t,e,n,i,s,r){for(;s>i;){if(s-i>600){var o=s-i+1,a=n-i+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(a-o/2<0?-1:1),d=Math.max(i,Math.floor(n-a*u/o+c)),f=Math.min(s,Math.floor(n+(o-a)*u/o+c));w1(t,e,n,d,f,r)}var g=e[2*n+r],p=i,v=s;for(Ea(t,e,i,n),e[2*s+r]>g&&Ea(t,e,i,s);p<v;){for(Ea(t,e,p,v),p++,v--;e[2*p+r]<g;)p++;for(;e[2*v+r]>g;)v--}e[2*i+r]===g?Ea(t,e,i,v):(v++,Ea(t,e,v,s)),v<=n&&(i=v+1),n<=v&&(s=v-1)}}function Ea(t,e,n,i){If(t,n,i),If(e,2*n,2*i),If(e,2*n+1,2*i+1)}function If(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Cw(t,e,n,i){var s=t-n,r=e-i;return s*s+r*r}var tV={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Tw=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),$s=2,Bi=3,Mf=4,Vi=5,E1=6;class nV{constructor(e){this.options=Object.assign(Object.create(tV),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:i,maxZoom:s}=this.options;n&&console.time("total time");var r="prepare ".concat(e.length," points");n&&console.time(r),this.points=e;for(var o=[],a=0;a<e.length;a++){var l=e[a];if(l.geometry){var[u,c]=l.geometry.coordinates,d=Tw(Xu(u)),f=Tw(Zu(c));o.push(d,f,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var g=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(r);for(var p=s;p>=i;p--){var v=+Date.now();g=this.trees[p]=this._createTree(this._cluster(g,p)),n&&console.log("z%d: %d clusters in %dms",p,g.numItems,+Date.now()-v)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var i=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),r=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,r=180;else if(i>r){var a=this.getClusters([i,s,180,o],n),l=this.getClusters([-180,s,r,o],n);return a.concat(l)}var u=this.trees[this._limitZoom(n)],c=u.range(Xu(i),Zu(o),Xu(r),Zu(s)),d=u.data,f=[];for(var g of c){var p=this.stride*g;f.push(d[p+Vi]>1?kw(d,p,this.clusterProps):this.points[d[p+Bi]])}return f}getChildren(e){var n=this._getOriginId(e),i=this._getOriginZoom(e),s="No cluster with the specified id.",r=this.trees[i];if(!r)throw new Error(s);var o=r.data;if(n*this.stride>=o.length)throw new Error(s);var a=this.options.radius/(this.options.extent*Math.pow(2,i-1)),l=o[n*this.stride],u=o[n*this.stride+1],c=r.within(l,u,a),d=[];for(var f of c){var g=f*this.stride;o[g+Mf]===e&&d.push(o[g+Vi]>1?kw(o,g,this.clusterProps):this.points[o[g+Bi]])}if(d.length===0)throw new Error(s);return d}getLeaves(e,n,i){n=n||10,i=i||0;var s=[];return this._appendLeaves(s,e,n,i,0),s}getTile(e,n,i){var s=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(i-l)/r,c=(i+1+l)/r,d={features:[]};return this._addTileFeatures(s.range((n-l)/r,u,(n+1+l)/r,c),s.data,n,i,r,d),n===0&&this._addTileFeatures(s.range(1-l/r,u,1,c),s.data,r,i,r,d),n===r-1&&this._addTileFeatures(s.range(0,u,l/r,c),s.data,-1,i,r,d),d.features.length?d:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var i=this.getChildren(e);if(n++,i.length!==1)break;e=i[0].properties.cluster_id}return n}_appendLeaves(e,n,i,s,r){var o=this.getChildren(n);for(var a of o){var l=a.properties;if(l&&l.cluster?r+l.point_count<=s?r+=l.point_count:r=this._appendLeaves(e,l.cluster_id,i,s,r):r<s?r++:e.push(a),e.length===i)break}return r}_createTree(e){for(var n=new jm(e.length/this.stride|0,this.options.nodeSize,Float32Array),i=0;i<e.length;i+=this.stride)n.add(e[i],e[i+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,i,s,r,o){for(var a of e){var l=a*this.stride,u=n[l+Vi]>1,c=void 0,d=void 0,f=void 0;if(u)c=b1(n,l,this.clusterProps),d=n[l],f=n[l+1];else{var g=this.points[n[l+Bi]];c=g.properties;var[p,v]=g.geometry.coordinates;d=Xu(p),f=Zu(v)}var E={type:1,geometry:[[Math.round(this.options.extent*(d*r-i)),Math.round(this.options.extent*(f*r-s))]],tags:c},b=void 0;u||this.options.generateId?b=n[l+Bi]:b=this.points[n[l+Bi]].id,b!==void 0&&(E.id=b),o.features.push(E)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:i,extent:s,reduce:r,minPoints:o}=this.options,a=i/(s*Math.pow(2,n)),l=e.data,u=[],c=this.stride,d=0;d<l.length;d+=c)if(!(l[d+$s]<=n)){l[d+$s]=n;var f=l[d],g=l[d+1],p=e.within(l[d],l[d+1],a),v=l[d+Vi],E=v;for(var b of p){var _=b*c;l[_+$s]>n&&(E+=l[_+Vi])}if(E>v&&E>=o){var T=f*v,k=g*v,P=void 0,R=-1,S=((d/c|0)<<5)+(n+1)+this.points.length;for(var x of p){var C=x*c;if(!(l[C+$s]<=n)){l[C+$s]=n;var L=l[C+Vi];T+=l[C]*L,k+=l[C+1]*L,l[C+Mf]=S,r&&(P||(P=this._map(l,d,!0),R=this.clusterProps.length,this.clusterProps.push(P)),r(P,this._map(l,C)))}}l[d+Mf]=S,u.push(T/E,k/E,1/0,S,-1,E),r&&u.push(R)}else{for(var M=0;M<c;M++)u.push(l[d+M]);if(E>1)for(var O of p){var I=O*c;if(!(l[I+$s]<=n)){l[I+$s]=n;for(var $=0;$<c;$++)u.push(l[I+$])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,i){if(e[n+Vi]>1){var s=this.clusterProps[e[n+E1]];return i?Object.assign({},s):s}var r=this.points[e[n+Bi]].properties,o=this.options.map(r);return i&&o===r?Object.assign({},o):o}}function kw(t,e,n){return{type:"Feature",id:t[e+Bi],properties:b1(t,e,n),geometry:{type:"Point",coordinates:[iV(t[e]),sV(t[e+1])]}}}function b1(t,e,n){var i=t[e+Vi],s=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,r=t[e+E1],o=r===-1?{}:Object.assign({},n[r]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Bi],point_count:i,point_count_abbreviated:s})}function Xu(t){return t/360+.5}function Zu(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function iV(t){return(t-.5)*360}function sV(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function rV(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}class cn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class tg{constructor(e){var{markers:n,position:i}=e;this.markers=n,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(cn.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>cn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(cn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class oV{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return aV(n)}}var aV=t=>{var e=t.map(n=>new tg({position:cn.getPosition(n),markers:[n]}));return e};class lV extends oV{constructor(e){var{maxZoom:n,radius:i=60}=e,s=rV(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new nV(Object.assign({maxZoom:this.maxZoom,radius:i},s))}calculate(e){var n=!1,i={zoom:e.map.getZoom()};if(!xw(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(r=>{var o=cn.getPosition(r),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:r}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(n=!xw(this.state,i)),this.state=i,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(i=>this.transformCluster(i))}transformCluster(e){var{geometry:{coordinates:[n,i]},properties:s}=e;if(s.cluster)return new tg({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:i,lng:n}});var r=s.marker;return new tg({markers:[r],position:cn.getPosition(r)})}}class uV{constructor(e,n){this.markers={sum:e.length};var i=n.map(r=>r.count),s=i.reduce((r,o)=>r+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...i),max:Math.max(...i)}}}}class cV{render(e,n,i){var{count:s,position:r}=e,o=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),l="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(cn.isAdvancedMarkerAvailable(i)){var c=new DOMParser,d=c.parseFromString(a,"image/svg+xml").documentElement;d.setAttribute("transform","translate(0 25)");var f={map:i,position:r,zIndex:u,title:l,content:d};return new google.maps.marker.AdvancedMarkerElement(f)}var g={position:r,zIndex:u,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function hV(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Bm{constructor(){hV(Bm,google.maps.OverlayView)}}var Xa;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Xa||(Xa={}));var dV=(t,e,n)=>{n.fitBounds(e.bounds)};class fV extends Bm{constructor(e){var{map:n,markers:i=[],algorithmOptions:s={},algorithm:r=new lV(s),renderer:o=new cV,onClusterClick:a=dV}=e;super(),this.markers=[...i],this.clusters=[],this.algorithm=r,this.renderer=o,this.onClusterClick=a,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(i=>{this.addMarker(i,!0)}),n||this.render()}removeMarker(e,n){var i=this.markers.indexOf(e);return i===-1?!1:(cn.setMap(e,null),this.markers.splice(i,1),n||this.render(),!0)}removeMarkers(e,n){var i=!1;return e.forEach(s=>{i=this.removeMarker(s,!0)||i}),i&&!n&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Xa.CLUSTERING_BEGIN,this);var{clusters:n,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){var s=new Set;for(var r of n)r.markers.length==1&&s.add(r.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?s.has(a.marker)||cn.setMap(a.marker,null):o.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(l=>cn.setMap(l,null)))}google.maps.event.trigger(this,Xa.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>cn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new uV(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,n),i.markers.forEach(s=>cn.setMap(s,null)),this.onClusterClick&&i.marker.addListener("click",s=>{google.maps.event.trigger(this,Xa.CLUSTER_CLICK,i),this.onClusterClick(s,i,n)})),cn.setMap(i.marker,n)})}}function Pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Lw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pV(t){var e=oN(),[n,i]=y.useState(null);return y.useEffect(()=>{if(e&&n===null){var s=new fV(Lw(Lw({},t),{},{map:e}));i(s)}},[e]),n}function gV(t){var{children:e,options:n}=t,i=pV(n);return i!==null?e(i):null}y.memo(gV);var Aw={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Iw={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function mV(t){var{children:e,anchor:n,options:i,position:s,zIndex:r,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:c,onLoad:d,onUnmount:f}=t,g=y.useContext(me),[p,v]=y.useState(null),[E,b]=y.useState(null),[_,T]=y.useState(null),[k,P]=y.useState(null),[R,S]=y.useState(null),[x,C]=y.useState(null),L=y.useRef(null);return y.useEffect(()=>{p!==null&&(p.close(),n?p.open(g,n):p.getPosition()&&p.open(g))},[g,p,n]),y.useEffect(()=>{i&&p!==null&&p.setOptions(i)},[p,i]),y.useEffect(()=>{s&&p!==null&&p.setPosition(s)},[s]),y.useEffect(()=>{typeof r=="number"&&p!==null&&p.setZIndex(r)},[r]),y.useEffect(()=>{p&&o&&(E!==null&&google.maps.event.removeListener(E),b(google.maps.event.addListener(p,"closeclick",o)))},[o]),y.useEffect(()=>{p&&a&&(_!==null&&google.maps.event.removeListener(_),T(google.maps.event.addListener(p,"domready",a)))},[a]),y.useEffect(()=>{p&&l&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(p,"content_changed",l)))},[l]),y.useEffect(()=>{p&&u&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(p,"position_changed",u)))},[u]),y.useEffect(()=>{p&&c&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(p,"zindex_changed",c)))},[c]),y.useEffect(()=>{var M=new google.maps.InfoWindow(i);return v(M),L.current=document.createElement("div"),o&&b(google.maps.event.addListener(M,"closeclick",o)),a&&T(google.maps.event.addListener(M,"domready",a)),l&&P(google.maps.event.addListener(M,"content_changed",l)),u&&S(google.maps.event.addListener(M,"position_changed",u)),c&&C(google.maps.event.addListener(M,"zindex_changed",c)),M.setContent(L.current),s&&M.setPosition(s),r&&M.setZIndex(r),n?M.open(g,n):M.getPosition()?M.open(g):vt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(M),()=>{E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),_&&google.maps.event.removeListener(_),R&&google.maps.event.removeListener(R),x&&google.maps.event.removeListener(x),f&&f(M),M.close()}},[]),L.current?_r.createPortal(y.Children.only(e),L.current):null}y.memo(mV);class vV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"containerElement",null),B(this,"state",{infoWindow:null}),B(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):vt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),B(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=xe({updaterMap:Iw,eventMap:Aw,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:Iw,eventMap:Aw,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ce(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?_r.createPortal(y.Children.only(this.props.children),this.containerElement):null}}B(vV,"contextType",me);function Mw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Rw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ow={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},yV={};function _V(t){var{options:e,draggable:n,editable:i,visible:s,path:r,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:d,onMouseOver:f,onMouseUp:g,onRightClick:p,onClick:v,onDrag:E,onLoad:b,onUnmount:_}=t,T=y.useContext(me),[k,P]=y.useState(null),[R,S]=y.useState(null),[x,C]=y.useState(null),[L,M]=y.useState(null),[O,I]=y.useState(null),[$,q]=y.useState(null),[X,J]=y.useState(null),[F,H]=y.useState(null),[G,ee]=y.useState(null),[Z,K]=y.useState(null),[oe,j]=y.useState(null),[ue,Se]=y.useState(null);return y.useEffect(()=>{k!==null&&k.setMap(T)},[T]),y.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),y.useEffect(()=>{typeof n<"u"&&k!==null&&k.setDraggable(n)},[k,n]),y.useEffect(()=>{typeof i<"u"&&k!==null&&k.setEditable(i)},[k,i]),y.useEffect(()=>{typeof s<"u"&&k!==null&&k.setVisible(s)},[k,s]),y.useEffect(()=>{typeof r<"u"&&k!==null&&k.setPath(r)},[k,r]),y.useEffect(()=>{k&&o&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(k,"dblclick",o)))},[o]),y.useEffect(()=>{k&&a&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(k,"dragend",a)))},[a]),y.useEffect(()=>{k&&l&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(k,"dragstart",l)))},[l]),y.useEffect(()=>{k&&u&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(k,"mousedown",u)))},[u]),y.useEffect(()=>{k&&c&&($!==null&&google.maps.event.removeListener($),q(google.maps.event.addListener(k,"mousemove",c)))},[c]),y.useEffect(()=>{k&&d&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(k,"mouseout",d)))},[d]),y.useEffect(()=>{k&&f&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(k,"mouseover",f)))},[f]),y.useEffect(()=>{k&&g&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(k,"mouseup",g)))},[g]),y.useEffect(()=>{k&&p&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(k,"rightclick",p)))},[p]),y.useEffect(()=>{k&&v&&(oe!==null&&google.maps.event.removeListener(oe),j(google.maps.event.addListener(k,"click",v)))},[v]),y.useEffect(()=>{k&&E&&(ue!==null&&google.maps.event.removeListener(ue),Se(google.maps.event.addListener(k,"drag",E)))},[E]),y.useEffect(()=>{var ge=new google.maps.Polyline(mh(mh({},e||yV),{},{map:T}));return r&&ge.setPath(r),typeof s<"u"&&ge.setVisible(s),typeof i<"u"&&ge.setEditable(i),typeof n<"u"&&ge.setDraggable(n),o&&S(google.maps.event.addListener(ge,"dblclick",o)),a&&C(google.maps.event.addListener(ge,"dragend",a)),l&&M(google.maps.event.addListener(ge,"dragstart",l)),u&&I(google.maps.event.addListener(ge,"mousedown",u)),c&&q(google.maps.event.addListener(ge,"mousemove",c)),d&&J(google.maps.event.addListener(ge,"mouseout",d)),f&&H(google.maps.event.addListener(ge,"mouseover",f)),g&&ee(google.maps.event.addListener(ge,"mouseup",g)),p&&K(google.maps.event.addListener(ge,"rightclick",p)),v&&j(google.maps.event.addListener(ge,"click",v)),E&&Se(google.maps.event.addListener(ge,"drag",E)),P(ge),b&&b(ge),()=>{R!==null&&google.maps.event.removeListener(R),x!==null&&google.maps.event.removeListener(x),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),oe!==null&&google.maps.event.removeListener(oe),_&&_(ge),ge.setMap(null)}},[]),null}y.memo(_V);class wV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{polyline:null}),B(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(mh(mh({},this.props.options),{},{map:this.context}));this.registeredEvents=xe({updaterMap:Ow,eventMap:Rw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:Ow,eventMap:Rw,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ce(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}B(wV,"contextType",me);function Dw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Vw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Fw={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function EV(t){var{options:e,draggable:n,editable:i,visible:s,path:r,paths:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:c,onMouseMove:d,onMouseOut:f,onMouseOver:g,onMouseUp:p,onRightClick:v,onClick:E,onDrag:b,onLoad:_,onUnmount:T,onEdit:k}=t,P=y.useContext(me),[R,S]=y.useState(null),[x,C]=y.useState(null),[L,M]=y.useState(null),[O,I]=y.useState(null),[$,q]=y.useState(null),[X,J]=y.useState(null),[F,H]=y.useState(null),[G,ee]=y.useState(null),[Z,K]=y.useState(null),[oe,j]=y.useState(null),[ue,Se]=y.useState(null),[ge,Ze]=y.useState(null);return y.useEffect(()=>{R!==null&&R.setMap(P)},[P]),y.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),y.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),y.useEffect(()=>{typeof i<"u"&&R!==null&&R.setEditable(i)},[R,i]),y.useEffect(()=>{typeof s<"u"&&R!==null&&R.setVisible(s)},[R,s]),y.useEffect(()=>{typeof r<"u"&&R!==null&&R.setPath(r)},[R,r]),y.useEffect(()=>{typeof o<"u"&&R!==null&&R.setPaths(o)},[R,o]),y.useEffect(()=>{R&&typeof a=="function"&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(R,"dblclick",a)))},[a]),y.useEffect(()=>{R&&(google.maps.event.addListener(R.getPath(),"insert_at",()=>{k==null||k(R)}),google.maps.event.addListener(R.getPath(),"set_at",()=>{k==null||k(R)}),google.maps.event.addListener(R.getPath(),"remove_at",()=>{k==null||k(R)}))},[R,k]),y.useEffect(()=>{R&&typeof l=="function"&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(R,"dragend",l)))},[l]),y.useEffect(()=>{R&&typeof u=="function"&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(R,"dragstart",u)))},[u]),y.useEffect(()=>{R&&typeof c=="function"&&($!==null&&google.maps.event.removeListener($),q(google.maps.event.addListener(R,"mousedown",c)))},[c]),y.useEffect(()=>{R&&typeof d=="function"&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(R,"mousemove",d)))},[d]),y.useEffect(()=>{R&&typeof f=="function"&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(R,"mouseout",f)))},[f]),y.useEffect(()=>{R&&typeof g=="function"&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(R,"mouseover",g)))},[g]),y.useEffect(()=>{R&&typeof p=="function"&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(R,"mouseup",p)))},[p]),y.useEffect(()=>{R&&typeof v=="function"&&(oe!==null&&google.maps.event.removeListener(oe),j(google.maps.event.addListener(R,"rightclick",v)))},[v]),y.useEffect(()=>{R&&typeof E=="function"&&(ue!==null&&google.maps.event.removeListener(ue),Se(google.maps.event.addListener(R,"click",E)))},[E]),y.useEffect(()=>{R&&typeof b=="function"&&(ge!==null&&google.maps.event.removeListener(ge),Ze(google.maps.event.addListener(R,"drag",b)))},[b]),y.useEffect(()=>{var ae=new google.maps.Polygon(Nw(Nw({},e),{},{map:P}));return r&&ae.setPath(r),o&&ae.setPaths(o),typeof s<"u"&&ae.setVisible(s),typeof i<"u"&&ae.setEditable(i),typeof n<"u"&&ae.setDraggable(n),a&&C(google.maps.event.addListener(ae,"dblclick",a)),l&&M(google.maps.event.addListener(ae,"dragend",l)),u&&I(google.maps.event.addListener(ae,"dragstart",u)),c&&q(google.maps.event.addListener(ae,"mousedown",c)),d&&J(google.maps.event.addListener(ae,"mousemove",d)),f&&H(google.maps.event.addListener(ae,"mouseout",f)),g&&ee(google.maps.event.addListener(ae,"mouseover",g)),p&&K(google.maps.event.addListener(ae,"mouseup",p)),v&&j(google.maps.event.addListener(ae,"rightclick",v)),E&&Se(google.maps.event.addListener(ae,"click",E)),b&&Ze(google.maps.event.addListener(ae,"drag",b)),S(ae),_&&_(ae),()=>{x!==null&&google.maps.event.removeListener(x),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),T&&T(ae),ae.setMap(null)}},[]),null}y.memo(EV);class bV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=xe({updaterMap:Fw,eventMap:Vw,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:Fw,eventMap:Vw,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ce(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}B(bV,"contextType",me);function jw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Bw={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},zw={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function xV(t){var{options:e,bounds:n,draggable:i,editable:s,visible:r,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:d,onMouseOver:f,onMouseUp:g,onRightClick:p,onClick:v,onDrag:E,onBoundsChanged:b,onLoad:_,onUnmount:T}=t,k=y.useContext(me),[P,R]=y.useState(null),[S,x]=y.useState(null),[C,L]=y.useState(null),[M,O]=y.useState(null),[I,$]=y.useState(null),[q,X]=y.useState(null),[J,F]=y.useState(null),[H,G]=y.useState(null),[ee,Z]=y.useState(null),[K,oe]=y.useState(null),[j,ue]=y.useState(null),[Se,ge]=y.useState(null),[Ze,ae]=y.useState(null);return y.useEffect(()=>{P!==null&&P.setMap(k)},[k]),y.useEffect(()=>{typeof e<"u"&&P!==null&&P.setOptions(e)},[P,e]),y.useEffect(()=>{typeof i<"u"&&P!==null&&P.setDraggable(i)},[P,i]),y.useEffect(()=>{typeof s<"u"&&P!==null&&P.setEditable(s)},[P,s]),y.useEffect(()=>{typeof r<"u"&&P!==null&&P.setVisible(r)},[P,r]),y.useEffect(()=>{typeof n<"u"&&P!==null&&P.setBounds(n)},[P,n]),y.useEffect(()=>{P&&o&&(S!==null&&google.maps.event.removeListener(S),x(google.maps.event.addListener(P,"dblclick",o)))},[o]),y.useEffect(()=>{P&&a&&(C!==null&&google.maps.event.removeListener(C),L(google.maps.event.addListener(P,"dragend",a)))},[a]),y.useEffect(()=>{P&&l&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(P,"dragstart",l)))},[l]),y.useEffect(()=>{P&&u&&(I!==null&&google.maps.event.removeListener(I),$(google.maps.event.addListener(P,"mousedown",u)))},[u]),y.useEffect(()=>{P&&c&&(q!==null&&google.maps.event.removeListener(q),X(google.maps.event.addListener(P,"mousemove",c)))},[c]),y.useEffect(()=>{P&&d&&(J!==null&&google.maps.event.removeListener(J),F(google.maps.event.addListener(P,"mouseout",d)))},[d]),y.useEffect(()=>{P&&f&&(H!==null&&google.maps.event.removeListener(H),G(google.maps.event.addListener(P,"mouseover",f)))},[f]),y.useEffect(()=>{P&&g&&(ee!==null&&google.maps.event.removeListener(ee),Z(google.maps.event.addListener(P,"mouseup",g)))},[g]),y.useEffect(()=>{P&&p&&(K!==null&&google.maps.event.removeListener(K),oe(google.maps.event.addListener(P,"rightclick",p)))},[p]),y.useEffect(()=>{P&&v&&(j!==null&&google.maps.event.removeListener(j),ue(google.maps.event.addListener(P,"click",v)))},[v]),y.useEffect(()=>{P&&E&&(Se!==null&&google.maps.event.removeListener(Se),ge(google.maps.event.addListener(P,"drag",E)))},[E]),y.useEffect(()=>{P&&b&&(Ze!==null&&google.maps.event.removeListener(Ze),ae(google.maps.event.addListener(P,"bounds_changed",b)))},[b]),y.useEffect(()=>{var ye=new google.maps.Rectangle(vh(vh({},e),{},{map:k}));return typeof r<"u"&&ye.setVisible(r),typeof s<"u"&&ye.setEditable(s),typeof i<"u"&&ye.setDraggable(i),typeof n<"u"&&ye.setBounds(n),o&&x(google.maps.event.addListener(ye,"dblclick",o)),a&&L(google.maps.event.addListener(ye,"dragend",a)),l&&O(google.maps.event.addListener(ye,"dragstart",l)),u&&$(google.maps.event.addListener(ye,"mousedown",u)),c&&X(google.maps.event.addListener(ye,"mousemove",c)),d&&F(google.maps.event.addListener(ye,"mouseout",d)),f&&G(google.maps.event.addListener(ye,"mouseover",f)),g&&Z(google.maps.event.addListener(ye,"mouseup",g)),p&&oe(google.maps.event.addListener(ye,"rightclick",p)),v&&ue(google.maps.event.addListener(ye,"click",v)),E&&ge(google.maps.event.addListener(ye,"drag",E)),b&&ae(google.maps.event.addListener(ye,"bounds_changed",b)),R(ye),_&&_(ye),()=>{S!==null&&google.maps.event.removeListener(S),C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),K!==null&&google.maps.event.removeListener(K),j!==null&&google.maps.event.removeListener(j),Se!==null&&google.maps.event.removeListener(Se),Ze!==null&&google.maps.event.removeListener(Ze),T&&T(ye),ye.setMap(null)}},[]),null}y.memo(xV);class SV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{rectangle:null}),B(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(vh(vh({},this.props.options),{},{map:this.context}));this.registeredEvents=xe({updaterMap:zw,eventMap:Bw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:zw,eventMap:Bw,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ce(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}B(SV,"contextType",me);function Uw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var $w={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Hw={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},CV={};function TV(t){var{options:e,center:n,radius:i,draggable:s,editable:r,visible:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:c,onMouseMove:d,onMouseOut:f,onMouseOver:g,onMouseUp:p,onRightClick:v,onClick:E,onDrag:b,onCenterChanged:_,onRadiusChanged:T,onLoad:k,onUnmount:P}=t,R=y.useContext(me),[S,x]=y.useState(null),[C,L]=y.useState(null),[M,O]=y.useState(null),[I,$]=y.useState(null),[q,X]=y.useState(null),[J,F]=y.useState(null),[H,G]=y.useState(null),[ee,Z]=y.useState(null),[K,oe]=y.useState(null),[j,ue]=y.useState(null),[Se,ge]=y.useState(null),[Ze,ae]=y.useState(null),[ye,Ht]=y.useState(null),[on,ni]=y.useState(null);return y.useEffect(()=>{S!==null&&S.setMap(R)},[R]),y.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),y.useEffect(()=>{typeof s<"u"&&S!==null&&S.setDraggable(s)},[S,s]),y.useEffect(()=>{typeof r<"u"&&S!==null&&S.setEditable(r)},[S,r]),y.useEffect(()=>{typeof o<"u"&&S!==null&&S.setVisible(o)},[S,o]),y.useEffect(()=>{typeof i=="number"&&S!==null&&S.setRadius(i)},[S,i]),y.useEffect(()=>{typeof n<"u"&&S!==null&&S.setCenter(n)},[S,n]),y.useEffect(()=>{S&&a&&(C!==null&&google.maps.event.removeListener(C),L(google.maps.event.addListener(S,"dblclick",a)))},[a]),y.useEffect(()=>{S&&l&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(S,"dragend",l)))},[l]),y.useEffect(()=>{S&&u&&(I!==null&&google.maps.event.removeListener(I),$(google.maps.event.addListener(S,"dragstart",u)))},[u]),y.useEffect(()=>{S&&c&&(q!==null&&google.maps.event.removeListener(q),X(google.maps.event.addListener(S,"mousedown",c)))},[c]),y.useEffect(()=>{S&&d&&(J!==null&&google.maps.event.removeListener(J),F(google.maps.event.addListener(S,"mousemove",d)))},[d]),y.useEffect(()=>{S&&f&&(H!==null&&google.maps.event.removeListener(H),G(google.maps.event.addListener(S,"mouseout",f)))},[f]),y.useEffect(()=>{S&&g&&(ee!==null&&google.maps.event.removeListener(ee),Z(google.maps.event.addListener(S,"mouseover",g)))},[g]),y.useEffect(()=>{S&&p&&(K!==null&&google.maps.event.removeListener(K),oe(google.maps.event.addListener(S,"mouseup",p)))},[p]),y.useEffect(()=>{S&&v&&(j!==null&&google.maps.event.removeListener(j),ue(google.maps.event.addListener(S,"rightclick",v)))},[v]),y.useEffect(()=>{S&&E&&(Se!==null&&google.maps.event.removeListener(Se),ge(google.maps.event.addListener(S,"click",E)))},[E]),y.useEffect(()=>{S&&b&&(Ze!==null&&google.maps.event.removeListener(Ze),ae(google.maps.event.addListener(S,"drag",b)))},[b]),y.useEffect(()=>{S&&_&&(ye!==null&&google.maps.event.removeListener(ye),Ht(google.maps.event.addListener(S,"center_changed",_)))},[E]),y.useEffect(()=>{S&&T&&(on!==null&&google.maps.event.removeListener(on),ni(google.maps.event.addListener(S,"radius_changed",T)))},[T]),y.useEffect(()=>{var Le=new google.maps.Circle(yh(yh({},e||CV),{},{map:R}));return typeof i=="number"&&Le.setRadius(i),typeof n<"u"&&Le.setCenter(n),typeof i=="number"&&Le.setRadius(i),typeof o<"u"&&Le.setVisible(o),typeof r<"u"&&Le.setEditable(r),typeof s<"u"&&Le.setDraggable(s),a&&L(google.maps.event.addListener(Le,"dblclick",a)),l&&O(google.maps.event.addListener(Le,"dragend",l)),u&&$(google.maps.event.addListener(Le,"dragstart",u)),c&&X(google.maps.event.addListener(Le,"mousedown",c)),d&&F(google.maps.event.addListener(Le,"mousemove",d)),f&&G(google.maps.event.addListener(Le,"mouseout",f)),g&&Z(google.maps.event.addListener(Le,"mouseover",g)),p&&oe(google.maps.event.addListener(Le,"mouseup",p)),v&&ue(google.maps.event.addListener(Le,"rightclick",v)),E&&ge(google.maps.event.addListener(Le,"click",E)),b&&ae(google.maps.event.addListener(Le,"drag",b)),_&&Ht(google.maps.event.addListener(Le,"center_changed",_)),T&&ni(google.maps.event.addListener(Le,"radius_changed",T)),x(Le),k&&k(Le),()=>{C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),H!==null&&google.maps.event.removeListener(H),ee!==null&&google.maps.event.removeListener(ee),K!==null&&google.maps.event.removeListener(K),j!==null&&google.maps.event.removeListener(j),Se!==null&&google.maps.event.removeListener(Se),ye!==null&&google.maps.event.removeListener(ye),on!==null&&google.maps.event.removeListener(on),P&&P(Le),Le.setMap(null)}},[]),null}y.memo(TV);class kV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{circle:null}),B(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(yh(yh({},this.props.options),{},{map:this.context}));this.registeredEvents=xe({updaterMap:Hw,eventMap:$w,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:Hw,eventMap:$w,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ce(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}B(kV,"contextType",me);function Ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function _h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ww(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var qw={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Gw={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,i){t.loadGeoJson(e,n,i)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function PV(t){var{options:e,onClick:n,onDblClick:i,onMouseDown:s,onMouseMove:r,onMouseOut:o,onMouseOver:a,onMouseUp:l,onRightClick:u,onAddFeature:c,onRemoveFeature:d,onRemoveProperty:f,onSetGeometry:g,onSetProperty:p,onLoad:v,onUnmount:E}=t,b=y.useContext(me),[_,T]=y.useState(null),[k,P]=y.useState(null),[R,S]=y.useState(null),[x,C]=y.useState(null),[L,M]=y.useState(null),[O,I]=y.useState(null),[$,q]=y.useState(null),[X,J]=y.useState(null),[F,H]=y.useState(null),[G,ee]=y.useState(null),[Z,K]=y.useState(null),[oe,j]=y.useState(null),[ue,Se]=y.useState(null),[ge,Ze]=y.useState(null);return y.useEffect(()=>{_!==null&&_.setMap(b)},[b]),y.useEffect(()=>{_&&i&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(_,"dblclick",i)))},[i]),y.useEffect(()=>{_&&s&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(_,"mousedown",s)))},[s]),y.useEffect(()=>{_&&r&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(_,"mousemove",r)))},[r]),y.useEffect(()=>{_&&o&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(_,"mouseout",o)))},[o]),y.useEffect(()=>{_&&a&&(O!==null&&google.maps.event.removeListener(O),I(google.maps.event.addListener(_,"mouseover",a)))},[a]),y.useEffect(()=>{_&&l&&($!==null&&google.maps.event.removeListener($),q(google.maps.event.addListener(_,"mouseup",l)))},[l]),y.useEffect(()=>{_&&u&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(_,"rightclick",u)))},[u]),y.useEffect(()=>{_&&n&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(_,"click",n)))},[n]),y.useEffect(()=>{_&&c&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(_,"addfeature",c)))},[c]),y.useEffect(()=>{_&&d&&(Z!==null&&google.maps.event.removeListener(Z),K(google.maps.event.addListener(_,"removefeature",d)))},[d]),y.useEffect(()=>{_&&f&&(oe!==null&&google.maps.event.removeListener(oe),j(google.maps.event.addListener(_,"removeproperty",f)))},[f]),y.useEffect(()=>{_&&g&&(ue!==null&&google.maps.event.removeListener(ue),Se(google.maps.event.addListener(_,"setgeometry",g)))},[g]),y.useEffect(()=>{_&&p&&(ge!==null&&google.maps.event.removeListener(ge),Ze(google.maps.event.addListener(_,"setproperty",p)))},[p]),y.useEffect(()=>{if(b!==null){var ae=new google.maps.Data(_h(_h({},e),{},{map:b}));i&&P(google.maps.event.addListener(ae,"dblclick",i)),s&&S(google.maps.event.addListener(ae,"mousedown",s)),r&&C(google.maps.event.addListener(ae,"mousemove",r)),o&&M(google.maps.event.addListener(ae,"mouseout",o)),a&&I(google.maps.event.addListener(ae,"mouseover",a)),l&&q(google.maps.event.addListener(ae,"mouseup",l)),u&&J(google.maps.event.addListener(ae,"rightclick",u)),n&&H(google.maps.event.addListener(ae,"click",n)),c&&ee(google.maps.event.addListener(ae,"addfeature",c)),d&&K(google.maps.event.addListener(ae,"removefeature",d)),f&&j(google.maps.event.addListener(ae,"removeproperty",f)),g&&Se(google.maps.event.addListener(ae,"setgeometry",g)),p&&Ze(google.maps.event.addListener(ae,"setproperty",p)),T(ae),v&&v(ae)}return()=>{_&&(k!==null&&google.maps.event.removeListener(k),R!==null&&google.maps.event.removeListener(R),x!==null&&google.maps.event.removeListener(x),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),G!==null&&google.maps.event.removeListener(G),Z!==null&&google.maps.event.removeListener(Z),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),ge!==null&&google.maps.event.removeListener(ge),E&&E(_),_.setMap(null))}},[]),null}y.memo(PV);class LV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{data:null}),B(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(_h(_h({},this.props.options),{},{map:this.context}));this.registeredEvents=xe({updaterMap:Gw,eventMap:qw,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:Gw,eventMap:qw,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ce(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}B(LV,"contextType",me);function Kw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Qw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Yw={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Xw={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class AV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{kmlLayer:null}),B(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Qw(Qw({},this.props.options),{},{map:this.context}));this.registeredEvents=xe({updaterMap:Xw,eventMap:Yw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:Xw,eventMap:Yw,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ce(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}B(AV,"contextType",me);function x1(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function IV(t,e){return new e(t.lat,t.lng)}function MV(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function RV(t,e,n){return t instanceof e?t:n(t,e)}function OV(t,e,n){return t instanceof e?t:n(t,e)}function DV(t,e,n){var i=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return i&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-s.x-e.x,"px"),height:"".concat(s.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function NV(t,e,n){var i=t&&t.fromLatLngToDivPixel(n);if(i){var{x:s,y:r}=i;return{left:"".concat(s+e.x,"px"),top:"".concat(r+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function S1(t,e,n,i){return n!==void 0?DV(t,e,OV(n,google.maps.LatLngBounds,MV)):NV(t,e,RV(i,google.maps.LatLng,IV))}function VV(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function Zw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function FV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jV(t,e,n,i,s){class r extends google.maps.OverlayView{constructor(a,l,u,c){super(),this.container=a,this.pane=l,this.position=u,this.bounds=c}onAdd(){var a,l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){var a=this.getProjection(),l=FV({},this.container?x1(this.container,s):{x:0,y:0}),u=S1(a,l,this.bounds,this.position);for(var[c,d]of Object.entries(u))this.container.style[c]=d}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new r(t,e,n,i)}function Jw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function BV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jw(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eE(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function tE(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function zV(t){var{position:e,bounds:n,mapPaneName:i,zIndex:s,onLoad:r,onUnmount:o,getPixelPositionOffset:a,children:l}=t,u=y.useContext(me),c=y.useMemo(()=>{var f=document.createElement("div");return f.style.position="absolute",f},[]),d=y.useMemo(()=>jV(c,i,e,n,a),[c,i,e,n]);return y.useEffect(()=>(r==null||r(d),d==null||d.setMap(u),()=>{o==null||o(d),d==null||d.setMap(null)}),[u,d]),y.useEffect(()=>{c.style.zIndex="".concat(s)},[s,c]),_r.createPortal(l,c)}y.memo(zV);class Fo extends y.PureComponent{constructor(e){super(e),B(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),B(this,"updatePane",()=>{var i=this.props.mapPaneName,s=this.overlayView.getPanes();vt(!!i,"OverlayView requires props.mapPaneName but got %s",i),s?this.setState({paneEl:s[i]}):this.setState({paneEl:null})}),B(this,"onAdd",()=>{var i,s;this.updatePane(),(i=(s=this.props).onLoad)===null||i===void 0||i.call(s,this.overlayView)}),B(this,"onPositionElement",()=>{var i=this.overlayView.getProjection(),s=BV({x:0,y:0},this.containerRef.current?x1(this.containerRef.current,this.props.getPixelPositionOffset):{}),r=S1(i,s,this.props.bounds,this.props.position);if(!VV(r,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,l,u;this.setState({containerStyle:{top:(o=r.top)!==null&&o!==void 0?o:0,left:(a=r.left)!==null&&a!==void 0?a:0,width:(l=r.width)!==null&&l!==void 0?l:0,height:(u=r.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),B(this,"draw",()=>{this.onPositionElement()}),B(this,"onRemove",()=>{var i,s;this.setState(()=>({paneEl:null})),(i=(s=this.props).onUnmount)===null||i===void 0||i.call(s,this.overlayView)}),this.containerRef=y.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=eE(e.position),i=eE(this.props.position),s=tE(e.bounds),r=tE(this.props.bounds);(n!==i||s!==r)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?_r.createPortal(se.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}B(Fo,"FLOAT_PANE","floatPane");B(Fo,"MAP_PANE","mapPane");B(Fo,"MARKER_LAYER","markerLayer");B(Fo,"OVERLAY_LAYER","overlayLayer");B(Fo,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");B(Fo,"contextType",me);function UV(){}function nE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function iE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var sE={onDblClick:"dblclick",onClick:"click"},rE={opacity(t,e){t.setOpacity(e)}};function $V(t){var{url:e,bounds:n,options:i,visible:s}=t,r=y.useContext(me),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=y.useMemo(()=>new google.maps.GroundOverlay(e,o,i),[]);return y.useEffect(()=>{a!==null&&a.setMap(r)},[r]),y.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(r))},[a,e]),y.useEffect(()=>{typeof s<"u"&&a!==null&&a.setOpacity(s?1:0)},[a,s]),y.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(r))},[a,n]),null}y.memo($V);class C1 extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{groundOverlay:null}),B(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){vt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,iE(iE({},this.props.options),{},{map:this.context}));this.registeredEvents=xe({updaterMap:rE,eventMap:sE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:rE,eventMap:sE,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}B(C1,"defaultProps",{onLoad:UV});B(C1,"contextType",me);function oE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function wh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(n),!0).forEach(function(i){B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var aE={},lE={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function HV(t){var{data:e,onLoad:n,onUnmount:i,options:s}=t,r=y.useContext(me),[o,a]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||vt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{vt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{o!==null&&o.setMap(r)},[r]),y.useEffect(()=>{s&&o!==null&&o.setOptions(s)},[o,s]),y.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(wh(wh({},s),{},{data:e,map:r}));return a(l),n&&n(l),()=>{o!==null&&(i&&i(o),o.setMap(null))}},[]),null}y.memo(HV);class WV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{heatmapLayer:null}),B(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){vt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),vt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(wh(wh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=xe({updaterMap:lE,eventMap:aE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:lE,eventMap:aE,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ce(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}B(WV,"contextType",me);var uE={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},cE={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class qV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{streetViewPanorama:null}),B(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,i=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=xe({updaterMap:cE,eventMap:uE,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({streetViewPanorama:i}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:cE,eventMap:uE,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ce(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}B(qV,"contextType",me);class GV extends y.PureComponent{constructor(){super(...arguments),B(this,"state",{streetViewService:null}),B(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}B(GV,"contextType",me);var hE={onDirectionsChanged:"directions_changed"},dE={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class KV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"state",{directionsRenderer:null}),B(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=xe({updaterMap:dE,eventMap:hE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:dE,eventMap:hE,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ce(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}B(KV,"contextType",me);var fE={onPlacesChanged:"places_changed"},pE={bounds(t,e){t.setBounds(e)}};class QV extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"containerElement",y.createRef()),B(this,"state",{searchBox:null}),B(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(vt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=xe({updaterMap:pE,eventMap:fE,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:pE,eventMap:fE,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ce(this.registeredEvents))}render(){return se.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}B(QV,"contextType",me);var gE={onPlaceChanged:"place_changed"},mE={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class T1 extends y.PureComponent{constructor(){super(...arguments),B(this,"registeredEvents",[]),B(this,"containerElement",y.createRef()),B(this,"state",{autocomplete:null}),B(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;vt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var i=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=xe({updaterMap:mE,eventMap:gE,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({autocomplete:i}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ce(this.registeredEvents),this.registeredEvents=xe({updaterMap:mE,eventMap:gE,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ce(this.registeredEvents)}render(){return se.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}B(T1,"defaultProps",{className:""});B(T1,"contextType",me);const YV=()=>{};var vE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},XV=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),i.push(n[c],n[d],n[f],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||u==null||d==null)throw new ZV;const f=r<<2|a>>4;if(i.push(f),u!==64){const g=a<<4&240|u>>2;if(i.push(g),d!==64){const p=u<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JV=function(t){const e=k1(t);return P1.encodeByteArray(e,!0)},Eh=function(t){return JV(t).replace(/\./g,"")},eF=function(t){try{return P1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=()=>tF().__FIREBASE_DEFAULTS__,iF=()=>{if(typeof process>"u"||typeof vE>"u")return;const t=vE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eF(t[1]);return e&&JSON.parse(e)},zm=()=>{try{return YV()||nF()||iF()||sF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rF=t=>{var e,n;return(n=(e=zm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oF=t=>{const e=rF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},L1=()=>{var t;return(t=zm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lF(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(o)),""].join(".")}const Za={};function cF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Za))Za[e]?t.emulator.push(e):t.prod.push(e);return t}function hF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yE=!1;function dF(t,e){if(typeof window>"u"||typeof document>"u"||!Um(window.location.host)||Za[t]===e||Za[t]||yE)return;Za[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",r=cF().prod.length>0;function o(){const f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{yE=!0,o()},f}function c(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=hF(i),g=n("text"),p=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),_=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),c(E,v);const k=u();l(_,b),T.append(_,p,E,k),document.body.appendChild(T)}r?(p.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pF(){var t;const e=(t=zm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gF(){return!pF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mF(){try{return typeof indexedDB=="object"}catch{return!1}}function vF(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="FirebaseError";class jo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=yF,Object.setPrototypeOf(this,jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A1.prototype.create)}}class A1{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?_F(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new jo(s,a,i)}}function _F(t,e){return t.replace(wF,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const wF=/\{\$([^}]+)}/g;function bh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(_E(r)&&_E(o)){if(!bh(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function _E(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){return t&&t._delegate?t._delegate:t}class Al{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new aF;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xF(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bF(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bF(t){return t===Ks?void 0:t}function xF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const CF={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},TF=ke.INFO,kF={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},PF=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=kF[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I1{constructor(e){this.name=e,this._logLevel=TF,this._logHandler=PF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const LF=(t,e)=>e.some(n=>t instanceof n);let wE,EE;function AF(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IF(){return EE||(EE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M1=new WeakMap,ng=new WeakMap,R1=new WeakMap,Rf=new WeakMap,$m=new WeakMap;function MF(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(as(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&M1.set(n,t)}).catch(()=>{}),$m.set(e,t),e}function RF(t){if(ng.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});ng.set(t,e)}let ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ng.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OF(t){ig=t(ig)}function DF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Of(this),e,...n);return R1.set(i,e.sort?e.sort():[e]),as(i)}:IF().includes(t)?function(...e){return t.apply(Of(this),e),as(M1.get(this))}:function(...e){return as(t.apply(Of(this),e))}}function NF(t){return typeof t=="function"?DF(t):(t instanceof IDBTransaction&&RF(t),LF(t,AF())?new Proxy(t,ig):t)}function as(t){if(t instanceof IDBRequest)return MF(t);if(Rf.has(t))return Rf.get(t);const e=NF(t);return e!==t&&(Rf.set(t,e),$m.set(e,t)),e}const Of=t=>$m.get(t);function VF(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=as(o);return i&&o.addEventListener("upgradeneeded",l=>{i(as(o.result),l.oldVersion,l.newVersion,as(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const FF=["get","getKey","getAll","getAllKeys","count"],jF=["put","add","delete","clear"],Df=new Map;function bE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=jF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||FF.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Df.set(e,r),r}OF(t=>({...t,get:(e,n,i)=>bE(e,n)||t.get(e,n,i),has:(e,n)=>!!bE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zF(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sg="@firebase/app",xE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new I1("@firebase/app"),UF="@firebase/app-compat",$F="@firebase/analytics-compat",HF="@firebase/analytics",WF="@firebase/app-check-compat",qF="@firebase/app-check",GF="@firebase/auth",KF="@firebase/auth-compat",QF="@firebase/database",YF="@firebase/data-connect",XF="@firebase/database-compat",ZF="@firebase/functions",JF="@firebase/functions-compat",e4="@firebase/installations",t4="@firebase/installations-compat",n4="@firebase/messaging",i4="@firebase/messaging-compat",s4="@firebase/performance",r4="@firebase/performance-compat",o4="@firebase/remote-config",a4="@firebase/remote-config-compat",l4="@firebase/storage",u4="@firebase/storage-compat",c4="@firebase/firestore",h4="@firebase/ai",d4="@firebase/firestore-compat",f4="firebase",p4="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",g4={[sg]:"fire-core",[UF]:"fire-core-compat",[HF]:"fire-analytics",[$F]:"fire-analytics-compat",[qF]:"fire-app-check",[WF]:"fire-app-check-compat",[GF]:"fire-auth",[KF]:"fire-auth-compat",[QF]:"fire-rtdb",[YF]:"fire-data-connect",[XF]:"fire-rtdb-compat",[ZF]:"fire-fn",[JF]:"fire-fn-compat",[e4]:"fire-iid",[t4]:"fire-iid-compat",[n4]:"fire-fcm",[i4]:"fire-fcm-compat",[s4]:"fire-perf",[r4]:"fire-perf-compat",[o4]:"fire-rc",[a4]:"fire-rc-compat",[l4]:"fire-gcs",[u4]:"fire-gcs-compat",[c4]:"fire-fst",[d4]:"fire-fst-compat",[h4]:"fire-vertex","fire-js":"fire-js",[f4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,m4=new Map,og=new Map;function SE(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sh(t){const e=t.name;if(og.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,t);for(const n of xh.values())SE(n,t);for(const n of m4.values())SE(n,t);return!0}function v4(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function y4(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new A1("app","Firebase",_4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Al("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=p4;function O1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:rg,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(n||(n=L1()),!n)throw ls.create("no-options");const r=xh.get(s);if(r){if(bh(n,r.options)&&bh(i,r.config))return r;throw ls.create("duplicate-app",{appName:s})}const o=new SF(s);for(const l of og.values())o.addComponent(l);const a=new w4(n,i,o);return xh.set(s,a),a}function b4(t=rg){const e=xh.get(t);if(!e&&t===rg&&L1())return O1();if(!e)throw ls.create("no-app",{appName:t});return e}function ho(t,e,n){var i;let s=(i=g4[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}Sh(new Al(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="firebase-heartbeat-database",S4=1,Il="firebase-heartbeat-store";let Nf=null;function D1(){return Nf||(Nf=VF(x4,S4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),Nf}async function C4(t){try{const n=(await D1()).transaction(Il),i=await n.objectStore(Il).get(N1(t));return await n.done,i}catch(e){if(e instanceof jo)bi.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function CE(t,e){try{const i=(await D1()).transaction(Il,"readwrite");await i.objectStore(Il).put(e,N1(t)),await i.done}catch(n){if(n instanceof jo)bi.warn(n.message);else{const i=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(i.message)}}}function N1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=1024,k4=30;class P4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=TE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>k4){const o=I4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TE(),{heartbeatsToSend:i,unsentEntries:s}=L4(this._heartbeatsCache.heartbeats),r=Eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return bi.warn(n),""}}}function TE(){return new Date().toISOString().substring(0,10)}function L4(t,e=T4){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),kE(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class A4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mF()?vF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kE(t){return Eh(JSON.stringify({version:2,heartbeats:t})).length}function I4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){Sh(new Al("platform-logger",e=>new BF(e),"PRIVATE")),Sh(new Al("heartbeat",e=>new P4(e),"PRIVATE")),ho(sg,xE,t),ho(sg,xE,"esm2017"),ho("fire-js","")}M4("");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,V1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function C(){}C.prototype=x.prototype,S.D=x.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(L,M,O){for(var I=Array(arguments.length-2),$=2;$<arguments.length;$++)I[$-2]=arguments[$];return x.prototype[M].apply(L,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,x,C){C||(C=0);var L=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)L[M]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(M=0;16>M;++M)L[M]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=S.g[0],C=S.g[1],M=S.g[2];var O=S.g[3],I=x+(O^C&(M^O))+L[0]+3614090360&4294967295;x=C+(I<<7&4294967295|I>>>25),I=O+(M^x&(C^M))+L[1]+3905402710&4294967295,O=x+(I<<12&4294967295|I>>>20),I=M+(C^O&(x^C))+L[2]+606105819&4294967295,M=O+(I<<17&4294967295|I>>>15),I=C+(x^M&(O^x))+L[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=x+(O^C&(M^O))+L[4]+4118548399&4294967295,x=C+(I<<7&4294967295|I>>>25),I=O+(M^x&(C^M))+L[5]+1200080426&4294967295,O=x+(I<<12&4294967295|I>>>20),I=M+(C^O&(x^C))+L[6]+2821735955&4294967295,M=O+(I<<17&4294967295|I>>>15),I=C+(x^M&(O^x))+L[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=x+(O^C&(M^O))+L[8]+1770035416&4294967295,x=C+(I<<7&4294967295|I>>>25),I=O+(M^x&(C^M))+L[9]+2336552879&4294967295,O=x+(I<<12&4294967295|I>>>20),I=M+(C^O&(x^C))+L[10]+4294925233&4294967295,M=O+(I<<17&4294967295|I>>>15),I=C+(x^M&(O^x))+L[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=x+(O^C&(M^O))+L[12]+1804603682&4294967295,x=C+(I<<7&4294967295|I>>>25),I=O+(M^x&(C^M))+L[13]+4254626195&4294967295,O=x+(I<<12&4294967295|I>>>20),I=M+(C^O&(x^C))+L[14]+2792965006&4294967295,M=O+(I<<17&4294967295|I>>>15),I=C+(x^M&(O^x))+L[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=x+(M^O&(C^M))+L[1]+4129170786&4294967295,x=C+(I<<5&4294967295|I>>>27),I=O+(C^M&(x^C))+L[6]+3225465664&4294967295,O=x+(I<<9&4294967295|I>>>23),I=M+(x^C&(O^x))+L[11]+643717713&4294967295,M=O+(I<<14&4294967295|I>>>18),I=C+(O^x&(M^O))+L[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=x+(M^O&(C^M))+L[5]+3593408605&4294967295,x=C+(I<<5&4294967295|I>>>27),I=O+(C^M&(x^C))+L[10]+38016083&4294967295,O=x+(I<<9&4294967295|I>>>23),I=M+(x^C&(O^x))+L[15]+3634488961&4294967295,M=O+(I<<14&4294967295|I>>>18),I=C+(O^x&(M^O))+L[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=x+(M^O&(C^M))+L[9]+568446438&4294967295,x=C+(I<<5&4294967295|I>>>27),I=O+(C^M&(x^C))+L[14]+3275163606&4294967295,O=x+(I<<9&4294967295|I>>>23),I=M+(x^C&(O^x))+L[3]+4107603335&4294967295,M=O+(I<<14&4294967295|I>>>18),I=C+(O^x&(M^O))+L[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=x+(M^O&(C^M))+L[13]+2850285829&4294967295,x=C+(I<<5&4294967295|I>>>27),I=O+(C^M&(x^C))+L[2]+4243563512&4294967295,O=x+(I<<9&4294967295|I>>>23),I=M+(x^C&(O^x))+L[7]+1735328473&4294967295,M=O+(I<<14&4294967295|I>>>18),I=C+(O^x&(M^O))+L[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=x+(C^M^O)+L[5]+4294588738&4294967295,x=C+(I<<4&4294967295|I>>>28),I=O+(x^C^M)+L[8]+2272392833&4294967295,O=x+(I<<11&4294967295|I>>>21),I=M+(O^x^C)+L[11]+1839030562&4294967295,M=O+(I<<16&4294967295|I>>>16),I=C+(M^O^x)+L[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=x+(C^M^O)+L[1]+2763975236&4294967295,x=C+(I<<4&4294967295|I>>>28),I=O+(x^C^M)+L[4]+1272893353&4294967295,O=x+(I<<11&4294967295|I>>>21),I=M+(O^x^C)+L[7]+4139469664&4294967295,M=O+(I<<16&4294967295|I>>>16),I=C+(M^O^x)+L[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=x+(C^M^O)+L[13]+681279174&4294967295,x=C+(I<<4&4294967295|I>>>28),I=O+(x^C^M)+L[0]+3936430074&4294967295,O=x+(I<<11&4294967295|I>>>21),I=M+(O^x^C)+L[3]+3572445317&4294967295,M=O+(I<<16&4294967295|I>>>16),I=C+(M^O^x)+L[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=x+(C^M^O)+L[9]+3654602809&4294967295,x=C+(I<<4&4294967295|I>>>28),I=O+(x^C^M)+L[12]+3873151461&4294967295,O=x+(I<<11&4294967295|I>>>21),I=M+(O^x^C)+L[15]+530742520&4294967295,M=O+(I<<16&4294967295|I>>>16),I=C+(M^O^x)+L[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=x+(M^(C|~O))+L[0]+4096336452&4294967295,x=C+(I<<6&4294967295|I>>>26),I=O+(C^(x|~M))+L[7]+1126891415&4294967295,O=x+(I<<10&4294967295|I>>>22),I=M+(x^(O|~C))+L[14]+2878612391&4294967295,M=O+(I<<15&4294967295|I>>>17),I=C+(O^(M|~x))+L[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=x+(M^(C|~O))+L[12]+1700485571&4294967295,x=C+(I<<6&4294967295|I>>>26),I=O+(C^(x|~M))+L[3]+2399980690&4294967295,O=x+(I<<10&4294967295|I>>>22),I=M+(x^(O|~C))+L[10]+4293915773&4294967295,M=O+(I<<15&4294967295|I>>>17),I=C+(O^(M|~x))+L[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=x+(M^(C|~O))+L[8]+1873313359&4294967295,x=C+(I<<6&4294967295|I>>>26),I=O+(C^(x|~M))+L[15]+4264355552&4294967295,O=x+(I<<10&4294967295|I>>>22),I=M+(x^(O|~C))+L[6]+2734768916&4294967295,M=O+(I<<15&4294967295|I>>>17),I=C+(O^(M|~x))+L[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=x+(M^(C|~O))+L[4]+4149444226&4294967295,x=C+(I<<6&4294967295|I>>>26),I=O+(C^(x|~M))+L[11]+3174756917&4294967295,O=x+(I<<10&4294967295|I>>>22),I=M+(x^(O|~C))+L[2]+718787259&4294967295,M=O+(I<<15&4294967295|I>>>17),I=C+(O^(M|~x))+L[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+O&4294967295}i.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var C=x-this.blockSize,L=this.B,M=this.h,O=0;O<x;){if(M==0)for(;O<=C;)s(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<x;)if(L[M++]=S.charCodeAt(O++),M==this.blockSize){s(this,L),M=0;break}}else for(;O<x;)if(L[M++]=S[O++],M==this.blockSize){s(this,L),M=0;break}}this.h=M,this.o+=x},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var C=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=C&255,C/=256;for(this.u(S),S=Array(16),x=C=0;4>x;++x)for(var L=0;32>L;L+=8)S[C++]=this.g[x]>>>L&255;return S};function r(S,x){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=x(S)}function o(S,x){this.h=x;for(var C=[],L=!0,M=S.length-1;0<=M;M--){var O=S[M]|0;L&&O==x||(C[M]=O,L=!1)}this.g=C}var a={};function l(S){return-128<=S&&128>S?r(S,function(x){return new o([x|0],0>x?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return E(u(-S));for(var x=[],C=1,L=0;S>=C;L++)x[L]=S/C|0,C*=4294967296;return new o(x,0)}function c(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return E(c(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(x,8)),L=d,M=0;M<S.length;M+=8){var O=Math.min(8,S.length-M),I=parseInt(S.substring(M,M+O),x);8>O?(O=u(Math.pow(x,O)),L=L.j(O).add(u(I))):(L=L.j(C),L=L.add(u(I)))}return L}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var S=0,x=1,C=0;C<this.g.length;C++){var L=this.i(C);S+=(0<=L?L:4294967296+L)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(p(this))return"0";if(v(this))return"-"+E(this).toString(S);for(var x=u(Math.pow(S,6)),C=this,L="";;){var M=k(C,x).g;C=b(C,M.j(x));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=M,p(C))return O+L;for(;6>O.length;)O="0"+O;L=O+L}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function p(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=b(this,S),v(S)?-1:p(S)?0:1};function E(S){for(var x=S.g.length,C=[],L=0;L<x;L++)C[L]=~S.g[L];return new o(C,~S.h).add(f)}t.abs=function(){return v(this)?E(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),C=[],L=0,M=0;M<=x;M++){var O=L+(this.i(M)&65535)+(S.i(M)&65535),I=(O>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);L=I>>>16,O&=65535,I&=65535,C[M]=I<<16|O}return new o(C,C[C.length-1]&-2147483648?-1:0)};function b(S,x){return S.add(E(x))}t.j=function(S){if(p(this)||p(S))return d;if(v(this))return v(S)?E(this).j(E(S)):E(E(this).j(S));if(v(S))return E(this.j(E(S)));if(0>this.l(g)&&0>S.l(g))return u(this.m()*S.m());for(var x=this.g.length+S.g.length,C=[],L=0;L<2*x;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<S.g.length;M++){var O=this.i(L)>>>16,I=this.i(L)&65535,$=S.i(M)>>>16,q=S.i(M)&65535;C[2*L+2*M]+=I*q,_(C,2*L+2*M),C[2*L+2*M+1]+=O*q,_(C,2*L+2*M+1),C[2*L+2*M+1]+=I*$,_(C,2*L+2*M+1),C[2*L+2*M+2]+=O*$,_(C,2*L+2*M+2)}for(L=0;L<x;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=x;L<2*x;L++)C[L]=0;return new o(C,0)};function _(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function T(S,x){this.g=S,this.h=x}function k(S,x){if(p(x))throw Error("division by zero");if(p(S))return new T(d,d);if(v(S))return x=k(E(S),x),new T(E(x.g),E(x.h));if(v(x))return x=k(S,E(x)),new T(E(x.g),x.h);if(30<S.g.length){if(v(S)||v(x))throw Error("slowDivide_ only works with positive integers.");for(var C=f,L=x;0>=L.l(S);)C=P(C),L=P(L);var M=R(C,1),O=R(L,1);for(L=R(L,2),C=R(C,2);!p(L);){var I=O.add(L);0>=I.l(S)&&(M=M.add(C),O=I),L=R(L,1),C=R(C,1)}return x=b(S,M.j(x)),new T(M,x)}for(M=d;0<=S.l(x);){for(C=Math.max(1,Math.floor(S.m()/x.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),O=u(C),I=O.j(x);v(I)||0<I.l(S);)C-=L,O=u(C),I=O.j(x);p(O)&&(O=f),M=M.add(O),S=b(S,I)}return new T(M,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),C=[],L=0;L<x;L++)C[L]=this.i(L)&S.i(L);return new o(C,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),C=[],L=0;L<x;L++)C[L]=this.i(L)|S.i(L);return new o(C,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),C=[],L=0;L<x;L++)C[L]=this.i(L)^S.i(L);return new o(C,this.h^S.h)};function P(S){for(var x=S.g.length+1,C=[],L=0;L<x;L++)C[L]=S.i(L)<<1|S.i(L-1)>>>31;return new o(C,S.h)}function R(S,x){var C=x>>5;x%=32;for(var L=S.g.length-C,M=[],O=0;O<L;O++)M[O]=0<x?S.i(O+C)>>>x|S.i(O+C+1)<<32-x:S.i(O+C);return new o(M,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,V1=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,us=o}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F1,Ma,j1,kc,ag,B1,z1,U1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,w){return h==Array.prototype||h==Object.prototype||(h[m]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var m=0;m<h.length;++m){var w=h[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function s(h,m){if(m)e:{var w=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var D=h[A];if(!(D in w))break e;w=w[D]}h=h[h.length-1],A=w[h],m=m(A),m!=A&&m!=null&&e(w,h,{configurable:!0,writable:!0,value:m})}}function r(h,m){h instanceof String&&(h+="");var w=0,A=!1,D={next:function(){if(!A&&w<h.length){var V=w++;return{value:m(V,h[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(h){return h||function(){return r(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function u(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function c(h,m,w){return h.call.apply(h.bind,arguments)}function d(h,m,w){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,A),h.apply(m,D)}}return function(){return h.apply(m,arguments)}}function f(h,m,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function g(h,m){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function p(h,m){function w(){}w.prototype=m.prototype,h.aa=m.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(A,D,V){for(var Q=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)Q[Ne-2]=arguments[Ne];return m.prototype[D].apply(A,Q)}}function v(h){const m=h.length;if(0<m){const w=Array(m);for(let A=0;A<m;A++)w[A]=h[A];return w}return[]}function E(h,m){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(l(A)){const D=h.length||0,V=A.length||0;h.length=D+V;for(let Q=0;Q<V;Q++)h[D+Q]=A[Q]}else h.push(A)}}class b{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(h){return/^[\s\xa0]*$/.test(h)}function T(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function k(h){return k[" "](h),h}k[" "]=function(){};var P=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function R(h,m,w){for(const A in h)m.call(w,h[A],A,h)}function S(h,m){for(const w in h)m.call(void 0,h[w],w,h)}function x(h){const m={};for(const w in h)m[w]=h[w];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,m){let w,A;for(let D=1;D<arguments.length;D++){A=arguments[D];for(w in A)h[w]=A[w];for(let V=0;V<C.length;V++)w=C[V],Object.prototype.hasOwnProperty.call(A,w)&&(h[w]=A[w])}}function M(h){var m=1;h=h.split(":");const w=[];for(;0<m&&h.length;)w.push(h.shift()),m--;return h.length&&w.push(h.join(":")),w}function O(h){a.setTimeout(()=>{throw h},0)}function I(){var h=H;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,w){const A=q.get();A.set(m,w),this.h?this.h.next=A:this.g=A,this.h=A}}var q=new b(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let J,F=!1,H=new $,G=()=>{const h=a.Promise.resolve(void 0);J=()=>{h.then(ee)}};var ee=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(w){O(w)}var m=q;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}F=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return h}();function j(h,m){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(P){e:{try{k(m.nodeName);var D=!0;break e}catch{}D=!1}D||(m=null)}}else w=="mouseover"?m=h.fromElement:w=="mouseout"&&(m=h.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ue[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&j.aa.h.call(this)}}p(j,K);var ue={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Ze(h,m,w,A,D){this.listener=h,this.proxy=null,this.src=m,this.type=w,this.capture=!!A,this.ha=D,this.key=++ge,this.da=this.fa=!1}function ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,m,w,A,D){var V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);var Q=on(h,m,A,D);return-1<Q?(m=h[Q],w||(m.fa=!1)):(m=new Ze(m,this.src,V,!!A,D),m.fa=w,h.push(m)),m};function Ht(h,m){var w=m.type;if(w in h.g){var A=h.g[w],D=Array.prototype.indexOf.call(A,m,void 0),V;(V=0<=D)&&Array.prototype.splice.call(A,D,1),V&&(ae(m),h.g[w].length==0&&(delete h.g[w],h.h--))}}function on(h,m,w,A){for(var D=0;D<h.length;++D){var V=h[D];if(!V.da&&V.listener==m&&V.capture==!!w&&V.ha==A)return D}return-1}var ni="closure_lm_"+(1e6*Math.random()|0),Le={};function Ho(h,m,w,A,D){if(Array.isArray(m)){for(var V=0;V<m.length;V++)Ho(h,m[V],w,A,D);return null}return w=Wo(w),h&&h[Se]?h.K(m,w,u(A)?!!A.capture:!1,D):Tr(h,m,w,!1,A,D)}function Tr(h,m,w,A,D,V){if(!m)throw Error("Invalid event type");var Q=u(D)?!!D.capture:!!D,Ne=Ti(h);if(Ne||(h[ni]=Ne=new ye(h)),w=Ne.add(m,w,A,Q,V),w.proxy)return w;if(A=nu(),w.proxy=A,A.src=h,A.listener=w,h.addEventListener)oe||(D=Q),D===void 0&&(D=!1),h.addEventListener(m.toString(),A,D);else if(h.attachEvent)h.attachEvent(Ps(m.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function nu(){function h(w){return m.call(h.src,h.listener,w)}const m=iu;return h}function ks(h,m,w,A,D){if(Array.isArray(m))for(var V=0;V<m.length;V++)ks(h,m[V],w,A,D);else A=u(A)?!!A.capture:!!A,w=Wo(w),h&&h[Se]?(h=h.i,m=String(m).toString(),m in h.g&&(V=h.g[m],w=on(V,w,A,D),-1<w&&(ae(V[w]),Array.prototype.splice.call(V,w,1),V.length==0&&(delete h.g[m],h.h--)))):h&&(h=Ti(h))&&(m=h.g[m.toString()],h=-1,m&&(h=on(m,w,A,D)),(w=-1<h?m[h]:null)&&kr(w))}function kr(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[Se])Ht(m.i,h);else{var w=h.type,A=h.proxy;m.removeEventListener?m.removeEventListener(w,A,h.capture):m.detachEvent?m.detachEvent(Ps(w),A):m.addListener&&m.removeListener&&m.removeListener(A),(w=Ti(m))?(Ht(w,h),w.h==0&&(w.src=null,m[ni]=null)):ae(h)}}}function Ps(h){return h in Le?Le[h]:Le[h]="on"+h}function iu(h,m){if(h.da)h=!0;else{m=new j(m,this);var w=h.listener,A=h.ha||h.src;h.fa&&kr(h),h=w.call(A,m)}return h}function Ti(h){return h=h[ni],h instanceof ye?h:null}var Pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(h){return typeof h=="function"?h:(h[Pr]||(h[Pr]=function(m){return h.handleEvent(m)}),h[Pr])}function dt(){Z.call(this),this.i=new ye(this),this.M=this,this.F=null}p(dt,Z),dt.prototype[Se]=!0,dt.prototype.removeEventListener=function(h,m,w,A){ks(this,h,m,w,A)};function at(h,m){var w,A=h.F;if(A)for(w=[];A;A=A.F)w.push(A);if(h=h.M,A=m.type||m,typeof m=="string")m=new K(m,h);else if(m instanceof K)m.target=m.target||h;else{var D=m;m=new K(A,h),L(m,D)}if(D=!0,w)for(var V=w.length-1;0<=V;V--){var Q=m.g=w[V];D=Ls(Q,A,!0,m)&&D}if(Q=m.g=h,D=Ls(Q,A,!0,m)&&D,D=Ls(Q,A,!1,m)&&D,w)for(V=0;V<w.length;V++)Q=m.g=w[V],D=Ls(Q,A,!1,m)&&D}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var w=h.g[m],A=0;A<w.length;A++)ae(w[A]);delete h.g[m],h.h--}}this.F=null},dt.prototype.K=function(h,m,w,A){return this.i.add(String(h),m,!1,w,A)},dt.prototype.L=function(h,m,w,A){return this.i.add(String(h),m,!0,w,A)};function Ls(h,m,w,A){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var D=!0,V=0;V<m.length;++V){var Q=m[V];if(Q&&!Q.da&&Q.capture==w){var Ne=Q.listener,xt=Q.ha||Q.src;Q.fa&&Ht(h.i,Q),D=Ne.call(xt,A)!==!1&&D}}return D&&!A.defaultPrevented}function As(h,m,w){if(typeof h=="function")w&&(h=f(h,w));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(h,m||0)}function qo(h){h.g=As(()=>{h.g=null,h.i&&(h.i=!1,qo(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class Lr extends Z{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(h){Z.call(this),this.h=h,this.g={}}p(ki,Z);var Is=[];function Go(h){R(h.g,function(m,w){this.g.hasOwnProperty(w)&&kr(m)},h),h.g={}}ki.prototype.N=function(){ki.aa.N.call(this),Go(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=a.JSON.stringify,su=a.JSON.parse,Ar=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Ir(){}Ir.prototype.h=null;function Ms(h){return h.h||(h.h=h.i())}function Ko(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){K.call(this,"d")}p(Mr,K);function Ai(){K.call(this,"c")}p(Ai,K);var Bn={},Rs=null;function Os(){return Rs=Rs||new dt}Bn.La="serverreachability";function Ds(h){K.call(this,Bn.La,h)}p(Ds,K);function Ii(h){const m=Os();at(m,new Ds(m))}Bn.STAT_EVENT="statevent";function ru(h,m){K.call(this,Bn.STAT_EVENT,h),this.stat=m}p(ru,K);function nt(h){const m=Os();at(m,new ru(m,h))}Bn.Ma="timingevent";function ce(h,m){K.call(this,Bn.Ma,h),this.size=m}p(ce,K);function Qo(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},m)}function Yo(){this.g=!0}Yo.prototype.xa=function(){this.g=!1};function gk(h,m,w,A,D,V){h.info(function(){if(h.g)if(V)for(var Q="",Ne=V.split("&"),xt=0;xt<Ne.length;xt++){var Ae=Ne[xt].split("=");if(1<Ae.length){var At=Ae[0];Ae=Ae[1];var It=At.split("_");Q=2<=It.length&&It[1]=="type"?Q+(At+"="+Ae+"&"):Q+(At+"=redacted&")}}else Q=null;else Q=V;return"XMLHTTP REQ ("+A+") [attempt "+D+"]: "+m+`
`+w+`
`+Q})}function mk(h,m,w,A,D,V,Q){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+D+"]: "+m+`
`+w+`
`+V+" "+Q})}function Rr(h,m,w,A){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+yk(h,w)+(A?" "+A:"")})}function vk(h,m){h.info(function(){return"TIMEOUT: "+m})}Yo.prototype.info=function(){};function yk(h,m){if(!h.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var A=w[h];if(!(2>A.length)){var D=A[1];if(Array.isArray(D)&&!(1>D.length)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Q=1;Q<D.length;Q++)D[Q]=""}}}}return Pi(w)}catch{return m}}var ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Td;function au(){}p(au,Ir),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},Td=new au;function Mi(h,m,w,A){this.j=h,this.i=m,this.l=w,this.R=A||1,this.U=new ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cv}function Cv(){this.i=null,this.g="",this.h=!1}var Tv={},kd={};function Pd(h,m,w){h.L=1,h.v=hu(ii(m)),h.m=w,h.P=!0,kv(h,null)}function kv(h,m){h.F=Date.now(),lu(h),h.A=ii(h.v);var w=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),zv(w.i,"t",A),h.C=0,w=h.j.J,h.h=new Cv,h.g=ry(h.j,w?m:null,!h.m),0<h.O&&(h.M=new Lr(f(h.Y,h,h.g),h.O)),m=h.U,w=h.g,A=h.ca;var D="readystatechange";Array.isArray(D)||(D&&(Is[0]=D.toString()),D=Is);for(var V=0;V<D.length;V++){var Q=Ho(w,D[V],A||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),Ii(),gk(h.i,h.u,h.A,h.l,h.R,h.m)}Mi.prototype.ca=function(h){h=h.target;const m=this.M;m&&si(h)==3?m.j():this.Y(h)},Mi.prototype.Y=function(h){try{if(h==this.g)e:{const It=si(this.g);var m=this.g.Ba();const Nr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Kv(this.g)))){this.J||It!=4||m==7||(m==8||0>=Nr?Ii(3):Ii(2)),Ld(this);var w=this.g.Z();this.X=w;t:if(Pv(this)){var A=Kv(this.g);h="";var D=A.length,V=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),Xo(this);var Q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<D;m++)this.h.h=!0,h+=this.h.i.decode(A[m],{stream:!(V&&m==D-1)});A.length=0,this.h.g+=h,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=w==200,mk(this.i,this.u,this.A,this.l,this.R,It,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,xt=this.g;if((Ne=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ne)){var Ae=Ne;break t}}Ae=null}if(w=Ae)Rr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ad(this,w);else{this.o=!1,this.s=3,nt(12),Ns(this),Xo(this);break e}}if(this.P){w=!0;let Tn;for(;!this.J&&this.C<Q.length;)if(Tn=_k(this,Q),Tn==kd){It==4&&(this.s=4,nt(14),w=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Tv){this.s=4,nt(15),Rr(this.i,this.l,Q,"[Invalid Chunk]"),w=!1;break}else Rr(this.i,this.l,Tn,null),Ad(this,Tn);if(Pv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||Q.length!=0||this.h.h||(this.s=1,nt(16),w=!1),this.o=this.o&&w,!w)Rr(this.i,this.l,Q,"[Invalid Chunked Response]"),Ns(this),Xo(this);else if(0<Q.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Nd(At),At.M=!0,nt(11))}}else Rr(this.i,this.l,Q,null),Ad(this,Q);It==4&&Ns(this),this.o&&!this.J&&(It==4?ty(this.j,this):(this.o=!1,lu(this)))}else Nk(this.g),w==400&&0<Q.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ns(this),Xo(this)}}}catch{}finally{}};function Pv(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function _k(h,m){var w=h.C,A=m.indexOf(`
`,w);return A==-1?kd:(w=Number(m.substring(w,A)),isNaN(w)?Tv:(A+=1,A+w>m.length?kd:(m=m.slice(A,A+w),h.C=A+w,m)))}Mi.prototype.cancel=function(){this.J=!0,Ns(this)};function lu(h){h.S=Date.now()+h.I,Lv(h,h.I)}function Lv(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Qo(f(h.ba,h),m)}function Ld(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Mi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(vk(this.i,this.A),this.L!=2&&(Ii(),nt(17)),Ns(this),this.s=2,Xo(this)):Lv(this,this.S-h)};function Xo(h){h.j.G==0||h.J||ty(h.j,h)}function Ns(h){Ld(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,Go(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function Ad(h,m){try{var w=h.j;if(w.G!=0&&(w.g==h||Id(w.h,h))){if(!h.K&&Id(w.h,h)&&w.G==3){try{var A=w.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var D=A;if(D[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)vu(w),gu(w);else break e;Dd(w),nt(18)}}else w.za=D[1],0<w.za-w.T&&37500>D[2]&&w.F&&w.v==0&&!w.C&&(w.C=Qo(f(w.Za,w),6e3));if(1>=Mv(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Fs(w,11)}else if((h.K||w.g==h)&&vu(w),!_(m))for(D=w.Da.g.parse(m),m=0;m<D.length;m++){let Ae=D[m];if(w.T=Ae[0],Ae=Ae[1],w.G==2)if(Ae[0]=="c"){w.K=Ae[1],w.ia=Ae[2];const At=Ae[3];At!=null&&(w.la=At,w.j.info("VER="+w.la));const It=Ae[4];It!=null&&(w.Aa=It,w.j.info("SVER="+w.Aa));const Nr=Ae[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(A=1.5*Nr,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const Tn=h.g;if(Tn){const _u=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var V=A.h;V.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Md(V,V.h),V.h=null))}if(A.D){const Vd=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vd&&(A.ya=Vd,Be(A.I,A.D,Vd))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var Q=h;if(A.qa=sy(A,A.J?A.ia:null,A.W),Q.K){Rv(A.h,Q);var Ne=Q,xt=A.L;xt&&(Ne.I=xt),Ne.B&&(Ld(Ne),lu(Ne)),A.g=Q}else Jv(A);0<w.i.length&&mu(w)}else Ae[0]!="stop"&&Ae[0]!="close"||Fs(w,7);else w.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Fs(w,7):Od(w):Ae[0]!="noop"&&w.l&&w.l.ta(Ae),w.v=0)}}Ii(4)}catch{}}var wk=class{constructor(h,m){this.g=h,this.map=m}};function Av(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iv(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mv(h){return h.h?1:h.g?h.g.size:0}function Id(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function Md(h,m){h.g?h.g.add(m):h.h=m}function Rv(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}Av.prototype.cancel=function(){if(this.i=Ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ov(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const w of h.g.values())m=m.concat(w.D);return m}return v(h.i)}function Ek(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var m=[],w=h.length,A=0;A<w;A++)m.push(h[A]);return m}m=[],w=0;for(A in h)m[w++]=h[A];return m}function bk(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var m=[];h=h.length;for(var w=0;w<h;w++)m.push(w);return m}m=[],w=0;for(const A in h)m[w++]=A;return m}}}function Dv(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var w=bk(h),A=Ek(h),D=A.length,V=0;V<D;V++)m.call(void 0,A[V],w&&w[V],h)}var Nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xk(h,m){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var A=h[w].indexOf("="),D=null;if(0<=A){var V=h[w].substring(0,A);D=h[w].substring(A+1)}else V=h[w];m(V,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Vs(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Vs){this.h=h.h,uu(this,h.j),this.o=h.o,this.g=h.g,cu(this,h.s),this.l=h.l;var m=h.i,w=new ea;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),Vv(this,w),this.m=h.m}else h&&(m=String(h).match(Nv))?(this.h=!1,uu(this,m[1]||"",!0),this.o=Zo(m[2]||""),this.g=Zo(m[3]||"",!0),cu(this,m[4]),this.l=Zo(m[5]||"",!0),Vv(this,m[6]||"",!0),this.m=Zo(m[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}Vs.prototype.toString=function(){var h=[],m=this.j;m&&h.push(Jo(m,Fv,!0),":");var w=this.g;return(w||m=="file")&&(h.push("//"),(m=this.o)&&h.push(Jo(m,Fv,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Jo(w,w.charAt(0)=="/"?Tk:Ck,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Jo(w,Pk)),h.join("")};function ii(h){return new Vs(h)}function uu(h,m,w){h.j=w?Zo(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function cu(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function Vv(h,m,w){m instanceof ea?(h.i=m,Lk(h.i,h.h)):(w||(m=Jo(m,kk)),h.i=new ea(m,h.h))}function Be(h,m,w){h.i.set(m,w)}function hu(h){return Be(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Zo(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Jo(h,m,w){return typeof h=="string"?(h=encodeURI(h).replace(m,Sk),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sk(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fv=/[#\/\?@]/g,Ck=/[#\?:]/g,Tk=/[#\?]/g,kk=/[#\?@]/g,Pk=/#/g;function ea(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function Ri(h){h.g||(h.g=new Map,h.h=0,h.i&&xk(h.i,function(m,w){h.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=ea.prototype,t.add=function(h,m){Ri(this),this.i=null,h=Or(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(m),this.h+=1,this};function jv(h,m){Ri(h),m=Or(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function Bv(h,m){return Ri(h),m=Or(h,m),h.g.has(m)}t.forEach=function(h,m){Ri(this),this.g.forEach(function(w,A){w.forEach(function(D){h.call(m,D,A,this)},this)},this)},t.na=function(){Ri(this);const h=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let A=0;A<m.length;A++){const D=h[A];for(let V=0;V<D.length;V++)w.push(m[A])}return w},t.V=function(h){Ri(this);let m=[];if(typeof h=="string")Bv(this,h)&&(m=m.concat(this.g.get(Or(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)m=m.concat(h[w])}return m},t.set=function(h,m){return Ri(this),this.i=null,h=Or(this,h),Bv(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},t.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function zv(h,m,w){jv(h,m),0<w.length&&(h.i=null,h.g.set(Or(h,m),v(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var A=m[w];const V=encodeURIComponent(String(A)),Q=this.V(A);for(A=0;A<Q.length;A++){var D=V;Q[A]!==""&&(D+="="+encodeURIComponent(String(Q[A]))),h.push(D)}}return this.i=h.join("&")};function Or(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function Lk(h,m){m&&!h.j&&(Ri(h),h.i=null,h.g.forEach(function(w,A){var D=A.toLowerCase();A!=D&&(jv(this,A),zv(this,D,w))},h)),h.j=m}function Ak(h,m){const w=new Yo;if(a.Image){const A=new Image;A.onload=g(Oi,w,"TestLoadImage: loaded",!0,m,A),A.onerror=g(Oi,w,"TestLoadImage: error",!1,m,A),A.onabort=g(Oi,w,"TestLoadImage: abort",!1,m,A),A.ontimeout=g(Oi,w,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else m(!1)}function Ik(h,m){const w=new Yo,A=new AbortController,D=setTimeout(()=>{A.abort(),Oi(w,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:A.signal}).then(V=>{clearTimeout(D),V.ok?Oi(w,"TestPingServer: ok",!0,m):Oi(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(D),Oi(w,"TestPingServer: error",!1,m)})}function Oi(h,m,w,A,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),A(w)}catch{}}function Mk(){this.g=new Ar}function Rk(h,m,w){const A=w||"";try{Dv(h,function(D,V){let Q=D;u(D)&&(Q=Pi(D)),m.push(A+V+"="+encodeURIComponent(Q))})}catch(D){throw m.push(A+"type="+encodeURIComponent("_badmap")),D}}function du(h){this.l=h.Ub||null,this.j=h.eb||!1}p(du,Ir),du.prototype.g=function(){return new fu(this.l,this.j)},du.prototype.i=function(h){return function(){return h}}({});function fu(h,m){dt.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(fu,dt),t=fu.prototype,t.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,na(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uv(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uv(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?ta(this):na(this),this.readyState==3&&Uv(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ta(this))},t.Qa=function(h){this.g&&(this.response=h,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(h){h.readyState=4,h.l=null,h.j=null,h.v=null,na(h)}t.setRequestHeader=function(h,m){this.u.append(h,m)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=m.next();return h.join(`\r
`)};function na(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function $v(h){let m="";return R(h,function(w,A){m+=A,m+=":",m+=w,m+=`\r
`}),m}function Rd(h,m,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=$v(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):Be(h,m,w))}function Je(h){dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Je,dt);var Ok=/^https?$/i,Dk=["POST","PUT"];t=Je.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,m,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Td.g(),this.v=this.o?Ms(this.o):Ms(Td),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(V){Hv(this,V);return}if(h=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var D in A)w.set(D,A[D]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())w.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(V=>V.toLowerCase()=="content-type"),D=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Dk,m,void 0))||A||D||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Q]of w)this.g.setRequestHeader(V,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gv(this),this.u=!0,this.g.send(h),this.u=!1}catch(V){Hv(this,V)}};function Hv(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,Wv(h),pu(h)}function Wv(h){h.A||(h.A=!0,at(h,"complete"),at(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,at(this,"complete"),at(this,"abort"),pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pu(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qv(this):this.bb())},t.bb=function(){qv(this)};function qv(h){if(h.h&&typeof o<"u"&&(!h.v[1]||si(h)!=4||h.Z()!=2)){if(h.u&&si(h)==4)As(h.Ea,0,h);else if(at(h,"readystatechange"),si(h)==4){h.h=!1;try{const Q=h.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var A;if(A=Q===0){var D=String(h.D).match(Nv)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),A=!Ok.test(D?D.toLowerCase():"")}w=A}if(w)at(h,"complete"),at(h,"success");else{h.m=6;try{var V=2<si(h)?h.g.statusText:""}catch{V=""}h.l=V+" ["+h.Z()+"]",Wv(h)}}finally{pu(h)}}}}function pu(h,m){if(h.g){Gv(h);const w=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||at(h,"ready");try{w.onreadystatechange=A}catch{}}}function Gv(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),su(m)}};function Kv(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Nk(h){const m={};h=(h.g&&2<=si(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(_(h[A]))continue;var w=M(h[A]);const D=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const V=m[D]||[];m[D]=V,V.push(w)}S(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(h,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||m}function Qv(h){this.Aa=0,this.i=[],this.j=new Yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,h),this.cb=ia("retryDelaySeedMs",1e4,h),this.Wa=ia("forwardChannelMaxRetries",2,h),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Av(h&&h.concurrentRequestLimit),this.Da=new Mk,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qv.prototype,t.la=8,t.G=1,t.connect=function(h,m,w,A){nt(0),this.W=h,this.H=m||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=sy(this,null,this.W),mu(this)};function Od(h){if(Yv(h),h.G==3){var m=h.U++,w=ii(h.I);if(Be(w,"SID",h.K),Be(w,"RID",m),Be(w,"TYPE","terminate"),sa(h,w),m=new Mi(h,h.j,m),m.L=2,m.v=hu(ii(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=ry(m.j,null),m.g.ea(m.v)),m.F=Date.now(),lu(m)}iy(h)}function gu(h){h.g&&(Nd(h),h.g.cancel(),h.g=null)}function Yv(h){gu(h),h.u&&(a.clearTimeout(h.u),h.u=null),vu(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function mu(h){if(!Iv(h.h)&&!h.s){h.s=!0;var m=h.Ga;J||G(),F||(J(),F=!0),H.add(m,h),h.B=0}}function Vk(h,m){return Mv(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Qo(f(h.Ga,h,m),ny(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const D=new Mi(this,this.j,h);let V=this.o;if(this.S&&(V?(V=x(V),L(V,this.S)):V=this.S),this.m!==null||this.O||(D.H=V,V=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=Zv(this,D,m),w=ii(this.I),Be(w,"RID",h),Be(w,"CVER",22),this.D&&Be(w,"X-HTTP-Session-Id",this.D),sa(this,w),V&&(this.O?m="headers="+encodeURIComponent(String($v(V)))+"&"+m:this.m&&Rd(w,this.m,V)),Md(this.h,D),this.Ua&&Be(w,"TYPE","init"),this.P?(Be(w,"$req",m),Be(w,"SID","null"),D.T=!0,Pd(D,w,null)):Pd(D,w,m),this.G=2}}else this.G==3&&(h?Xv(this,h):this.i.length==0||Iv(this.h)||Xv(this))};function Xv(h,m){var w;m?w=m.l:w=h.U++;const A=ii(h.I);Be(A,"SID",h.K),Be(A,"RID",w),Be(A,"AID",h.T),sa(h,A),h.m&&h.o&&Rd(A,h.m,h.o),w=new Mi(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),m&&(h.i=m.D.concat(h.i)),m=Zv(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Md(h.h,w),Pd(w,A,m)}function sa(h,m){h.H&&R(h.H,function(w,A){Be(m,A,w)}),h.l&&Dv({},function(w,A){Be(m,A,w)})}function Zv(h,m,w){w=Math.min(h.i.length,w);var A=h.l?f(h.l.Na,h.l,h):null;e:{var D=h.i;let V=-1;for(;;){const Q=["count="+w];V==-1?0<w?(V=D[0].g,Q.push("ofs="+V)):V=0:Q.push("ofs="+V);let Ne=!0;for(let xt=0;xt<w;xt++){let Ae=D[xt].g;const At=D[xt].map;if(Ae-=V,0>Ae)V=Math.max(0,D[xt].g-100),Ne=!1;else try{Rk(At,Q,"req"+Ae+"_")}catch{A&&A(At)}}if(Ne){A=Q.join("&");break e}}}return h=h.i.splice(0,w),m.D=h,A}function Jv(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;J||G(),F||(J(),F=!0),H.add(m,h),h.v=0}}function Dd(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Qo(f(h.Fa,h),ny(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,ey(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Qo(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),gu(this),ey(this))};function Nd(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function ey(h){h.g=new Mi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=ii(h.qa);Be(m,"RID","rpc"),Be(m,"SID",h.K),Be(m,"AID",h.T),Be(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&Be(m,"TO",h.ja),Be(m,"TYPE","xmlhttp"),sa(h,m),h.m&&h.o&&Rd(m,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=hu(ii(m)),w.m=null,w.P=!0,kv(w,h)}t.Za=function(){this.C!=null&&(this.C=null,gu(this),Dd(this),nt(19))};function vu(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function ty(h,m){var w=null;if(h.g==m){vu(h),Nd(h),h.g=null;var A=2}else if(Id(h.h,m))w=m.D,Rv(h.h,m),A=1;else return;if(h.G!=0){if(m.o)if(A==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var D=h.B;A=Os(),at(A,new ce(A,w)),mu(h)}else Jv(h);else if(D=m.s,D==3||D==0&&0<m.X||!(A==1&&Vk(h,m)||A==2&&Dd(h)))switch(w&&0<w.length&&(m=h.h,m.i=m.i.concat(w)),D){case 1:Fs(h,5);break;case 4:Fs(h,10);break;case 3:Fs(h,6);break;default:Fs(h,2)}}}function ny(h,m){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*m}function Fs(h,m){if(h.j.info("Error code "+m),m==2){var w=f(h.fb,h),A=h.Xa;const D=!A;A=new Vs(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uu(A,"https"),hu(A),D?Ak(A.toString(),w):Ik(A.toString(),w)}else nt(2);h.G=0,h.l&&h.l.sa(m),iy(h),Yv(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function iy(h){if(h.G=0,h.ka=[],h.l){const m=Ov(h.h);(m.length!=0||h.i.length!=0)&&(E(h.ka,m),E(h.ka,h.i),h.h.i.length=0,v(h.i),h.i.length=0),h.l.ra()}}function sy(h,m,w){var A=w instanceof Vs?ii(w):new Vs(w);if(A.g!="")m&&(A.g=m+"."+A.g),cu(A,A.s);else{var D=a.location;A=D.protocol,m=m?m+"."+D.hostname:D.hostname,D=+D.port;var V=new Vs(null);A&&uu(V,A),m&&(V.g=m),D&&cu(V,D),w&&(V.l=w),A=V}return w=h.D,m=h.ya,w&&m&&Be(A,w,m),Be(A,"VER",h.la),sa(h,A),A}function ry(h,m,w){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new Je(new du({eb:w})):new Je(h.pa),m.Ha(h.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oy(){}t=oy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yu(){}yu.prototype.g=function(h,m){return new an(h,m)};function an(h,m){dt.call(this),this.g=new Qv(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!_(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new Dr(this)}p(an,dt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Od(this.g)},an.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Pi(h),h=w);m.i.push(new wk(m.Ya++,h)),m.G==3&&mu(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Od(this.g),delete this.g,an.aa.N.call(this)};function ay(h){Mr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(const w in m){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}p(ay,Mr);function ly(){Ai.call(this),this.status=1}p(ly,Ai);function Dr(h){this.g=h}p(Dr,oy),Dr.prototype.ua=function(){at(this.g,"a")},Dr.prototype.ta=function(h){at(this.g,new ay(h))},Dr.prototype.sa=function(h){at(this.g,new ly)},Dr.prototype.ra=function(){at(this.g,"b")},yu.prototype.createWebChannel=yu.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,U1=function(){return new yu},z1=function(){return Os()},B1=Bn,ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ou.NO_ERROR=0,ou.TIMEOUT=8,ou.HTTP_ERROR=6,kc=ou,Sv.COMPLETE="complete",j1=Sv,Ko.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ma=Ko,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,F1=Je}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const LE="@firebase/firestore",AE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new I1("@firebase/firestore");function Br(){return gr.logLevel}function te(t,...e){if(gr.logLevel<=ke.DEBUG){const n=e.map(Hm);gr.debug(`Firestore (${Bo}): ${t}`,...n)}}function xi(t,...e){if(gr.logLevel<=ke.ERROR){const n=e.map(Hm);gr.error(`Firestore (${Bo}): ${t}`,...n)}}function ms(t,...e){if(gr.logLevel<=ke.WARN){const n=e.map(Hm);gr.warn(`Firestore (${Bo}): ${t}`,...n)}}function Hm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,$1(t,i,n)}function $1(t,e,n){let i=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw xi(i),new Error(i)}function Re(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||$1(e,s,i)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends jo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class O4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class D4{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new cs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Re(typeof i.accessToken=="string",31837,{l:i}),new H1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Nt(e)}}class N4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new N4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,y4(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const i=r=>{r.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new IE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=j4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function ve(t,e){return t<e?-1:t>e?1:0}function lg(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return ve(i,s);{const r=W1(),o=B4(r.encode(ME(t,n)),r.encode(ME(e,n)));return o!==0?o:ve(i,s)}}n+=i>65535?2:1}return ve(t.length,e.length)}function ME(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function B4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ve(t[n],e[n]);return ve(t.length,e.length)}function Po(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class qn{constructor(e,n,i){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&le(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=qn.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return ve(e.length,n.length)}static compareSegments(e,n){const i=qn.isNumericId(e),s=qn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?qn.extractNumericId(e).compare(qn.extractNumericId(n)):lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class Fe extends qn{construct(e,n,i){return new Fe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ne(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends qn{construct(e,n,i){return new Tt(e,n,i)}static isValidIdentifier(e){return z4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new Tt([RE])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new ne(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ne(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new ne(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Fe.fromString(e))}static fromName(e){return new re(Fe.fromString(e).popFirst(5))}static empty(){return new re(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e,n){if(!n)throw new ne(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U4(t,e,n,i){if(e===!0&&i===!0)throw new ne(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OE(t){if(!re.isDocumentKey(t))throw new ne(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DE(t){if(re.isDocumentKey(t))throw new ne(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function G1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function Ch(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(t);throw new ne(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yl(t,e){if(!G1(t))throw new ne(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,r="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const o=t[i];if(s&&typeof o!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new ne(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=-62135596800,VE=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*VE);return new Ue(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NE)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yl(e,Ue._jsonSchema))return new Ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:ht("string",Ue._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Ue(0,0))}static max(){return new he(new Ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function $4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(i===1e9?new Ue(n+1,0):new Ue(n,i));return new vs(s,re.empty(),e)}function H4(t){return new vs(t.readTime,t.key,Ml)}class vs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new vs(he.min(),re.empty(),Ml)}static max(){return new vs(he.max(),re.empty(),Ml)}}function W4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==q4)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let s=0,r=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(s=>s?U.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new U((i,s)=>{const r=e.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===r&&i(o)},c=>s(c))}})}static doWhile(e,n){return new U((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function K4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}pd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function gd(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function Q4(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="";function Y4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FE(e)),e=X4(t.get(n),e);return FE(e)}function X4(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case K1:n+="";break;default:n+=r}}return n}function FE(t){return t+K1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Er(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Q1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Ct.RED,this.left=s??Ct.EMPTY,this.right=r??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Ct(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ct.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new mt(Tt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Y1("Invalid base64 string: "+r):r}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const Z4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=Z4.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _s(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="server_timestamp",Z1="__type__",J1="__previous_value__",eT="__local_write_time__";function Gm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z1])===null||n===void 0?void 0:n.stringValue)===X1}function md(t){const e=t.mapValue.fields[J1];return Gm(e)?md(e):e}function Rl(t){const e=ys(t.mapValue.fields[eT].timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,i,s,r,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const kh="(default)";class Ol{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",ej="__max__",tc={mapValue:{}},nT="__vector__",Ph="value";function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gm(t)?4:nj(t)?9007199254740991:tj(t)?10:11:le(28295,{value:t})}function ti(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=ys(s.timestampValue),a=ys(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return _s(s.bytesValue).isEqual(_s(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return it(s.geoPointValue.latitude)===it(r.geoPointValue.latitude)&&it(s.geoPointValue.longitude)===it(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return it(s.integerValue)===it(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=it(s.doubleValue),a=it(r.doubleValue);return o===a?Th(o)===Th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(jE(o)!==jE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ti(o[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function Dl(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function Lo(t,e){if(t===e)return 0;const n=ws(t),i=ws(e);if(n!==i)return ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=it(r.integerValue||r.doubleValue),l=it(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return zE(t.timestampValue,e.timestampValue);case 4:return zE(Rl(t),Rl(e));case 5:return lg(t.stringValue,e.stringValue);case 6:return function(r,o){const a=_s(r),l=_s(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ve(a[u],l[u]);if(c!==0)return c}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=ve(it(r.latitude),it(o.latitude));return a!==0?a:ve(it(r.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UE(t.arrayValue,e.arrayValue);case 10:return function(r,o){var a,l,u,c;const d=r.fields||{},f=o.fields||{},g=(a=d[Ph])===null||a===void 0?void 0:a.arrayValue,p=(l=f[Ph])===null||l===void 0?void 0:l.arrayValue,v=ve(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:UE(g,p)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===tc.mapValue&&o===tc.mapValue)return 0;if(r===tc.mapValue)return 1;if(o===tc.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=lg(l[d],c[d]);if(f!==0)return f;const g=Lo(a[l[d]],u[c[d]]);if(g!==0)return g}return ve(l.length,c.length)}(t.mapValue,e.mapValue);default:throw le(23264,{le:n})}}function zE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=ys(t),i=ys(e),s=ve(n.seconds,i.seconds);return s!==0?s:ve(n.nanos,i.nanos)}function UE(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Lo(n[s],i[s]);if(r)return r}return ve(n.length,i.length)}function Ao(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ys(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=ug(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${ug(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function Pc(t){switch(ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(t);return e?16+Pc(e):16;case 5:return 2*t.stringValue.length;case 6:return _s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Pc(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Er(i.fields,(r,o)=>{s+=r.length+Pc(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function $E(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cg(t){return!!t&&"integerValue"in t}function Km(t){return!!t&&"arrayValue"in t}function HE(t){return!!t&&"nullValue"in t}function WE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lc(t){return!!t&&"mapValue"in t}function tj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tT])===null||n===void 0?void 0:n.stringValue)===nT}function Ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Er(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ja(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ej}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(n)}setAll(e){let n=Tt.emptyPath(),i={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=Ja(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Lc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Er(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new wn(Ja(this.value))}}function iT(t){const e=[];return Er(t.fields,(n,i)=>{const s=new Tt([n]);if(Lc(i)){const r=iT(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,i,s,r,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,he.min(),he.min(),he.min(),wn.empty(),0)}static newFoundDocument(e,n,i,s){return new jt(e,1,n,he.min(),i,s,0)}static newNoDocument(e,n){return new jt(e,2,n,he.min(),he.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,he.min(),he.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function qE(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=re.comparator(re.fromName(o.referenceValue),n.key):i=Lo(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function GE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function ij(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class ct extends sT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new rj(e,n,i):n==="array-contains"?new lj(e,i):n==="in"?new uj(e,i):n==="not-in"?new cj(e,i):n==="array-contains-any"?new hj(e,i):new ct(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new oj(e,i):new aj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends sT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Fn(e,n)}matches(e){return rT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function rT(t){return t.op==="and"}function oT(t){return sj(t)&&rT(t)}function sj(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function hg(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(oT(t))return t.filters.map(e=>hg(e)).join(",");{const e=t.filters.map(n=>hg(n)).join(",");return`${t.op}(${e})`}}function aT(t,e){return t instanceof ct?function(i,s){return s instanceof ct&&i.op===s.op&&i.field.isEqual(s.field)&&ti(i.value,s.value)}(t,e):t instanceof Fn?function(i,s){return s instanceof Fn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&aT(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function lT(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"}(t):"Filter"}class rj extends ct{constructor(e,n,i){super(e,n,i),this.key=re.fromName(i.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class oj extends ct{constructor(e,n){super(e,"in",n),this.keys=uT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aj extends ct{constructor(e,n){super(e,"not-in",n),this.keys=uT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>re.fromName(i.referenceValue))}class lj extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&Dl(n.arrayValue,this.value)}}class uj extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class cj extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dl(this.value.arrayValue,n)}}class hj extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Dl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n=null,i=[],s=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.Pe=null}}function KE(t,e=null,n=[],i=[],s=null,r=null,o=null){return new dj(t,e,n,i,s,r,o)}function Qm(t){const e=fe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>hg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ao(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ao(i)).join(",")),e.Pe=n}return e.Pe}function Ym(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ij(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GE(t.startAt,e.startAt)&&GE(t.endAt,e.endAt)}function dg(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function fj(t,e,n,i,s,r,o,a){return new Xl(t,e,n,i,s,r,o,a)}function cT(t){return new Xl(t)}function QE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hT(t){return t.collectionGroup!==null}function el(t){const e=fe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const r of e.explicitOrderBy)e.Te.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Te.push(new Ah(r,i))}),n.has(Tt.keyField().canonicalString())||e.Te.push(new Ah(Tt.keyField(),i))}return e.Te}function Xn(t){const e=fe(t);return e.Ie||(e.Ie=pj(e,el(t))),e.Ie}function pj(t,e){if(t.limitType==="F")return KE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Ah(s.field,r)});const n=t.endAt?new Lh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Lh(t.startAt.position,t.startAt.inclusive):null;return KE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function fg(t,e){const n=t.filters.concat([e]);return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ih(t,e,n){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return Ym(Xn(t),Xn(e))&&t.limitType===e.limitType}function dT(t){return`${Qm(Xn(t))}|lt:${t.limitType}`}function zr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>lT(s)).join(", ")}]`),gd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ao(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ao(s)).join(",")),`Target(${i})`}(Xn(t))}; limitType=${t.limitType})`}function yd(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):re.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of el(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(o,a,l){const u=qE(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,el(i),s)||i.endAt&&!function(o,a,l){const u=qE(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,el(i),s))}(t,e)}function gj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fT(t){return(e,n)=>{let i=!1;for(const s of el(t)){const r=mj(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function mj(t,e,n){const i=t.field.isKeyField()?re.comparator(e.key,n.key):function(r,o,a){const l=o.data.field(r),u=a.data.field(r);return l!==null&&u!==null?Lo(l,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return Q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Xe(re.comparator);function Si(){return vj}const pT=new Xe(re.comparator);function Ra(...t){let e=pT;for(const n of t)e=e.insert(n.key,n);return e}function gT(t){let e=pT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function tr(){return tl()}function mT(){return tl()}function tl(){return new br(t=>t.toString(),(t,e)=>t.isEqual(e))}const yj=new Xe(re.comparator),_j=new mt(re.comparator);function Ee(...t){let e=_j;for(const n of t)e=e.add(n);return e}const wj=new mt(ve);function Ej(){return wj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function vT(t){return{integerValue:""+t}}function bj(t,e){return Q4(e)?vT(e):Xm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function xj(t,e,n){return t instanceof Nl?function(s,r){const o={fields:{[Z1]:{stringValue:X1},[eT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Gm(r)&&(r=md(r)),r&&(o.fields[J1]=r),{mapValue:o}}(n,e):t instanceof Vl?_T(t,e):t instanceof Fl?wT(t,e):function(s,r){const o=yT(s,r),a=YE(o)+YE(s.Ee);return cg(o)&&cg(s.Ee)?vT(a):Xm(s.serializer,a)}(t,e)}function Sj(t,e,n){return t instanceof Vl?_T(t,e):t instanceof Fl?wT(t,e):n}function yT(t,e){return t instanceof Mh?function(i){return cg(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Nl extends _d{}class Vl extends _d{constructor(e){super(),this.elements=e}}function _T(t,e){const n=ET(e);for(const i of t.elements)n.some(s=>ti(s,i))||n.push(i);return{arrayValue:{values:n}}}class Fl extends _d{constructor(e){super(),this.elements=e}}function wT(t,e){let n=ET(e);for(const i of t.elements)n=n.filter(s=>!ti(s,i));return{arrayValue:{values:n}}}class Mh extends _d{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function YE(t){return it(t.integerValue||t.doubleValue)}function ET(t){return Km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n){this.field=e,this.transform=n}}function Tj(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Vl&&s instanceof Vl||i instanceof Fl&&s instanceof Fl?Po(i.elements,s.elements,ti):i instanceof Mh&&s instanceof Mh?ti(i.Ee,s.Ee):i instanceof Nl&&s instanceof Nl}(t.transform,e.transform)}class kj{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function bT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ST(t.key,vi.none()):new Zl(t.key,t.data,vi.none());{const n=t.data,i=wn.empty();let s=new mt(Tt.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new xr(t.key,i,new Mn(s.toArray()),vi.none())}}function Pj(t,e,n){t instanceof Zl?function(s,r,o){const a=s.value.clone(),l=ZE(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xr?function(s,r,o){if(!Ac(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=ZE(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(xT(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nl(t,e,n,i){return t instanceof Zl?function(r,o,a,l){if(!Ac(r.precondition,o))return a;const u=r.value.clone(),c=JE(r.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof xr?function(r,o,a,l){if(!Ac(r.precondition,o))return a;const u=JE(r.fieldTransforms,l,o),c=o.data;return c.setAll(xT(r)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(r,o,a){return Ac(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Lj(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=yT(i.transform,s||null);r!=null&&(n===null&&(n=wn.empty()),n.set(i.field,r))}return n||null}function XE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Po(i,s,(r,o)=>Tj(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zl extends wd{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xr extends wd{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function xT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ZE(t,e,n){const i=new Map;Re(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,Sj(o,a,n[s]))}return i}function JE(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,xj(r,o,e))}return i}class ST extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aj extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&Pj(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=mT();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=bT(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,i)=>XE(n,i))&&Po(this.baseMutations,e.baseMutations,(n,i)=>XE(n,i))}}class Zm{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Re(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return yj}();const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Zm(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Te;function Oj(t){switch(t){case z.OK:return le(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function CT(t){if(t===void 0)return xi("GRPC error has no .code"),z.UNKNOWN;switch(t){case lt.OK:return z.OK;case lt.CANCELLED:return z.CANCELLED;case lt.UNKNOWN:return z.UNKNOWN;case lt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case lt.INTERNAL:return z.INTERNAL;case lt.UNAVAILABLE:return z.UNAVAILABLE;case lt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case lt.NOT_FOUND:return z.NOT_FOUND;case lt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case lt.ABORTED:return z.ABORTED;case lt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case lt.DATA_LOSS:return z.DATA_LOSS;default:return le(39323,{code:t})}}(Te=lt||(lt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=new us([4294967295,4294967295],0);function eb(t){const e=W1().encode(t),n=new V1;return n.update(e),new Uint8Array(n.digest())}function tb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new us([n,i],0),new us([s,r],0)]}class Jm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Oa(`Invalid padding: ${n}`);if(i<0)throw new Oa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=us.fromNumber(this.fe)}pe(e,n,i){let s=e.add(n.multiply(us.fromNumber(i)));return s.compare(Dj)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=eb(e),[i,s]=tb(n);for(let r=0;r<this.hashCount;r++){const o=this.pe(i,s,r);if(!this.ye(o))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Jm(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=eb(e),[i,s]=tb(n);for(let r=0;r<this.hashCount;r++){const o=this.pe(i,s,r);this.we(o)}}we(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ed(he.min(),s,new Xe(ve),Si(),Ee())}}class Jl{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Jl(i,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,i,s){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=s}}class TT{constructor(e,n){this.targetId=e,this.De=n}}class kT{constructor(e,n,i=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class nb{constructor(){this.ve=0,this.Ce=ib(),this.Fe=Lt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ee(),n=Ee(),i=Ee();return this.Ce.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:le(38017,{changeType:r})}}),new Jl(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=ib()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Nj{constructor(e){this.We=e,this.Ge=new Map,this.ze=Si(),this.je=nc(),this.Je=nc(),this.He=new Xe(ve)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,i=e.De.count,s=this.st(n);if(s){const r=s.target;if(dg(r))if(i===0){const o=new re(r.path);this.Xe(n,o,jt.newNoDocument(o,he.min()))}else Re(i===1,20013,{expectedCount:i});else{const o=this.ot(n);if(o!==i){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let o,a;try{o=_s(i).toUint8Array()}catch(l){if(l instanceof Y1)return ms("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Jm(o,s,r)}catch(l){return ms(l instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){const i=this.We.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,r,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((r,o)=>{const a=this.st(o);if(a){if(r.current&&dg(a.target)){const l=new re(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,jt.newNoDocument(l,e))}r.Ne&&(n.set(o,r.Le()),r.ke())}});let i=Ee();this.Je.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.ze.forEach((r,o)=>o.setReadTime(e));const s=new Ed(e,n,this.He,this.ze,i);return this.ze=Si(),this.je=nc(),this.Je=nc(),this.He=new Xe(ve),s}Ze(e,n){if(!this.nt(e))return;const i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new nb,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new mt(ve),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new mt(ve),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new nb),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function nc(){return new Xe(re.comparator)}function ib(){return new Xe(re.comparator)}const Vj={asc:"ASCENDING",desc:"DESCENDING"},Fj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jj={and:"AND",or:"OR"};class Bj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zj(t,e){return Rh(t,e.toTimestamp())}function Zn(t){return Re(!!t,49232),he.fromTimestamp(function(n){const i=ys(n);return new Ue(i.seconds,i.nanos)}(t))}function ev(t,e){return gg(t,e).canonicalString()}function gg(t,e){const n=function(s){return new Fe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LT(t){const e=Fe.fromString(t);return Re(OT(e),10190,{key:e.toString()}),e}function mg(t,e){return ev(t.databaseId,e.path)}function Vf(t,e){const n=LT(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(IT(n))}function AT(t,e){return ev(t.databaseId,e)}function Uj(t){const e=LT(t);return e.length===4?Fe.emptyPath():IT(e)}function vg(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IT(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sb(t,e,n){return{name:mg(t,e),fields:n.value.mapValue.fields}}function $j(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(u,c){return u.useProto3Json?(Re(c===void 0||typeof c=="string",58123),Lt.fromBase64String(c||"")):(Re(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Lt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?z.UNKNOWN:CT(u.code);return new ne(c,u.message||"")}(o);n=new kT(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Vf(t,i.document.name),r=Zn(i.document.updateTime),o=i.document.createTime?Zn(i.document.createTime):he.min(),a=new wn({mapValue:{fields:i.document.fields}}),l=jt.newFoundDocument(s,r,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new Ic(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Vf(t,i.document),r=i.readTime?Zn(i.readTime):he.min(),o=jt.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Ic([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Vf(t,i.document),r=i.removedTargetIds||[];n=new Ic([],r,s,null)}else{if(!("filter"in e))return le(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new Rj(s,r),a=i.targetId;n=new TT(a,o)}}return n}function Hj(t,e){let n;if(e instanceof Zl)n={update:sb(t,e.key,e.value)};else if(e instanceof ST)n={delete:mg(t,e.key)};else if(e instanceof xr)n={update:sb(t,e.key,e.data),updateMask:Jj(e.fieldMask)};else{if(!(e instanceof Aj))return le(16599,{Rt:e.type});n={verify:mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw le(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:zj(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:le(27497)}(t,e.precondition)),n}function Wj(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(s,r){let o=s.updateTime?Zn(s.updateTime):Zn(r);return o.isEqual(he.min())&&(o=Zn(r)),new kj(o,s.transformResults||[])}(n,e))):[]}function qj(t,e){return{documents:[AT(t,e.path)]}}function Gj(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=AT(t,s);const r=function(u){if(u.length!==0)return RT(Fn.create(u,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Ur(f.field),direction:Yj(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:s}}function Kj(t){let e=Uj(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Re(i===1,65062);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let r=[];n.where&&(r=function(d){const f=MT(d);return f instanceof Fn&&oT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(p){return new Ah($r(p.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,gd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new Lh(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,g=d.values||[];return new Lh(g,f)}(n.endAt)),fj(e,s,o,r,a,"F",l,u)}function Qj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=$r(n.unaryFilter.field);return ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=$r(n.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$r(n.unaryFilter.field);return ct.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$r(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create($r(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(i=>MT(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function Yj(t){return Vj[t]}function Xj(t){return Fj[t]}function Zj(t){return jj[t]}function Ur(t){return{fieldPath:t.canonicalString()}}function $r(t){return Tt.fromServerFormat(t.fieldPath)}function RT(t){return t instanceof ct?function(n){if(n.op==="=="){if(WE(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NAN"}};if(HE(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WE(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NOT_NAN"}};if(HE(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ur(n.field),op:Xj(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const i=n.getFilters().map(s=>RT(s));return i.length===1?i[0]:{compositeFilter:{op:Zj(n.op),filters:i}}}(t):le(54877,{filter:t})}function Jj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,i,s,r=he.min(),o=he.min(),a=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.gt=e}}function tB(t){const e=Kj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(){this.Dn=new iB}addToCollectionParentIndex(e,n){return this.Dn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(vs.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class iB{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new mt(Fe.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new mt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(DT,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Io(0)}static ur(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="LruGarbageCollector",sB=1048576;function ab([t,e],[n,i]){const s=ve(t,n);return s===0?ve(e,i):s}class rB{constructor(e){this.Tr=e,this.buffer=new mt(ab),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();ab(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oB{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(ob,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?te(ob,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Rr(3e5)})}}class aB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return U.resolve(pd.ue);const i=new rB(n);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(rb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rb):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,s,r,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(r=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(u=Date.now(),Br()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${r} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:d})))}}function lB(t,e){return new aB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.changes=new br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&nl(i.mutation,s,Mn.empty(),Ue.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ee()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ee()){const s=tr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=Ra();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=tr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ee()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,s){let r=Si();const o=tl(),a=function(){return tl()}();return n.forEach((l,u)=>{const c=i.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof xr)?r=r.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),nl(c.mutation,u,c.mutation.getFieldMask(),Ue.now())):o.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new cB(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=tl();let s=new Xe((o,a)=>o-a),r=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||Mn.empty();c=a.applyToLocalView(u,c),i.set(l,c);const d=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=mT();c.forEach(f=>{if(!r.has(f)){const g=bT(n.get(f),i.get(f));g!==null&&d.set(f,g),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):U.resolve(tr());let a=Ml,l=r;return o.next(u=>U.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),r.get(c)?U.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,l,u,Ee())).next(c=>({batchId:a,changes:gT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(i=>{let s=Ra();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,r).next(a=>U.forEach(a,l=>{const u=function(d,f){return new Xl(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,i,s).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(o=>{r.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,jt.newInvalidDocument(c)))});let a=Ra();return o.forEach((l,u)=>{const c=r.get(l);c!==void 0&&nl(c.mutation,u,Mn.empty(),Ue.now()),yd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return U.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:tB(s.bundledQuery),readTime:Zn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.overlays=new Xe(re.comparator),this.kr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=tr();return U.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.wt(e,n,r)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.kr.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const s=tr(),r=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Xe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=r.get(u.largestBatchId);c===null&&(c=tr(),r=r.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=tr(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return U.resolve(a)}wt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Mj(n,i));let r=this.kr.get(n);r===void 0&&(r=Ee(),this.kr.set(n,r)),this.kr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.qr=new mt(yt.Qr),this.$r=new mt(yt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const i=new yt(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new yt(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){const n=new re(new Fe([])),i=new yt(n,e),s=new yt(n,e+1),r=[];return this.$r.forEachInRange([i,s],o=>{this.Wr(o),r.push(o.key)}),r}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new re(new Fe([])),i=new yt(n,e),s=new yt(n,e+1);let r=Ee();return this.$r.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new yt(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class yt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return re.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new mt(yt.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ij(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new yt(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return U.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?qm:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),r=[];return this.Yr.forEachInRange([i,s],o=>{const a=this.Zr(o.Hr);r.push(a)}),U.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new mt(ve);return n.forEach(s=>{const r=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([r,o],a=>{i=i.add(a.Hr)})}),U.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;re.isDocumentKey(r)||(r=r.child(""));const o=new yt(new re(r),0);let a=new mt(ve);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Hr)),!0)},o),U.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return U.forEach(n.mutations,s=>{const r=new yt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){const i=new yt(n,0),s=this.Yr.firstAfterOrEqual(i);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.ni=e,this.docs=function(){return new Xe(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let i=Si();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():jt.newInvalidDocument(s))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Si();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||W4(H4(c),i)<=0||(s.has(c.key)||yd(n,c))&&(r=r.insert(c.key,c.mutableCopy()))}return U.resolve(r)}getAllFromCollectionGroup(e,n,i,s){le(9500)}ri(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new vB(this)}getSize(e){return U.resolve(this.size)}}class vB extends uB{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.persistence=e,this.ii=new br(n=>Qm(n),Ym),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.si=0,this.oi=new tv,this.targetCount=0,this._i=Io.ar()}forEachTarget(e,n){return this.ii.forEach((i,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),U.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.hr(n),U.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.ii.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(r).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.ii.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this.oi.Jr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.ai={},this.overlays={},this.ui=new pd(0),this.ci=!1,this.ci=!0,this.li=new pB,this.referenceDelegate=e(this),this.hi=new yB(this),this.indexManager=new nB,this.remoteDocumentCache=function(s){return new mB(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new eB(n),this.Ti=new dB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new gB(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){te("MemoryPersistence","Starting transaction:",e);const s=new _B(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(e,n){return U.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}}class _B extends G4{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Ai=new tv,this.Ri=null}static Vi(e){return new nv(e)}get mi(){if(this.Ri)return this.Ri;throw le(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.mi.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,i=>{const s=re.fromPath(i);return this.fi(e,s).next(r=>{r||n.removeEntry(s,he.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return U.or([()=>U.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.gi=new br(i=>Y4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=lB(this,n)}static Vi(e,n){return new Oh(e,n)}Ii(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return U.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(r=>r?U.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(i++,r.removeEntry(o,he.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pc(e.data.value)),n}Sr(e,n,i){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return U.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=s}static Es(e,n){let i=Ee(),s=Ee();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new iv(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return gF()?8:K4(fF())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ps(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ys(e,n,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new wB;return this.ws(e,n,o).next(a=>{if(r.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>r.result)}Ss(e,n,i,s){return i.documentReadCount<this.Vs?(Br()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",zr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Br()<=ke.DEBUG&&te("QueryEngine","Query:",zr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(Br()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",zr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):U.resolve())}ps(e,n){if(QE(n))return U.resolve(null);let i=Xn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ih(n,null,"F"),i=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=Ee(...r);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,Ih(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,i,s){return QE(n)||s.isEqual(he.min())?U.resolve(null):this.gs.getDocuments(e,i).next(r=>{const o=this.bs(n,r);return this.Ds(n,o,i,s)?U.resolve(null):(Br()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zr(n)),this.vs(e,o,n,$4(s,Ml)).next(a=>a))})}bs(e,n){let i=new mt(fT(e));return n.forEach((s,r)=>{yd(e,r)&&(i=i.add(r))}),i}Ds(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ws(e,n,i){return Br()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",zr(n)),this.gs.getDocumentsMatchingQuery(e,n,vs.min(),i)}vs(e,n,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="LocalStore",bB=3e8;class xB{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Xe(ve),this.Ms=new br(r=>Qm(r),Ym),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function SB(t,e,n,i){return new xB(t,e,n,i)}async function VT(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of r){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function CB(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let g=U.resolve();return f.forEach(p=>{g=g.next(()=>c.getEntry(l,p)).next(v=>{const E=u.docVersions.get(p);Re(E!==null,48541),v.version.compareTo(E)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function FT(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function TB(t,e){const n=fe(t),i=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((c,d)=>{const f=s.get(d);if(!f)return;a.push(n.hi.removeMatchingKeys(r,c.removedDocuments,d).next(()=>n.hi.addMatchingKeys(r,c.addedDocuments,d)));let g=f.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Lt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,i)),s=s.insert(d,g),function(v,E,b){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=bB?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,g,c)&&a.push(n.hi.updateTargetData(r,g))});let l=Si(),u=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,c))}),a.push(kB(r,o,e.documentUpdates).next(c=>{l=c.Ls,u=c.ks})),!i.isEqual(he.min())){const c=n.hi.getLastRemoteSnapshotVersion(r).next(d=>n.hi.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(c)}return U.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,u)).next(()=>l)}).then(r=>(n.Fs=s,r))}function kB(t,e,n){let i=Ee(),s=Ee();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=Si();return n.forEach((a,l)=>{const u=r.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(sv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function PB(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=qm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function LB(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.hi.getTargetData(i,e).next(r=>r?(s=r,U.resolve(s)):n.hi.allocateTargetId(i).next(o=>(s=new Xi(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}async function yg(t,e,n){const i=fe(t),s=i.Fs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Uo(o))throw o;te(sv,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function lb(t,e,n){const i=fe(t);let s=he.min(),r=Ee();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=fe(l),f=d.Ms.get(c);return f!==void 0?U.resolve(d.Fs.get(f)):d.hi.getTargetData(u,c)}(i,o,Xn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Cs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?r:Ee())).next(a=>(AB(i,gj(e),a),{documents:a,qs:r})))}function AB(t,e,n){let i=t.xs.get(e)||he.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.xs.set(e,i)}class ub{constructor(){this.activeTargetIds=Ej()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IB{constructor(){this.Fo=new ub,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ub,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="ConnectivityMonitor";class hb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(cb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){te(cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function _g(){return ic===null?ic=function(){return 268435456+Math.round(2147483648*Math.random())}():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",RB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OB{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===kh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,r){const o=_g(),a=this.Go(e,n.toUriEncodedString());te(Ff,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,r);const{host:u}=new URL(a),c=Um(u);return this.jo(e,a,l,i,c).then(d=>(te(Ff,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ms(Ff,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",i),d})}Jo(e,n,i,s,r,o){return this.Wo(e,n,i,s,r)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}Go(e,n){const i=RB[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class NB extends OB{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,s,r){const o=_g();return new Promise((a,l)=>{const u=new F1;u.setWithCredentials(!0),u.listenOnce(j1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kc.NO_ERROR:const d=u.getResponseJson();te(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case kc.TIMEOUT:te(Ot,`RPC '${e}' ${o} timed out`),l(new ne(z.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const f=u.getStatus();if(te(Ot,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const v=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(p.status);l(new ne(v,p.message))}else l(new ne(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(z.UNAVAILABLE,"Connection failed."));break;default:le(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{te(Ot,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(s);te(Ot,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",c,i,15)})}P_(e,n,i){const s=_g(),r=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=U1(),a=z1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=r.join("");te(Ot,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);this.T_(d);let f=!1,g=!1;const p=new DB({Ho:E=>{g?te(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(te(Ot,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),te(Ot,`RPC '${e}' stream ${s} sending:`,E),d.send(E))},Yo:()=>d.close()}),v=(E,b,_)=>{E.listen(b,T=>{try{_(T)}catch(k){setTimeout(()=>{throw k},0)}})};return v(d,Ma.EventType.OPEN,()=>{g||(te(Ot,`RPC '${e}' stream ${s} transport opened.`),p.s_())}),v(d,Ma.EventType.CLOSE,()=>{g||(g=!0,te(Ot,`RPC '${e}' stream ${s} transport closed`),p.__(),this.I_(d))}),v(d,Ma.EventType.ERROR,E=>{g||(g=!0,ms(Ot,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),p.__(new ne(z.UNAVAILABLE,"The operation could not be completed")))}),v(d,Ma.EventType.MESSAGE,E=>{var b;if(!g){const _=E.data[0];Re(!!_,16349);const T=_,k=(T==null?void 0:T.error)||((b=T[0])===null||b===void 0?void 0:b.error);if(k){te(Ot,`RPC '${e}' stream ${s} received error:`,k);const P=k.status;let R=function(C){const L=lt[C];if(L!==void 0)return CT(L)}(P),S=k.message;R===void 0&&(R=z.INTERNAL,S="Unknown error status: "+P+" with message "+k.message),g=!0,p.__(new ne(R,S)),d.close()}else te(Ot,`RPC '${e}' stream ${s} received:`,_),p.a_(_)}}),v(a,B1.STAT_EVENT,E=>{E.stat===ag.PROXY?te(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===ag.NOPROXY&&te(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t){return new Bj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=s,this.A_=r,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="PersistentStream";class BT{constructor(e,n,i,s,r,o,a,l){this.Fi=e,this.w_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new jT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===n&&this.W_(i,s)},i=>{e(()=>{const s=new ne(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,n){const i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(db,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(te(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VB extends BT{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=$j(this.serializer,e),i=function(r){if(!("targetChange"in r))return he.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Zn(o.readTime):he.min()}(e);return this.listener.J_(n,i)}H_(e){const n={};n.database=vg(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=dg(l)?{documents:qj(r,l)}:{query:Gj(r,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=PT(r,o.resumeToken);const u=pg(r,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Rh(r,o.snapshotVersion.toTimestamp());const u=pg(r,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const i=Qj(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){const n={};n.database=vg(this.serializer),n.removeTarget=e,this.k_(n)}}class FB extends BT{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Wj(e.writeResults,e.commitTime),i=Zn(e.commitTime);return this.listener.ta(i,n)}na(){const e={};e.database=vg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Hj(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{}class BB extends jB{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Wo(e,gg(n,i),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ne(z.UNKNOWN,r.toString())})}Jo(e,n,i,s,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,gg(n,i),s,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(z.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class zB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xi(n),this._a=!1):te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="RemoteStore";class UB{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=r,this.Ea.xo(o=>{i.enqueueAndForget(async()=>{Sr(this)&&(te(mr,"Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.Ia.add(4),await eu(u),u.Aa.set("Unknown"),u.Ia.delete(4),await xd(u)}(this))})}),this.Aa=new zB(i,s)}}async function xd(t){if(Sr(t))for(const e of t.da)await e(!0)}async function eu(t){for(const e of t.da)await e(!1)}function zT(t,e){const n=fe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),lv(n)?av(n):$o(n).x_()&&ov(n,e))}function rv(t,e){const n=fe(t),i=$o(n);n.Ta.delete(e),i.x_()&&UT(n,e),n.Ta.size===0&&(i.x_()?i.B_():Sr(n)&&n.Aa.set("Unknown"))}function ov(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(t).H_(e)}function UT(t,e){t.Ra.$e(e),$o(t).Y_(e)}function av(t){t.Ra=new Nj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.Aa.aa()}function lv(t){return Sr(t)&&!$o(t).M_()&&t.Ta.size>0}function Sr(t){return fe(t).Ia.size===0}function $T(t){t.Ra=void 0}async function $B(t){t.Aa.set("Online")}async function HB(t){t.Ta.forEach((e,n)=>{ov(t,e)})}async function WB(t,e){$T(t),lv(t)?(t.Aa.la(e),av(t)):t.Aa.set("Unknown")}async function qB(t,e,n){if(t.Aa.set("Online"),e instanceof kT&&e.state===2&&e.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(i){te(mr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dh(t,i)}else if(e instanceof Ic?t.Ra.Ye(e):e instanceof TT?t.Ra.it(e):t.Ra.et(e),!n.isEqual(he.min()))try{const i=await FT(t.localStore);n.compareTo(i)>=0&&await function(r,o){const a=r.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=r.Ta.get(u);c&&r.Ta.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=r.Ta.get(l);if(!c)return;r.Ta.set(l,c.withResumeToken(Lt.EMPTY_BYTE_STRING,c.snapshotVersion)),UT(r,l);const d=new Xi(c.target,l,u,c.sequenceNumber);ov(r,d)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){te(mr,"Failed to raise snapshot:",i),await Dh(t,i)}}async function Dh(t,e,n){if(!Uo(e))throw e;t.Ia.add(1),await eu(t),t.Aa.set("Offline"),n||(n=()=>FT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(mr,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await xd(t)})}function HT(t,e){return e().catch(n=>Dh(t,n,e))}async function Sd(t){const e=fe(t),n=Es(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qm;for(;GB(e);)try{const s=await PB(e.localStore,i);if(s===null){e.Pa.length===0&&n.B_();break}i=s.batchId,KB(e,s)}catch(s){await Dh(e,s)}WT(e)&&qT(e)}function GB(t){return Sr(t)&&t.Pa.length<10}function KB(t,e){t.Pa.push(e);const n=Es(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function WT(t){return Sr(t)&&!Es(t).M_()&&t.Pa.length>0}function qT(t){Es(t).start()}async function QB(t){Es(t).na()}async function YB(t){const e=Es(t);for(const n of t.Pa)e.X_(n.mutations)}async function XB(t,e,n){const i=t.Pa.shift(),s=Zm.from(i,e,n);await HT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Sd(t)}async function ZB(t,e){e&&Es(t).Z_&&await async function(i,s){if(function(o){return Oj(o)&&o!==z.ABORTED}(s.code)){const r=i.Pa.shift();Es(i).N_(),await HT(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Sd(i)}}(t,e),WT(t)&&qT(t)}async function fb(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),te(mr,"RemoteStore received new credentials");const i=Sr(n);n.Ia.add(3),await eu(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await xd(n)}async function JB(t,e){const n=fe(t);e?(n.Ia.delete(2),await xd(n)):e||(n.Ia.add(2),await eu(n),n.Aa.set("Unknown"))}function $o(t){return t.Va||(t.Va=function(n,i,s){const r=fe(n);return r.ia(),new VB(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:$B.bind(null,t),e_:HB.bind(null,t),n_:WB.bind(null,t),J_:qB.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),lv(t)?av(t):t.Aa.set("Unknown")):(await t.Va.stop(),$T(t))})),t.Va}function Es(t){return t.ma||(t.ma=function(n,i,s){const r=fe(n);return r.ia(),new FB(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:QB.bind(null,t),n_:ZB.bind(null,t),ea:YB.bind(null,t),ta:XB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Sd(t)):(await t.ma.stop(),t.Pa.length>0&&(te(mr,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,a=new uv(e,n,o,s,r);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(t,e){if(xi("AsyncQueue",`${e}: ${t}`),Uo(t))return new ne(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||re.comparator(n.key,i.key):(n,i)=>re.comparator(n.key,i.key),this.keyedMap=Ra(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.fa=new Xe(re.comparator)}track(e){const n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):le(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Mo{constructor(e,n,i,s,r,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mo(e,n,fo.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class t5{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const s=fe(n),r=s.queries;s.queries=gb(),r.forEach((o,a)=>{for(const l of a.wa)l.onError(i)})})(this,new ne(z.ABORTED,"Firestore shutting down"))}}function gb(){return new br(t=>dT(t),vd)}async function n5(t,e){const n=fe(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Sa()&&e.ba()&&(i=2):(r=new e5,i=e.ba()?0:1);try{switch(i){case 0:r.ya=await n.onListen(s,!0);break;case 1:r.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=cv(o,`Initialization of query '${zr(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,r),r.wa.push(e),e.va(n.onlineState),r.ya&&e.Ca(r.ya)&&hv(n)}async function i5(t,e){const n=fe(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const o=r.wa.indexOf(e);o>=0&&(r.wa.splice(o,1),r.wa.length===0?s=e.ba()?0:1:!r.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function s5(t,e){const n=fe(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.wa)a.Ca(s)&&(i=!0);o.ya=s}}i&&hv(n)}function r5(t,e,n){const i=fe(t),s=i.queries.get(e);if(s)for(const r of s.wa)r.onError(n);i.queries.delete(e)}function hv(t){t.Da.forEach(e=>{e.next()})}var wg,mb;(mb=wg||(wg={})).Fa="default",mb.Cache="cache";class o5{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class KT{constructor(e){this.key=e}}class a5{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ee(),this.mutatedKeys=Ee(),this.Xa=fT(e),this.eu=new fo(this.Xa)}get tu(){return this.Ha}nu(e,n){const i=n?n.ru:new pb,s=n?n.eu:this.eu;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,d)=>{const f=s.get(c),g=yd(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;f&&g?f.data.isEqual(g.data)?p!==v&&(i.track({type:3,doc:g}),E=!0):this.iu(f,g)||(i.track({type:2,doc:g}),E=!0,(l&&this.Xa(g,l)>0||u&&this.Xa(g,u)<0)&&(a=!0)):!f&&g?(i.track({type:0,doc:g}),E=!0):f&&!g&&(i.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(g?(o=o.add(g),r=v?r.add(c):r.delete(c)):(o=o.delete(c),r=r.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),r=r.delete(c.key),i.track({type:1,doc:c})}return{eu:o,ru:i,Ds:a,mutatedKeys:r}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((c,d)=>function(g,p){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{At:E})}};return v(g)-v(p)}(c.type,d.type)||this.Xa(c.doc,d.doc)),this.su(i),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new Mo(this.query,e.eu,r,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new pb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ee(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new KT(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new GT(i))}),n}uu(e){this.Ha=e.qs,this.Za=Ee();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Mo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const dv="SyncEngine";class l5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class u5{constructor(e){this.key=e,this.lu=!1}}class c5{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new br(a=>dT(a),vd),this.Tu=new Map,this.Iu=new Set,this.du=new Xe(re.comparator),this.Eu=new Map,this.Au=new tv,this.Ru={},this.Vu=new Map,this.mu=Io.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function h5(t,e,n=!0){const i=ek(t);let s;const r=i.Pu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.cu()):s=await QT(i,e,n,!0),s}async function d5(t,e){const n=ek(t);await QT(n,e,!0,!1)}async function QT(t,e,n,i){const s=await LB(t.localStore,Xn(e)),r=s.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let a;return i&&(a=await f5(t,e,r,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&zT(t.remoteStore,s),a}async function f5(t,e,n,i,s){t.gu=(d,f,g)=>async function(v,E,b,_){let T=E.view.nu(b);T.Ds&&(T=await lb(v.localStore,E.query,!1).then(({documents:S})=>E.view.nu(S,T)));const k=_&&_.targetChanges.get(E.targetId),P=_&&_.targetMismatches.get(E.targetId)!=null,R=E.view.applyChanges(T,v.isPrimaryClient,k,P);return yb(v,E.targetId,R._u),R.snapshot}(t,d,f,g);const r=await lb(t.localStore,e,!0),o=new a5(e,r.qs),a=o.nu(r.documents),l=Jl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);yb(t,n,u._u);const c=new l5(e,n,o);return t.Pu.set(e,c),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function p5(t,e,n){const i=fe(t),s=i.Pu.get(e),r=i.Tu.get(s.targetId);if(r.length>1)return i.Tu.set(s.targetId,r.filter(o=>!vd(o,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await yg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&rv(i.remoteStore,s.targetId),Eg(i,s.targetId)}).catch(zo)):(Eg(i,s.targetId),await yg(i.localStore,s.targetId,!0))}async function g5(t,e){const n=fe(t),i=n.Pu.get(e),s=n.Tu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),rv(n.remoteStore,i.targetId))}async function m5(t,e,n){const i=x5(t);try{const s=await function(o,a){const l=fe(o),u=Ue.now(),c=a.reduce((g,p)=>g.add(p.key),Ee());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let p=Si(),v=Ee();return l.Os.getEntries(g,c).next(E=>{p=E,p.forEach((b,_)=>{_.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,p)).next(E=>{d=E;const b=[];for(const _ of a){const T=Lj(_,d.get(_.key).overlayedDocument);T!=null&&b.push(new xr(_.key,T,iT(T.value.mapValue),vi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,b,a)}).next(E=>{f=E;const b=E.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,b)})}).then(()=>({batchId:f.batchId,changes:gT(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new Xe(ve)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(i,s.batchId,n),await tu(i,s.changes),await Sd(i.remoteStore)}catch(s){const r=cv(s,"Failed to persist write");n.reject(r)}}async function YT(t,e){const n=fe(t);try{const i=await TB(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.Eu.get(r);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?Re(o.lu,14607):s.removedDocuments.size>0&&(Re(o.lu,42227),o.lu=!1))}),await tu(n,i,e)}catch(i){await zo(i)}}function vb(t,e,n){const i=fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Pu.forEach((r,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.wa)f.va(a)&&(u=!0)}),u&&hv(l)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function v5(t,e,n){const i=fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),r=s&&s.key;if(r){let o=new Xe(re.comparator);o=o.insert(r,jt.newNoDocument(r,he.min()));const a=Ee().add(r),l=new Ed(he.min(),new Map,new Xe(ve),o,a);await YT(i,l),i.du=i.du.remove(r),i.Eu.delete(e),fv(i)}else await yg(i.localStore,e,!1).then(()=>Eg(i,e,n)).catch(zo)}async function y5(t,e){const n=fe(t),i=e.batch.batchId;try{const s=await CB(n.localStore,e);ZT(n,i,null),XT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await tu(n,s)}catch(s){await zo(s)}}async function _5(t,e,n){const i=fe(t);try{const s=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Re(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,e);ZT(i,e,n),XT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await tu(i,s)}catch(s){await zo(s)}}function XT(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function ZT(t,e,n){const i=fe(t);let s=i.Ru[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function Eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||JT(t,i)})}function JT(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rv(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),fv(t))}function yb(t,e,n){for(const i of n)i instanceof GT?(t.Au.addReference(i.key,e),w5(t,i)):i instanceof KT?(te(dv,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||JT(t,i.key)):le(19791,{yu:i})}function w5(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(te(dv,"New document in limbo: "+n),t.Iu.add(i),fv(t))}function fv(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new re(Fe.fromString(e)),i=t.mu.next();t.Eu.set(i,new u5(n)),t.du=t.du.insert(n,i),zT(t.remoteStore,new Xi(Xn(cT(n.path)),i,"TargetPurposeLimboResolution",pd.ue))}}async function tu(t,e,n){const i=fe(t),s=[],r=[],o=[];i.Pu.isEmpty()||(i.Pu.forEach((a,l)=>{o.push(i.gu(l,e,n).then(u=>{var c;if((u||n)&&i.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){s.push(u);const d=iv.Es(l.targetId,u);r.push(d)}}))}),await Promise.all(o),i.hu.J_(s),await async function(l,u){const c=fe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(u,f=>U.forEach(f.Is,g=>c.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>U.forEach(f.ds,g=>c.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Uo(d))throw d;te(sv,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const g=c.Fs.get(f),p=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(p);c.Fs=c.Fs.insert(f,v)}}}(i.localStore,r))}async function E5(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){te(dv,"User change. New user:",e.toKey());const i=await VT(n.localStore,e);n.currentUser=e,function(r,o){r.Vu.forEach(a=>{a.forEach(l=>{l.reject(new ne(z.CANCELLED,o))})}),r.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tu(n,i.Bs)}}function b5(t,e){const n=fe(t),i=n.Eu.get(e);if(i&&i.lu)return Ee().add(i.key);{let s=Ee();const r=n.Tu.get(e);if(!r)return s;for(const o of r){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function ek(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v5.bind(null,e),e.hu.J_=s5.bind(null,e.eventManager),e.hu.pu=r5.bind(null,e.eventManager),e}function x5(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_5.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return SB(this.persistence,new EB,e.initialUser,this.serializer)}Du(e){return new NT(nv.Vi,this.serializer)}bu(e){return new IB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class S5 extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Re(this.persistence.referenceDelegate instanceof Oh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oB(i,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new NT(i=>Oh.Vi(i,n),this.serializer)}}class bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E5.bind(null,this.syncEngine),await JB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t5}()}createDatastore(e){const n=bd(e.databaseInfo.databaseId),i=function(r){return new NB(r)}(e.databaseInfo);return function(r,o,a,l){return new BB(r,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,o,a){return new UB(i,s,r,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vb(this.syncEngine,n,0),function(){return hb.C()?new hb:new MB}())}createSyncEngine(e,n){return function(s,r,o,a,l,u,c){const d=new c5(s,r,o,a,l,u);return c&&(d.fu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=fe(s);te(mr,"RemoteStore shutting down."),r.Ia.add(5),await eu(r),r.Ea.shutdown(),r.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bg.provider={build:()=>new bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class T5{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Nt.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async o=>{te(bs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(te(bs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=cv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bf(t,e){t.asyncQueue.verifyOperationInProgress(),te(bs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await VT(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{ms("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{ms("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function _b(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k5(t);te(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>fb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>fb(e.remoteStore,s)),t._onlineComponents=e}async function k5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(bs,"Using user provided OfflineComponentProvider");try{await Bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ms("Error using user provided cache. Falling back to memory cache: "+n),await Bf(t,new Nh)}}else te(bs,"Using default OfflineComponentProvider"),await Bf(t,new S5(void 0));return t._offlineComponents}async function tk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(bs,"Using user provided OnlineComponentProvider"),await _b(t,t._uninitializedComponentsProvider._online)):(te(bs,"Using default OnlineComponentProvider"),await _b(t,new bg))),t._onlineComponents}function P5(t){return tk(t).then(e=>e.syncEngine)}async function L5(t){const e=await tk(t),n=e.eventManager;return n.onListen=h5.bind(null,e.syncEngine),n.onUnlisten=p5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g5.bind(null,e.syncEngine),n}function A5(t,e,n={}){const i=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,u){const c=new C5({next:f=>{c.Ou(),o.enqueueAndForget(()=>i5(r,d)),f.fromCache&&l.source==="server"?u.reject(new ne(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new o5(a,c,{includeMetadataChanges:!0,ka:!0});return n5(r,d)}(await L5(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firestore.googleapis.com",Eb=!0;class bb{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ik,this.ssl=Eb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Eb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sB)throw new ne(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new R4;switch(i.type){case"firstParty":return new V4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ne(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=wb.get(n);i&&(te("ComponentProvider","Removing Datastore"),wb.delete(n),i.terminate())}(this),Promise.resolve()}}function I5(t,e,n,i={}){var s;t=Ch(t,Cd);const r=Um(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;r&&(lF(`https://${l}`),dF("Firestore",!0)),o.host!==ik&&o.host!==l&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:r,emulatorOptions:i});if(!bh(u,a)&&(t._setSettings(u),i.mockUserToken)){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=Nt.MOCK_USER;else{c=uF(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ne(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Nt(f)}t._authCredentials=new O4(new H1(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Cr(this.firestore,e,this._query)}}class Et{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Yl(n,Et._jsonSchema))return new Et(e,i||null,new re(Fe.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:ht("string",Et._jsonSchemaVersion),referencePath:ht("string")};class hs extends Cr{constructor(e,n,i){super(e,n,cT(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new re(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function xb(t,e,...n){if(t=ko(t),q1("collection","path",e),t instanceof Cd){const i=Fe.fromString(e,...n);return DE(i),new hs(t,null,i)}{if(!(t instanceof Et||t instanceof hs))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Fe.fromString(e,...n));return DE(i),new hs(t.firestore,null,i)}}function M5(t,e,...n){if(t=ko(t),arguments.length===1&&(e=Wm.newId()),q1("doc","path",e),t instanceof Cd){const i=Fe.fromString(e,...n);return OE(i),new Et(t,null,new re(i))}{if(!(t instanceof Et||t instanceof hs))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Fe.fromString(e,...n));return OE(i),new Et(t.firestore,t instanceof hs?t.converter:null,new re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="AsyncQueue";class Cb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new jT(this,"async_queue_retry"),this.oc=()=>{const i=jf();i&&te(Sb,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new cs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Uo(e))throw e;te(Sb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,xi("INTERNAL UNHANDLED ERROR: ",Tb(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=uv.createAndSchedule(this,e,n,i,r=>this.lc(r));return this.ec.push(s),s}ac(){this.tc&&le(47125,{hc:Tb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Tb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pv extends Cd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Cb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cb(e),this._firestoreClient=void 0,await e}}}function R5(t,e){const n=typeof t=="object"?t:b4(),i=typeof t=="string"?t:kh,s=v4(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=oF("firestore");r&&I5(s,...r)}return s}function sk(t){if(t._terminated)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O5(t),t._firestoreClient}function O5(t){var e,n,i;const s=t._freezeSettings(),r=function(a,l,u,c){return new J4(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,nk(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new T5(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(Lt.fromBase64String(e))}catch(n){throw new ne(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yl(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:ht("string",En._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jn._jsonSchemaVersion}}static fromJSON(e){if(Yl(e,Jn._jsonSchema))return new Jn(e.latitude,e.longitude)}}Jn._jsonSchemaVersion="firestore/geoPoint/1.0",Jn._jsonSchema={type:ht("string",Jn._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yl(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ei(e.vectorValues);throw new ne(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:ht("string",ei._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=/^__.*__$/;class N5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(e,this.data,n,this.fieldTransforms)}}function rk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ec:t})}}class vv{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ac(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Vh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(rk(this.Ec)&&D5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class V5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||bd(e)}Dc(e,n,i,s=!1){return new vv({Ec:e,methodName:n,bc:i,path:Tt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ok(t){const e=t._freezeSettings(),n=bd(t._databaseId);return new V5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F5(t,e,n,i,s,r={}){const o=t.Dc(r.merge||r.mergeFields?2:0,e,n,s);uk("Data must be an object, but it was:",o,i);const a=ak(i,o);let l,u;if(r.merge)l=new Mn(o.fieldMask),u=o.fieldTransforms;else if(r.mergeFields){const c=[];for(const d of r.mergeFields){const f=B5(e,d,n);if(!o.contains(f))throw new ne(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);U5(c,f)||c.push(f)}l=new Mn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new N5(new wn(a),l,u)}class yv extends mv{_toFieldTransform(e){return new Cj(e.path,new Nl)}isEqual(e){return e instanceof yv}}function j5(t,e,n,i=!1){return _v(n,t.Dc(i?4:3,e))}function _v(t,e){if(lk(t=ko(t)))return uk("Unsupported field value:",e,t),ak(t,e);if(t instanceof mv)return function(i,s){if(!rk(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=_v(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=ko(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bj(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Ue.fromDate(i);return{timestampValue:Rh(s.serializer,r)}}if(i instanceof Ue){const r=new Ue(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rh(s.serializer,r)}}if(i instanceof Jn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof En)return{bytesValue:PT(s.serializer,i._byteString)};if(i instanceof Et){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ev(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ei)return function(o,a){return{mapValue:{fields:{[tT]:{stringValue:nT},[Ph]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Xm(a.serializer,u)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${fd(i)}`)}(t,e)}function ak(t,e){const n={};return Q1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(t,(i,s)=>{const r=_v(s,e.Vc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function lk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Jn||t instanceof En||t instanceof Et||t instanceof mv||t instanceof ei)}function uk(t,e,n){if(!lk(n)||!G1(n)){const i=fd(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function B5(t,e,n){if((e=ko(e))instanceof gv)return e._internalPath;if(typeof e=="string")return ck(t,e);throw Vh("Field path arguments must be of type string or ",t,!1,void 0,n)}const z5=new RegExp("[~\\*/\\[\\]]");function ck(t,e,n){if(e.search(z5)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gv(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vh(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new ne(z.INVALID_ARGUMENT,a+t+l)}function U5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $5 extends hk{data(){return super.data()}}function dk(t,e){return typeof e=="string"?ck(t,e):e instanceof gv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}class fk extends wv{}function W5(t,e,...n){let i=[];e instanceof wv&&i.push(e),i=i.concat(n),function(r){const o=r.filter(l=>l instanceof bv).length,a=r.filter(l=>l instanceof Ev).length;if(o>1||o>0&&a>0)throw new ne(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Ev extends fk{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ev(e,n,i)}_apply(e){const n=this._parse(e);return pk(e._query,n),new Cr(e.firestore,e.converter,fg(e._query,n))}_parse(e){const n=ok(e.firestore);return function(r,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Pb(d,c);const p=[];for(const v of d)p.push(kb(l,r,v));f={arrayValue:{values:p}}}else f=kb(l,r,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Pb(d,c),f=j5(a,o,d,c==="in"||c==="not-in");return ct.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bv extends wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bv(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let o=s;const a=r.getFlattenedFilters();for(const l of a)pk(o,l),o=fg(o,l)}(e._query,n),new Cr(e.firestore,e.converter,fg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xv extends fk{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new xv(e,n,i)}_apply(e){return new Cr(e.firestore,e.converter,Ih(e._query,this._limit,this._limitType))}}function q5(t){return xv._create("limit",t,"F")}function kb(t,e,n){if(typeof(n=ko(n))=="string"){if(n==="")throw new ne(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(e)&&n.indexOf("/")!==-1)throw new ne(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Fe.fromString(n));if(!re.isDocumentKey(i))throw new ne(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $E(t,new re(i))}if(n instanceof Et)return $E(t,n._key);throw new ne(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function Pb(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pk(t,e){const n=function(s,r){for(const o of s)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class G5{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Er(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[Ph].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(o=>it(o.doubleValue));return new ei(r)}convertGeoPoint(e){return new Jn(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=md(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const n=ys(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Fe.fromString(e);Re(OT(i),9688,{name:e});const s=new Ol(i.get(1),i.get(3)),r=new re(i.popFirst(5));return s.isEqual(n)||xi(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends hk{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(dk("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:ht("string",po._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class Mc extends po{data(e={}){return super.data(e)}}class go{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new sc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Mc(this._firestore,this._userDataWriter,i.key,i,new sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new sc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new Mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new sc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Q5(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Q5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:ht("string",go._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class Y5 extends G5{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function X5(t){t=Ch(t,Cr);const e=Ch(t.firestore,pv),n=sk(e),i=new Y5(e);return H5(t._query),A5(n,t._query).then(s=>new go(e,i,t,s))}function Z5(t,e){const n=Ch(t.firestore,pv),i=M5(t),s=K5(t.converter,e);return J5(n,[F5(ok(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,vi.exists(!1))]).then(()=>i)}function J5(t,e){return function(i,s){const r=new cs;return i.asyncQueue.enqueueAndForget(async()=>m5(await P5(i),s,r)),r.promise}(sk(t),e)}function e3(){return new yv("serverTimestamp")}(function(e,n=!0){(function(s){Bo=s})(E4),Sh(new Al("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new pv(new D4(i.getProvider("auth-internal")),new F4(o,i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(u.options.projectId,c)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),ho(LE,AE,e),ho(LE,AE,"esm2017")})();cd.register(...Q2);var t3="firebase",n3="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(t3,n3,"app");const i3={apiKey:"AIzaSyDcV4MPAGtzgDJxmf7qMN2MCTCh2NIuxpc",authDomain:"air-quality-and-health-alert.firebaseapp.com",projectId:"air-quality-and-health-alert",storageBucket:"air-quality-and-health-alert.firebasestorage.app",messagingSenderId:"783350047960",appId:"1:783350047960:web:d39ef4daa4d6b8c06f23ad"},s3=O1(i3),Lb=R5(s3);function r3(){const[t,e]=y.useState(""),[n,i]=y.useState(null),[s,r]=y.useState(""),[o,a]=y.useState(""),[l,u]=y.useState(null),[c,d]=y.useState("#2ecc71"),[f,g]=y.useState({lat:28.6139,lng:77.209}),[p,v]=y.useState("Idle"),[E,b]=y.useState("off"),[_,T]=y.useState("checking"),k=y.useRef(null),P=y.useMemo(()=>[{name:"Asthma & COPD flare-ups",prevention:"Use N95 outside; keep inhalers ready; limit exertion"},{name:"Cardio stress (hypertension)",prevention:"Stay indoors; hydrate; avoid heavy workouts"},{name:"Allergic rhinitis / sore throat",prevention:"Mask outdoors; saline gargle; keep windows closed"},{name:"Eye irritation",prevention:"Protective glasses; avoid rubbing eyes; use artificial tears"},{name:"Headache & fatigue",prevention:"Reduce outdoor time; rest; stay hydrated"}],[]);SN({googleMapsApiKey:"",id:"google-map-script"}),y.useEffect(()=>{if(!("geolocation"in navigator)){v("Geolocation not supported");return}const I=navigator.geolocation.watchPosition($=>{g({lat:$.coords.latitude,lng:$.coords.longitude}),v("Live")},$=>{v($.message||"Unable to get location")},{enableHighAccuracy:!0,maximumAge:1e4,timeout:1e4});return()=>navigator.geolocation.clearWatch(I)},[]);const R=()=>Array.from({length:6},()=>Math.floor(Math.random()*200)+30),S=I=>I<=50?["Air quality is good. No precautions needed.","Stay active outdoors.","#2ecc71"]:I<=100?["Moderate air quality. Sensitive groups should take caution.","Limit prolonged outdoor activity if you have respiratory issues.","#f1c40f"]:I<=150?["Unhealthy for sensitive groups.","Reduce outdoor activity. Use mask if needed.","#e67e22"]:I<=200?["Unhealthy.","Avoid outdoor activity. People with health issues should stay indoors.","#e74c3c"]:I<=300?["Very Unhealthy.","Stay indoors. Wear N95 masks if you go outside.","#8e44ad"]:["Hazardous!","Avoid all outdoor activity. Keep windows closed.","#34495e"],x=async()=>{if(!("Notification"in window))return b("unsupported");if(Notification.permission==="granted"){b("granted");return}const I=await Notification.requestPermission();b(I)},C=(I,$)=>{if(E==="granted")try{new Notification(I,{body:$})}catch(q){console.warn("Notification error",q)}},L=async({source:I="manual"}={})=>{if(!(!t&&!f))try{const $="5e229522a40e5a7c1980cd67c4d29ad75822bd92",q=t?`https://api.waqi.info/feed/${t}/?token=${$}`:`https://api.waqi.info/feed/geo:${f.lat};${f.lng}/?token=${$}`,X=await ot.get(q);if(X.data.status!=="ok"){alert("City not found or API error");return}const J=Number(X.data.data.aqi??0);i(J);const[F,H,G]=S(J);r(F),a(H),d(G);const ee=t||"Your location";I==="manual"&&alert(`Current AQI in ${ee} is ${J}`),J>=150&&C("AQI Alert",`${ee} AQI is ${J}. ${F}`);try{await Z5(xb(Lb,"aqi_readings"),{label:ee,city:t||null,coords:f,aqi:J,advice:F,prevention:H,source:I,createdAt:e3()})}catch(oe){console.warn("Failed to log to Firestore",oe)}const Z=[...R(),J],K=Array.from({length:7},(oe,j)=>{const ue=new Date;return ue.setDate(ue.getDate()-6+j),ue.toLocaleDateString("en-US",{month:"short",day:"numeric"})});u({labels:K,datasets:[{label:"AQI",data:Z,fill:!1,borderColor:G,tension:.3,pointBackgroundColor:G}]})}catch($){alert("Error fetching AQI"),console.error($)}};y.useEffect(()=>{if(p!=="Live")return;const I=k.current;if(I){const $=Math.abs(I.lat-f.lat),q=Math.abs(I.lng-f.lng);if($<5e-4&&q<5e-4)return}k.current=f,L({source:"auto"})},[f.lat,f.lng,p]),y.useEffect(()=>{(async()=>{try{await X5(W5(xb(Lb,"aqi_readings"),q5(1))),T("connected")}catch($){console.warn("DB check failed",$),T("error")}})()},[]);const M=y.useMemo(()=>n===null?{label:"Pending",detail:"Fetch AQI to see status",color:"#475569"}:n<=50?{label:"Healthy",detail:"Air is clean  stay active",color:"#16a34a"}:n<=100?{label:"Moderate",detail:"Sensitive groups take light caution",color:"#f59e0b"}:n<=150?{label:"Caution",detail:"Sensitive groups reduce outdoor time",color:"#ea580c"}:n<=200?{label:"Unhealthy",detail:"Avoid outdoor exertion; use N95",color:"#dc2626"}:n<=300?{label:"Very Unhealthy",detail:"Stay indoors; mechanical ventilation",color:"#7c3aed"}:{label:"Hazardous",detail:"Shelter indoors; seal windows; use N95",color:"#334155"},[n]),O=y.useMemo(()=>{if(n===null)return null;const I=q=>Math.max(0,Math.min(100,q)),$=n||0;return{labels:["Respiratory","Cardio","Eyes","Fatigue"],datasets:[{label:"Risk level",data:[I($),I($-20),I($-30),I($-40)].map(q=>Math.round(q/300*100)),backgroundColor:["#ef4444","#f59e0b","#3b82f6","#8b5cf6"],borderRadius:8}]}},[n]);return se.jsxs("div",{className:"page",children:[se.jsx("h1",{className:"title",children:" Live AQI Dashboard"}),se.jsxs("div",{className:"controls",children:[se.jsx("input",{type:"text",value:t,onChange:I=>e(I.target.value),placeholder:"Enter city name",className:"input"}),se.jsx("button",{onClick:L,className:"button",children:"Check AQI"}),se.jsx("button",{onClick:x,className:"button ghost",children:E==="granted"?"Notifications On":"Enable Alerts"})]}),se.jsxs("div",{className:"info-row",children:[se.jsxs("div",{className:"card small",children:[se.jsx("div",{className:"label",children:"Location"}),se.jsxs("div",{className:"value",children:[f.lat.toFixed(4),", ",f.lng.toFixed(4)]}),se.jsxs("div",{className:"subtle",children:["Status: ",p]})]}),se.jsxs("div",{className:"card small",children:[se.jsx("div",{className:"label",children:"Health Tracker"}),se.jsxs("div",{className:"value row",children:[se.jsx("span",{className:"pill",style:{background:M.color+"1a",color:M.color},children:M.label}),se.jsx("span",{children:M.detail})]}),se.jsxs("div",{className:"subtle",children:["Notifications: ",E]})]}),se.jsxs("div",{className:"card small",children:[se.jsx("div",{className:"label",children:"Database"}),se.jsx("div",{className:"value",children:_==="connected"?"Connected":_==="error"?"Error":"Checking..."}),_==="error"&&se.jsx("div",{className:"subtle",children:"Check Firebase rules/keys"})]})]}),se.jsx("div",{className:"map-card",children:se.jsx("div",{className:"map-placeholder",children:"Add VITE_GOOGLE_MAPS_API_KEY in a .env file to see Google Maps."})}),n!==null&&se.jsxs(se.Fragment,{children:[se.jsxs("div",{className:"card",style:{borderTop:`8px solid ${c}`},children:[se.jsx("div",{className:"aqi",style:{color:c},children:n}),se.jsx("div",{className:"advice",children:s}),se.jsx("div",{className:"prevention",children:o})]}),se.jsx("div",{className:"chart-card",children:l&&se.jsx(eN,{data:l,options:{responsive:!0,plugins:{legend:{display:!1}}}})}),O&&se.jsxs("div",{className:"chart-card",children:[se.jsxs("div",{className:"card-header",children:[se.jsx("div",{className:"label",children:"Health risk when AQI is high"}),se.jsx("div",{className:"subtle",children:"Auto-adjusts based on current AQI"})]}),se.jsx(tN,{data:O,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:I=>`${I}%`}}}}})]}),se.jsxs("div",{className:"card list-card",children:[se.jsx("div",{className:"label",children:"Diseases & prevention"}),se.jsx("div",{className:"disease-list",children:P.map(I=>se.jsxs("div",{className:"disease-item",children:[se.jsx("div",{className:"disease-name",children:I.name}),se.jsx("div",{className:"disease-prevention",children:I.prevention})]},I.name))})]})]})]})}zf.createRoot(document.getElementById("root")).render(se.jsx(nP.StrictMode,{children:se.jsx(r3,{})}));
